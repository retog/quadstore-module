window.__MODULE_DEFAULT_EXPORT__=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=45)}([function(e,t,r){"use strict";var n=r(6),i=r(16);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=u(i.toString(16))}return r},t.zero2=a,t.zero8=u,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,u=t;a<s.length;a++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=c>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,c){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+a>>>0)<a?1:0,e+r+i+s+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,c){return t+n+o+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(47),i=r(48),o=r(49);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return q(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var d=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){d=!1;break}if(d)return o}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function v(e,t,r,n){return U(F(t,e.length-r),e,r,n)}function w(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return w(e,t,r,n)}function j(e,t,r,n){return U(Q(t),e,r,n)}function T(e,t,r,n){return U(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),d=0;d<a;++d)if(c[d]!==l[d]){o=c[d],s=l[d];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return O(this,e,t,r);case"base64":return j(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function q(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=C(e[o]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function k(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||k(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,o){return o||k(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:F(new u(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function C(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingComparator=t.getQuadComparator=t.getTermComparator=t.separator=t.boundary=t.emptyObject=t.emptyArray=t.pFromCallback=t.consumeOneByOne=t.consumeInBatches=t.defaultIndexes=t.waitForEvent=t.resolveOnEvent=t.streamToArray=t.isObject=t.termNames=t.nanoid=t.pReduce=t.flatMap=void 0;const n=r(9);var i=r(52);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return i.flatMap}});var o=r(53);Object.defineProperty(t,"pReduce",{enumerable:!0,get:function(){return o.pReduce}});var s=r(95);Object.defineProperty(t,"nanoid",{enumerable:!0,get:function(){return s.nanoid}}),t.termNames=["subject","predicate","object","graph"];t.isObject=e=>"object"==typeof e&&null!==e;t.streamToArray=e=>new Promise((t,r)=>{const n=[],i=e=>{n.push(e)},o=()=>{e.removeListener("data",i),e.removeListener("error",s),t(n)},s=t=>{e.removeListener("data",i),e.removeListener("end",o),e.destroy(),r(t)};e.once("error",s),e.once("end",o),e.on("data",i)});t.resolveOnEvent=(e,t,r)=>new Promise((n,i)=>{const o=t=>{e.removeListener("error",s),n(t)},s=r=>{e.removeListener(t,o),i(r)};e.once(t,o),r&&e.once("error",s)}),t.waitForEvent=t.resolveOnEvent,t.defaultIndexes=[["subject","predicate","object","graph"],["object","graph","subject","predicate"],["graph","subject","predicate","object"],["subject","object","predicate","graph"],["predicate","object","graph","subject"],["graph","predicate","object","subject"]];class a extends n.TransformIterator{constructor(e,t,r){super(e);let n=0;const i=new Array(t);this._transform=(e,o)=>{i[n++]=e,n<t?o():(n=0,r(i).then(o.bind(null,null)).catch(o))},this._flush=e=>{0!==n?r(i.slice(0,n)).then(e.bind(null,null)).catch(e):e()}}}t.consumeInBatches=async(e,t,r)=>new Promise((n,i)=>{new a(e,t,r).on("end",n).on("error",i)});t.consumeOneByOne=async(e,t)=>new Promise((r,n)=>{let i=!1,o=!1,s=!1;const a=()=>{s=!1,o=!1;const u=e.read();null!==u?(s=!0,Promise.resolve(t(u)).then(a).catch(n)):i?r():(o=!0,e.once("readable",a))};e.once("end",()=>{i=!0,o&&(e.removeListener("readable",a),r()),s||r()}),a()});t.pFromCallback=e=>new Promise((t,r)=>{e((e,n)=>{e?r(e):t(n)})}),t.emptyArray=[],t.emptyObject={},t.boundary="􏿿",t.separator="\0\0";t.getTermComparator=()=>(e,t)=>{if(e.termType!==t.termType)return e.termType<t.termType?-1:1;if("Literal"!==e.termType||"Literal"!==t.termType)return e.value<t.value?-1:e.value===t.value?0:1;if(e.language||t.language)return e.language?t.language?e.language<t.language?-1:e.language===t.language?0:1:1:-1;if(e.datatype||t.datatype){if(!e.datatype)return-1;if(!t.datatype)return 1;if(e.datatype.value!==t.datatype.value)return e.datatype.value<t.datatype.value?-1:1}return e.value<t.value?-1:e.value===t.value?0:1};t.getQuadComparator=(e=t.termNames)=>{const r=t.getTermComparator();return(t,n)=>{for(let i,o=0,s=e.length;o<s;o+=1)if(i=r(t[e[o]],n[e[o]]),0!==i)return i;return 0}};t.getBindingComparator=(e=t.termNames)=>{const r=t.getTermComparator();return(t,n)=>{for(let i,o=0,s=e.length;o<s;o+=1)if(i=r(t[e[o]],n[e[o]]),0!==i)return i;return 0}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(25),t),i(r(58),t),i(r(26),t),i(r(27),t),i(r(14),t),i(r(28),t),i(r(29),t)},function(e,t,r){var n=r(74).Parser,i=r(78),o=r(37).Wildcard,{DataFactory:s}=r(4);e.exports={Parser:function({prefixes:e,baseIRI:t,factory:r,sparqlStar:i,skipValidation:o,skipUngroupedVariableCheck:a}={}){var u={};for(var c in e||{})u[c]=e[c];var l=new n;return l.parse=function(){return n.base=t||"",n.prefixes=Object.create(u),n.factory=r||new s,n.sparqlStar=Boolean(i),n.skipValidation=Boolean(o)||Boolean(a),n.prototype.parse.apply(l,arguments)},l._resetBlanks=n._resetBlanks,l},Generator:i,Wildcard:o}},function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},function(e,t,r){"use strict";var n=r(0),i=r(6);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultType=void 0,function(e){e.VOID="void",e.QUADS="quads",e.BOOLEAN="boolean",e.BINDINGS="bindings",e.APPROXIMATE_SIZE="approximate_size"}(t.ResultType||(t.ResultType={}))},function(e,t,r){"use strict";r.r(t),r.d(t,"scheduleTask",(function(){return s})),r.d(t,"getTaskScheduler",(function(){return a})),r.d(t,"setTaskScheduler",(function(){return u})),r.d(t,"INIT",(function(){return c})),r.d(t,"OPEN",(function(){return l})),r.d(t,"CLOSING",(function(){return d})),r.d(t,"CLOSED",(function(){return p})),r.d(t,"ENDED",(function(){return h})),r.d(t,"DESTROYED",(function(){return f})),r.d(t,"AsyncIterator",(function(){return m})),r.d(t,"EmptyIterator",(function(){return _})),r.d(t,"SingletonIterator",(function(){return v})),r.d(t,"ArrayIterator",(function(){return w})),r.d(t,"IntegerIterator",(function(){return O})),r.d(t,"BufferedIterator",(function(){return j})),r.d(t,"TransformIterator",(function(){return T})),r.d(t,"SimpleTransformIterator",(function(){return A})),r.d(t,"MultiTransformIterator",(function(){return q})),r.d(t,"UnionIterator",(function(){return P})),r.d(t,"ClonedIterator",(function(){return I})),r.d(t,"wrap",(function(){return D})),r.d(t,"empty",(function(){return k})),r.d(t,"single",(function(){return L})),r.d(t,"fromArray",(function(){return M})),r.d(t,"union",(function(){return B})),r.d(t,"range",(function(){return C}));var n=r(18),i=r(42);let o=Object(i.a)();function s(e){o(e)}function a(){return o}function u(e){o=e}const c=1,l=2,d=4,p=8,h=16,f=32;class m extends n.EventEmitter{constructor(e=l){super(),this._readable=!1,this._state=e,this.on("newListener",y)}_changeState(e,t=!1){const r=e>this._state&&this._state<h;return r&&(this._state=e,e===h&&(t?o(()=>this.emit("end")):this.emit("end"))),r}read(){return null}forEach(e,t){this.on("data",t?e.bind(t):e)}close(){this._changeState(p)&&this._endAsync()}destroy(e){this.done||this._destroy(e,t=>{(e=e||t)&&this.emit("error",e),this._end(!0)})}_destroy(e,t){t()}_end(e=!1){this._changeState(e?f:h)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){o(()=>this._end())}get readable(){return this._readable}set readable(e){e=Boolean(e)&&!this.done,this._readable!==e&&(this._readable=e,e&&o(()=>this.emit("readable")))}get closed(){return this._state>=d}get ended(){return this._state===h}get destroyed(){return this._state===f}get done(){return this._state>=h}toString(){const e=this._toStringDetails();return`[${this.constructor.name}${e?" "+e:""}]`}_toStringDetails(){return""}getProperty(e,t){const r=this._properties;if(!t)return r&&r[e];if(r&&e in r)o(()=>t(r[e]));else{let r;(r=this._propertyCallbacks)||(this._propertyCallbacks=r=Object.create(null)),e in r?r[e].push(t):r[e]=[t]}}setProperty(e,t){(this._properties||(this._properties=Object.create(null)))[e]=t;const r=this._propertyCallbacks||{},n=r[e];if(n){for(e in delete r[e],o(()=>{for(const e of n)e(t)}),r)return;delete this._propertyCallbacks}}getProperties(){const e=this._properties,t={};for(const r in e)t[r]=e[r];return t}setProperties(e){for(const t in e)this.setProperty(t,e[t])}copyProperties(e,t){for(const r of t)e.getProperty(r,e=>this.setProperty(r,e))}transform(e){return new A(this,e)}map(e,t){return this.transform({map:t?e.bind(t):e})}filter(e,t){return this.transform({filter:t?e.bind(t):e})}prepend(e){return this.transform({prepend:e})}append(e){return this.transform({append:e})}surround(e,t){return this.transform({prepend:e,append:t})}skip(e){return this.transform({offset:e})}take(e){return this.transform({limit:e})}range(e,t){return this.transform({offset:e,limit:Math.max(t-e+1,0)})}clone(){return new I(this)}}function y(e){"data"===e&&(this.removeListener("newListener",y),b(this,"readable",g),this.readable&&o(()=>g.call(this)))}function g(){let e;for(;0!==this.listenerCount("data")&&null!==(e=this.read());)this.emit("data",e);0!==this.listenerCount("data")||this.done||(this.removeListener("readable",g),b(this,"newListener",y))}function b(e,t,r){e.listeners(t).includes(r)||e.on(t,r)}class _ extends m{constructor(){super(),this._changeState(h,!0)}}class v extends m{constructor(e){super(),this._item=e,null===e?this.close():this.readable=!0}read(){const e=this._item;return this._item=null,this.close(),e}_toStringDetails(){return null===this._item?"":`(${this._item})`}}class w extends m{constructor(e,{autoStart:t=!0}={}){super();const r=e?[...e]:[];this._sourceStarted=!1!==t,this._sourceStarted&&0===r.length?this.close():this._buffer=r,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let e=null;const t=this._buffer;return t&&(0!==t.length&&(e=t.shift()),0===t.length&&(delete this._buffer,this.close())),e}_toStringDetails(){return`(${this._buffer&&this._buffer.length||0})`}_destroy(e,t){delete this._buffer,t()}}class O extends m{constructor({start:e=0,step:t=1,end:r}={}){super(),Number.isFinite(e)&&(e=Math.trunc(e)),this._next=e,Number.isFinite(t)&&(t=Math.trunc(t)),this._step=t;const n=t>=0,i=n?1/0:-1/0;Number.isFinite(r)?r=Math.trunc(r):r!==-i&&(r=i),this._last=r,!Number.isFinite(e)||(n?e>r:e<r)?this.close():this.readable=!0}read(){if(this.closed)return null;const e=this._next,t=this._step,r=this._last,n=this._next+=t;return(t>=0?n>r:n<r)&&this.close(),e}_toStringDetails(){return`(${this._next}...${this._last})`}}class j extends m{constructor({maxBufferSize:e=4,autoStart:t=!0}={}){super(c),this._buffer=[],this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=e,o(()=>this._init(t)),this._sourceStarted=!1!==t}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(e){e!==1/0&&(e=Number.isFinite(e)?Math.max(Math.trunc(e),1):4),this._maxBufferSize!==e&&(this._maxBufferSize=e,this._state===l&&this._fillBuffer())}_init(e){let t=!1;this._reading=!0,this._begin(()=>{if(t)throw new Error("done callback called multiple times");t=!0,this._reading=!1,this._changeState(l),e?this._fillBufferAsync():this.readable=!0})}_begin(e){e()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const e=this._buffer;let t;return 0!==e.length?t=e.shift():(t=null,this.readable=!1),!this._reading&&e.length<this._maxBufferSize&&(this.closed?e.length||this._endAsync():this._fillBufferAsync()),t}_read(e,t){t()}_push(e){this.done||(this._pushedCount++,this._buffer.push(e),this.readable=!0)}_fillBuffer(){let e;this._reading||(this.closed?this._completeClose():(e=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(e,()=>{if(!e)throw new Error("done callback called multiple times");e=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,o(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(d):this._completeClose()}_completeClose(){this._changeState(p)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.length||this._endAsync()}))}_destroy(e,t){this._buffer=[],t()}_flush(e){e()}_toStringDetails(){const e=this._buffer,{length:t}=e;return`{${t?`next: ${e[0]}, `:""}buffer: ${t}}`}}class T extends j{constructor(e,t=e||{}){super(t),this._boundPush=e=>this._push(e),V(e)||(e=t.source),Q(e)?this.source=e:e&&(this._createSource=U(e)?()=>e:e,this._sourceStarted&&this._loadSourceAsync()),this._optional=Boolean(t.optional),this._destroySource=!1!==t.destroySource}get source(){return F(this._createSource)&&this._loadSourceAsync(),this._source}set source(e){const t=this._source=this._validateSource(e);t._destination=this,t.done?this.close():(t.on("end",x),t.on("readable",E),t.on("error",S))}_loadSourceAsync(){F(this._createSource)&&(Promise.resolve(this._createSource()).then(e=>{delete this._createSource,this.source=e,this._fillBuffer()},e=>this.emit("error",e)),this._createSource=null)}_validateSource(e,t=!1){if(this._source||void 0!==this._createSource)throw new Error("The source cannot be changed after it has been set");if(!e||!F(e.read)||!F(e.on))throw new Error("Invalid source: "+e);if(!t&&e._destination)throw new Error("The source already has a destination");return e}_read(e,t){const r=()=>{this._pushedCount<e&&!this.closed?o(()=>this._readAndTransform(r,t)):t()};this._readAndTransform(r,t)}_readAndTransform(e,t){let r;const n=this.source;!n||n.done||null===(r=n.read())?t():this._optional?this._optionalTransform(r,e):this._transform(r,e,this._boundPush)}_optionalTransform(e,t){const r=this._pushedCount;this._transform(e,()=>{r===this._pushedCount&&this._push(e),t()},this._boundPush)}_transform(e,t,r){r(e),t()}_closeWhenDone(){this.close()}_end(e){const t=this._source;t&&(t.removeListener("end",x),t.removeListener("error",S),t.removeListener("readable",E),delete t._destination,this._destroySource&&t.destroy()),super._end(e)}}function S(e){this._destination.emit("error",e)}function x(){this._destination._closeWhenDone()}function E(){!1!==this._destination._sourceStarted&&this._destination._fillBuffer()}class A extends T{constructor(e,t){if(super(e,t),this._offset=0,this._limit=1/0,this._filter=e=>!0,t=t||(V(e)?null:e)){const e=F(t)?t:t.transform,{limit:r,offset:n,filter:i,map:o,prepend:s,append:a}=t;n===1/0||r===-1/0?this._limit=0:(Number.isFinite(n)&&(this._offset=Math.max(Math.trunc(n),0)),Number.isFinite(r)&&(this._limit=Math.max(Math.trunc(r),0)),F(i)&&(this._filter=i),F(o)&&(this._map=o),this._transform=F(e)?e:null),s&&(this._prepender=Q(s)?s:M(s)),a&&(this._appender=Q(a)?a:M(a))}}_read(e,t){const r=()=>this._readAndTransformSimple(e,n,t);function n(){o(r)}this._readAndTransformSimple(e,n,t)}_readAndTransformSimple(e,t,r){let n;const{source:i}=this;if(i&&!i.done){for(0===this._limit&&this.close();!this.closed&&this._pushedCount<e&&null!==(n=i.read());){if(!this._filter(n)||0!==this._offset&&this._offset--)continue;const e=void 0===this._map?n:this._map(n);if(null===e)this._optional&&this._push(n);else{if(F(this._transform))return void(this._optional?this._optionalTransform(e,t):this._transform(e,t,this._boundPush));this._push(e)}0==--this._limit&&this.close()}r()}else r()}_begin(e){this._insert(this._prepender,e),delete this._prepender}_flush(e){this._insert(this._appender,e),delete this._appender}_insert(e,t){const r=e=>this._push(e);!e||e.done?t():(e.on("data",r),e.on("end",(function n(){e.removeListener("data",r),e.removeListener("end",n),t()})))}}class q extends T{constructor(e,t){if(super(e,t),this._transformerQueue=[],t){const e=F(t)?t:t.multiTransform;e&&(this._createTransformer=e)}}_read(e,t){const r=this._transformerQueue,n=this._optional;let i,o;for(;(i=r[0])&&i.transformer.done;){n&&null!==i.item&&(e--,this._push(i.item)),r.shift();const{transformer:t}=i;t.removeListener("end",E),t.removeListener("readable",E),t.removeListener("error",S)}const{source:s}=this;for(;s&&!s.done&&r.length<this.maxBufferSize&&(o=s.read(),null!==o);){const e=this._createTransformer(o)||new _;e._destination=this,e.on("end",E),e.on("readable",E),e.on("error",S),r.push({transformer:e,item:o})}if(i=r[0],i){const{transformer:t}=i;for(;e-- >0&&null!==(o=t.read());)this._push(o),n&&(i.item=null)}else s&&s.done&&this.close();t()}_createTransformer(e){return new v(e)}_closeWhenDone(){this._transformerQueue.length||this.close()}}class P extends j{constructor(e,t={}){super(t),this._sources=[],this._currentSource=-1;const r=!1!==t.autoStart;if(Q(e))e.on("error",e=>this.emit("error",e)),this._pending={sources:e},r&&this._loadSources();else if(Array.isArray(e)&&e.length>0)for(const t of e)this._addSource(t);else r&&this.close()}_loadSources(){const e=this._pending.sources;delete this._pending.sources,e.done?(delete this._pending,this.close()):(e.on("data",e=>{this._addSource(e),this._fillBufferAsync()}),e.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(e){e.done||(this._sources.push(e),e._destination=this,e.on("error",S),e.on("readable",E),e.on("end",R))}_removeEmptySources(){this._sources=this._sources.filter((e,t)=>(e.done&&t<=this._currentSource&&this._currentSource--,!e.done)),this._fillBuffer()}_read(e,t){var r;(null===(r=this._pending)||void 0===r?void 0:r.sources)&&this._loadSources();let n,i=0;for(;i!==(i=e);)for(let t=0;t<this._sources.length&&e>0;t++){this._currentSource=(this._currentSource+1)%this._sources.length;null!==(n=this._sources[this._currentSource].read())&&(e--,this._push(n))}this._pending||0!==this._sources.length||this.close(),t()}}function R(){this._destination._removeEmptySources()}class I extends T{constructor(e){super(e,{autoStart:!1}),this._readPosition=0,this._reading=!1}_init(){}close(){m.prototype.close.call(this)}get source(){return super.source}set source(e){const t=this._source=this._validateSource(e),r=t&&t._destination||(t._destination=new N(t));r.endsAt(0)?this.close():(r.register(this),!1!==t._sourceStarted&&null===r.readAt(0)||(this.readable=!0));const n=this._propertyCallbacks;for(const e in n){const t=n[e];for(const r of t)this._getSourceProperty(e,r)}}_validateSource(e,t=!1){const r=e&&e._destination;return super._validateSource(e,!r||r instanceof N)}getProperty(e,t){const{source:r}=this,n=this._properties,i=n&&e in n;if(!t)return i?n&&n[e]:r&&r.getProperty(e);super.getProperty(e,t),r&&!i&&this._getSourceProperty(e,t)}_getSourceProperty(e,t){this.source.getProperty(e,r=>{this._properties&&e in this._properties||t(r)})}getProperties(){const e=this.source?this.source.getProperties():{},t=this._properties;for(const r in t)e[r]=t[r];return e}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const e=this.source;let t=null;if(!this.done&&e){const r=e._destination;null!==(t=r.readAt(this._readPosition))?this._readPosition++:this.readable=!1,r.endsAt(this._readPosition)&&this.close()}return t}_end(e){const t=this.source,r=null==t?void 0:t._destination;r&&r.unregister(this),j.prototype._end.call(this,e)}}class N{constructor(e){if(this._clones=null,this._history=[],this._source=e,!e.done){const t=()=>{for(const e of this._clones)e.readable=!0},r=e=>{for(const t of this._clones)t.emit("error",e)},n=()=>{for(const e of this._clones)!1!==e._sourceStarted&&e._readPosition===this._history.length&&e.close();this._clones=null,e.removeListener("end",n),e.removeListener("error",r),e.removeListener("readable",t)};this._clones=[],e.on("end",n),e.on("error",r),e.on("readable",t)}}register(e){null!==this._clones&&this._clones.push(e)}unregister(e){null!==this._clones&&(this._clones=this._clones.filter(t=>t!==e))}readAt(e){let t=null;return e<this._history.length?t=this._history[e]:this._source.done||null===(t=this._source.read())||(this._history[e]=t),t}endsAt(e){return this._source.done&&this._history.length===e}}function D(e,t){return new T(e,t)}function k(){return new _}function L(e){return new v(e)}function M(e){return new w(e)}function B(e){return new P(e)}function C(e,t,r){return new O({start:e,end:t,step:r})}function F(e){return"function"==typeof e}function Q(e){return e&&"function"==typeof e.on}function U(e){return e&&"function"==typeof e.then}function V(e){return e&&(Q(e)||U(e)||F(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,t.types=Object.freeze({ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath",COMPOSITE_UPDATE:"compositeupdate",DELETE_INSERT:"deleteinsert",LOAD:"load",CLEAR:"clear",CREATE:"create",DROP:"drop",ADD:"add",MOVE:"move",COPY:"copy"}),t.expressionTypes=Object.freeze({AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term",WILDCARD:"wildcard"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(12),o=r(5).Wildcard;t.default=class{constructor(e){this.dataFactory=e||new n.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:"alt",left:e,right:t}}createAsk(e){return{type:"ask",input:e}}createBoundAggregate(e,t,r,n,i){let o=this.createAggregateExpression(t,r,n,i);return o.variable=e,o}createBgp(e){return{type:"bgp",patterns:e}}createConstruct(e,t){return{type:"construct",input:e,template:t}}createDescribe(e,t){return{type:"describe",input:e,terms:t}}createDistinct(e){return{type:"distinct",input:e}}createExtend(e,t,r){return{type:"extend",input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:"from",input:e,default:t,named:r}}createFilter(e,t){return{type:"filter",input:e,expression:t}}createGraph(e,t){return{type:"graph",input:e,name:t}}createGroup(e,t,r){return{type:"group",input:e,variables:t,aggregates:r}}createInv(e){return{type:"inv",path:e}}createJoin(e,t){return{type:"join",left:e,right:t}}createLeftJoin(e,t,r){return r?{type:"leftjoin",left:e,right:t,expression:r}:{type:"leftjoin",left:e,right:t}}createLink(e){return{type:"link",iri:e}}createMinus(e,t){return{type:"minus",left:e,right:t}}createNps(e){return{type:"nps",iris:e}}createOneOrMorePath(e){return{type:"OneOrMorePath",path:e}}createOrderBy(e,t){return{type:"orderby",input:e,expressions:t}}createPath(e,t,r,n){return n?{type:"path",subject:e,predicate:t,object:r,graph:n}:{type:"path",subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let i=this.dataFactory.quad(e,t,r,n);return i.type="pattern",i}createProject(e,t){return{type:"project",input:e,variables:t}}createReduced(e){return{type:"reduced",input:e}}createSeq(e,t){return{type:"seq",left:e,right:t}}createService(e,t,r){return{type:"service",input:e,name:t,silent:r}}createSlice(e,t,r){return void 0===t&&(t=0),void 0!==r?{type:"slice",input:e,start:t,length:r}:{type:"slice",input:e,start:t}}createUnion(e,t){return{type:"union",left:e,right:t}}createValues(e,t){return{type:"values",variables:e,bindings:t}}createZeroOrMorePath(e){return{type:"ZeroOrMorePath",path:e}}createZeroOrOnePath(e){return{type:"ZeroOrOnePath",path:e}}createAggregateExpression(e,t,r,n){return n?{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,separator:n,distinct:r}:{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:"expression",expressionType:"existence",not:e,input:t}}createNamedExpression(e,t){return{type:"expression",expressionType:"named",name:e,args:t}}createOperatorExpression(e,t){return{type:"expression",expressionType:"operator",operator:e,args:t}}createTermExpression(e){return{type:"expression",expressionType:"term",term:e}}createWildcardExpression(){return{type:"expression",expressionType:"wildcard",wildcard:new o}}createTerm(e){return i.stringToTerm(e,this.dataFactory)}createCompositeUpdate(e){return{type:"compositeupdate",updates:e}}createDeleteInsert(e,t,r){const n={type:"deleteinsert"};return e&&(n.delete=e),t&&(n.insert=t),r&&(n.where=r),n}createLoad(e,t,r){const n={type:"load",source:e};return t&&(n.destination=t),this.addSilent(n,r)}createClear(e,t){return this.addSilent({type:"clear",source:e},t)}createCreate(e,t){return this.addSilent({type:"create",source:e},t)}createDrop(e,t){return this.addSilent({type:"drop",source:e},t)}createAdd(e,t,r){return this.addSilent({type:"add",source:e,destination:t},r)}createMove(e,t,r){return this.addSilent({type:"move",source:e,destination:t},r)}createCopy(e,t,r){return this.addSilent({type:"copy",source:e,destination:t},r)}addSilent(e,t){return t&&(e.silent=t),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r(73);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},function(e,t,r){"use strict";const n=r(32);e.exports=function(e,...t){0===t.length?n(e):n(()=>e(...t))}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10),i=r(11);class o{static flatten(e){return Array.prototype.concat(...e).filter(e=>e)}static inScopeVariables(e){const t=[];function r(e){t.find(t=>e.value===t.value)||t.push(e)}function i(e){"Variable"===e.subject.termType&&r(e.subject),"Variable"===e.predicate.termType&&r(e.predicate),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&i(e.subject),"Quad"===e.predicate.termType&&i(e.predicate),"Quad"===e.object.termType&&i(e.object),"Quad"===e.graph.termType&&i(e.graph)}return o.recurseOperation(e,{[n.types.EXPRESSION]:e=>{let t=e;if("aggregate"===t.expressionType&&t.variable){r(t.variable)}return!0},[n.types.EXTEND]:e=>(r(e.variable),!0),[n.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.GROUP]:e=>(e.variables.forEach(r),!0),[n.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),"Quad"===t.subject.termType&&i(t.subject),"Quad"===t.object.termType&&i(t.object),"Quad"===t.graph.termType&&i(t.graph),!0},[n.types.PATTERN]:e=>(i(e),!0),[n.types.PROJECT]:e=>(e.variables.forEach(r),!1),[n.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.VALUES]:e=>(e.variables.forEach(r),!0)}),t}static recurseOperation(e,t){let r=e,i=!0;if(t[e.type]&&(i=t[e.type](e)),!i)return;let s=e=>o.recurseOperation(e,t);switch(r.type){case n.types.ALT:const e=r;s(e.left),s(e.right);break;case n.types.ASK:s(r.input);break;case n.types.BGP:r.patterns.forEach(s);break;case n.types.CONSTRUCT:const t=r;s(t.input),t.template.map(s);break;case n.types.DESCRIBE:s(r.input);break;case n.types.DISTINCT:s(r.input);break;case n.types.EXPRESSION:const i=r;if(i.expressionType===n.expressionTypes.EXISTENCE){s(i.input)}break;case n.types.EXTEND:const o=r;s(o.input),s(o.expression);break;case n.types.FILTER:const a=r;s(a.input),s(a.expression);break;case n.types.FROM:s(r.input);break;case n.types.GRAPH:s(r.input);break;case n.types.GROUP:const u=r;s(u.input),u.aggregates.forEach(s);break;case n.types.INV:s(r.path);break;case n.types.JOIN:const c=r;s(c.left),s(c.right);break;case n.types.LEFT_JOIN:const l=r;s(l.left),s(l.right),l.expression&&s(l.expression);break;case n.types.LINK:break;case n.types.MINUS:const d=r;s(d.left),s(d.right);break;case n.types.NPS:break;case n.types.ONE_OR_MORE_PATH:s(r.path);break;case n.types.ORDER_BY:const p=r;s(p.input),p.expressions.forEach(s);break;case n.types.PATH:s(r.predicate);break;case n.types.PATTERN:break;case n.types.PROJECT:s(r.input);break;case n.types.REDUCED:s(r.input);break;case n.types.SEQ:const h=r;s(h.left),s(h.right);break;case n.types.SERVICE:s(r.input);break;case n.types.SLICE:s(r.input);break;case n.types.UNION:const f=r;s(f.left),s(f.right);break;case n.types.VALUES:break;case n.types.ZERO_OR_MORE_PATH:s(r.path);break;case n.types.ZERO_OR_ONE_PATH:s(r.path);break;case n.types.COMPOSITE_UPDATE:r.updates.forEach(e=>s(e));break;case n.types.DELETE_INSERT:const m=r;m.delete&&m.delete.forEach(e=>s(e)),m.insert&&m.insert.forEach(e=>s(e)),m.where&&s(m.where);break;case n.types.LOAD:case n.types.CLEAR:case n.types.CREATE:case n.types.DROP:case n.types.ADD:case n.types.MOVE:case n.types.COPY:break;default:throw new Error("Unknown Operation type "+r.type)}}static mapOperation(e,t,r){let s=e,a=!0;if(r=r||new i.default,t[e.type]&&({result:s,recurse:a}=t[e.type](e,r)),!a)return s;let u=e=>o.mapOperation(e,t,r);switch(s.type){case n.types.ALT:const e=s;return r.createAlt(u(e.left),u(e.right));case n.types.ASK:const i=s;return r.createAsk(u(i.input));case n.types.BGP:const a=s;return r.createBgp(a.patterns.map(u));case n.types.CONSTRUCT:const c=s;return r.createConstruct(u(c.input),c.template.map(u));case n.types.DESCRIBE:const l=s;return r.createDescribe(u(l.input),l.terms);case n.types.DISTINCT:const d=s;return r.createDistinct(u(d.input));case n.types.EXPRESSION:const p=s;return o.mapExpression(p,t,r);case n.types.EXTEND:const h=s;return r.createExtend(u(h.input),h.variable,u(h.expression));case n.types.FILTER:const f=s;return r.createFilter(u(f.input),u(f.expression));case n.types.FROM:const m=s;return r.createFrom(u(m.input),[].concat(m.default),[].concat(m.named));case n.types.GRAPH:const y=s;return r.createGraph(u(y.input),y.name);case n.types.GROUP:const g=s;return r.createGroup(u(g.input),[].concat(g.variables),g.aggregates.map(u));case n.types.INV:const b=s;return r.createInv(u(b.path));case n.types.JOIN:const _=s;return r.createJoin(u(_.left),u(_.right));case n.types.LEFT_JOIN:const v=s;return r.createLeftJoin(u(v.left),u(v.right),v.expression?u(v.expression):void 0);case n.types.LINK:const w=s;return r.createLink(w.iri);case n.types.MINUS:const O=s;return r.createMinus(u(O.left),u(O.right));case n.types.NPS:const j=s;return r.createNps([].concat(j.iris));case n.types.ONE_OR_MORE_PATH:const T=s;return r.createOneOrMorePath(u(T.path));case n.types.ORDER_BY:const S=s;return r.createOrderBy(u(S.input),S.expressions.map(u));case n.types.PATH:const x=s;return r.createPath(x.subject,u(x.predicate),x.object,x.graph);case n.types.PATTERN:const E=s;return r.createPattern(E.subject,E.predicate,E.object,E.graph);case n.types.PROJECT:const A=s;return r.createProject(u(A.input),[].concat(A.variables));case n.types.REDUCED:const q=s;return r.createReduced(u(q.input));case n.types.SEQ:const P=s;return r.createSeq(u(P.left),u(P.right));case n.types.SERVICE:const R=s;return r.createService(u(R.input),R.name,R.silent);case n.types.SLICE:const I=s;return r.createSlice(u(I.input),I.start,I.length);case n.types.UNION:const N=s;return r.createUnion(u(N.left),u(N.right));case n.types.VALUES:const D=s;return r.createValues([].concat(D.variables),D.bindings.map(e=>Object.assign({},e)));case n.types.ZERO_OR_MORE_PATH:const k=s;return r.createZeroOrMorePath(u(k.path));case n.types.ZERO_OR_ONE_PATH:const L=s;return r.createZeroOrOnePath(u(L.path));case n.types.COMPOSITE_UPDATE:const M=s;return r.createCompositeUpdate(M.updates.map(u));case n.types.DELETE_INSERT:const B=s;return r.createDeleteInsert(B.delete?B.delete.map(u):void 0,B.insert?B.insert.map(u):void 0,B.where?u(B.where):void 0);case n.types.LOAD:const C=s;return r.createLoad(C.source,C.destination,C.silent);case n.types.CLEAR:const F=s;return r.createClear(F.source,F.silent);case n.types.CREATE:const Q=s;return r.createCreate(Q.source,Q.silent);case n.types.DROP:const U=s;return r.createDrop(U.source,U.silent);case n.types.ADD:const V=s;return r.createAdd(V.source,V.destination);case n.types.MOVE:const z=s;return r.createMove(z.source,z.destination);case n.types.COPY:const G=s;return r.createCopy(G.source,G.destination);default:throw new Error("Unknown Operation type "+s)}}static mapExpression(e,t,r){let i=e=>o.mapOperation(e,t,r);switch(e.expressionType){case n.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,i(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,i(t.expression),t.distinct,t.separator);case n.expressionTypes.EXISTENCE:const o=e;return r.createExistenceExpression(o.not,i(o.input));case n.expressionTypes.NAMED:const s=e;return r.createNamedExpression(s.name,s.args.map(i));case n.expressionTypes.OPERATOR:const a=e;return r.createOperatorExpression(a.operator,a.args.map(i));case n.expressionTypes.TERM:const u=e;return r.createTermExpression(u.term);case n.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error("Unknown Expression type "+e.expressionType)}}static createUniqueVariable(e,t,r){let n=0,i=e;for(;t[i];)i=e+n++;return r.variable(i)}static isTerm(e){return void 0!==e.termType&&"Quad"!==e.termType&&"Wildcard"!==e.termType}static isWildcard(e){return"Wildcard"===e.termType}}t.default=o},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var i,o,s,a;if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=y(u,c);for(r=0;r<c;++r)o(l[r],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LevelIterator=void 0;const n=r(9);class i extends n.BufferedIterator{constructor(e,t){super(),this.mapFn=t,this.level=e,this.levelEnded=!1}_read(e,t){const r=e=>{0!==e?this.level.next((n,i,o)=>{this.onNextValue(n,i,o,e,r,t)}):t()};r(e)}onNextValue(e,t,r,n,i,o){if(e)o(e);else{if(void 0===t&&void 0===r)return this.close(),this.levelEnded=!0,void o();this._push(this.mapFn(t,r)),i(n-1)}}endLevel(e){this.levelEnded?e():this.level.end(t=>{t||(this.levelEnded=!0),e(t)})}_end(e){this.ended||(super._end(e),this.endLevel(e=>{e&&this.emit("error",e)}))}_destroy(e,t){this.destroyed?t():this.endLevel(r=>{r?t(r):super._destroy(e,t)})}}t.LevelIterator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyBuffer=t.sliceBuffer=t.copyBufferIntoBuffer=t.writePattern=t.quadReader=t.quadWriter=void 0;var n=r(55);Object.defineProperty(t,"quadWriter",{enumerable:!0,get:function(){return n.quadWriter}}),Object.defineProperty(t,"quadReader",{enumerable:!0,get:function(){return n.quadReader}});var i=r(56);Object.defineProperty(t,"writePattern",{enumerable:!0,get:function(){return i.writePattern}});var o=r(24);Object.defineProperty(t,"copyBufferIntoBuffer",{enumerable:!0,get:function(){return o.copyBufferIntoBuffer}}),Object.defineProperty(t,"sliceBuffer",{enumerable:!0,get:function(){return o.sliceBuffer}}),Object.defineProperty(t,"copyBuffer",{enumerable:!0,get:function(){return o.copyBuffer}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.positiveInteger=t.unsignedByte=t.unsignedShort=t.unsignedInt=t.unsignedLong=t.nonNegativeInteger=t.byte=t.short=t.int=t.long=t.negativeInteger=t.nonPositiveInteger=t.double=t.decimal=t.integer=t.boolean=t.dateTime=t.string=t.langString=t.rdf=t.xsd=void 0,t.xsd="http://www.w3.org/2001/XMLSchema#",t.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.langString=t.rdf+"langString",t.string=t.xsd+"string",t.dateTime=t.xsd+"dateTime",t.boolean=t.xsd+"boolean",t.integer=t.xsd+"integer",t.decimal=t.xsd+"decimal",t.double=t.xsd+"double",t.nonPositiveInteger=t.xsd+"nonPositiveInteger",t.negativeInteger=t.xsd+"negativeInteger",t.long=t.xsd+"long",t.int=t.xsd+"int",t.short=t.xsd+"short",t.byte=t.xsd+"byte",t.nonNegativeInteger=t.xsd+"nonNegativeInteger",t.unsignedLong=t.xsd+"unsignedLong",t.unsignedInt=t.xsd+"unsignedInt",t.unsignedShort=t.xsd+"unsignedShort",t.unsignedByte=t.xsd+"unsignedByte",t.positiveInteger=t.xsd+"positiveInteger"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;const n=(e,t,r)=>`${e}${t}${r.charAt(0)}${r.slice(2)}`,i=e=>(999-parseInt(e)).toString().padStart(3,"0"),o=e=>(10-parseFloat(e)).toPrecision(17).slice(0,18);t.encode=e=>{const t="number"!=typeof e?parseFloat(e):e;if(0===t)return n(3,"000","0.0000000000000000");const r=(t>0?"+":"")+t.toExponential(16),s=r.charAt(0),a=r.slice(1,19),u=r.charAt(20),c=r.slice(21).padStart(3,"0");switch(`${u}${s}`){case"+-":return n(1,i(c),o(a));case"--":return n(2,c,o(a));case"-+":return n(4,i(c),a);case"++":return n(5,c,a);default:throw new Error(`should not be here - "${u}${s}" "${e}"`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGraphReader=t.defaultGraphWriter=t.numericLiteralReader=t.numericLiteralWriter=t.langStringLiteralReader=t.langStringLiteralWriter=t.stringLiteralReader=t.stringLiteralWriter=t.genericLiteralReader=t.genericLiteralWriter=t.blankNodeReader=t.blankNodeWriter=t.namedNodeReader=t.namedNodeWriter=void 0;const n=r(24);t.namedNodeWriter={writtenValueBytes:2,write(e,t,r,n){const i=n.compactIri(r.value);return e&&e.writeUInt16LE(i.length,t),i}},t.namedNodeReader={readValueBytes:2,readKeyChars:0,read(e,t,r,i,o,s){const a=r.readUInt16LE(i);return this.readKeyChars=a,o.namedNode(s.expandTerm(n.sliceString(e,t,a)))}},t.blankNodeWriter={writtenValueBytes:2,write:(e,t,r)=>(e&&e.writeUInt16LE(r.value.length,t),r.value)},t.blankNodeReader={readValueBytes:2,readKeyChars:0,read(e,t,r,i,o){const s=r.readUInt16LE(i);return this.readKeyChars=s,o.blankNode(n.sliceString(e,t,s))}},t.genericLiteralWriter={writtenValueBytes:4,write:(e,t,r,n)=>(e&&(e.writeUInt16LE(r.value.length,t),e.writeUInt16LE(r.datatype.value.length,t+2)),r.datatype.value+n+r.value)},t.genericLiteralReader={readValueBytes:4,readKeyChars:0,read(e,t,r,i,o,s){const a=r.readUInt16LE(i),u=r.readUInt16LE(i+2);return this.readKeyChars=a+u+s.length,o.literal(n.sliceString(e,t+u+s.length,a),o.namedNode(n.sliceString(e,t,u)))}},t.stringLiteralWriter={writtenValueBytes:2,write:(e,t,r)=>(e&&e.writeUInt16LE(r.value.length,t),r.value)},t.stringLiteralReader={readValueBytes:2,readKeyChars:0,read(e,t,r,i,o){const s=r.readUInt16LE(i);return this.readKeyChars=s,o.literal(n.sliceString(e,t,s))}},t.langStringLiteralWriter={writtenValueBytes:4,write:(e,t,r,n)=>(e&&(e.writeUInt16LE(r.value.length,t),e.writeUInt16LE(r.language.length,t+2)),r.language+n+r.value)},t.langStringLiteralReader={readValueBytes:4,readKeyChars:0,read(e,t,r,i,o,s){const a=r.readUInt16LE(i),u=r.readUInt16LE(i+2);return this.readKeyChars=a+u+s.length,o.literal(n.sliceString(e,t+u+s.length,a),n.sliceString(e,t,u))}},t.numericLiteralWriter={writtenValueBytes:6,write(e,t,r,n,i,o){e&&(e.writeUInt16LE(r.value.length,t),e.writeUInt16LE(r.datatype.value.length,t+2),e.writeUInt16LE(i.length,t+4));let s=i;return o||(s+=n+r.datatype.value+n+r.value),s}},t.numericLiteralReader={readValueBytes:6,readKeyChars:0,read(e,t,r,i,o,s){const a=r.readUInt16LE(i),u=r.readUInt16LE(i+2),c=r.readUInt16LE(i+4);return this.readKeyChars=c+u+a+2*s.length,o.literal(n.sliceString(e,t+c+s.length+u+s.length,a),o.namedNode(n.sliceString(e,t+c+s.length,u)))}},t.defaultGraphWriter={writtenValueBytes:2,write:(e,t,r)=>(e&&e.writeUInt16LE(2,t),"dg")},t.defaultGraphReader={readValueBytes:2,readKeyChars:2,read:(e,t,r,n,i)=>i.defaultGraph()}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.copyBuffer=t.sliceString=t.sliceBuffer=t.copyBufferIntoBuffer=void 0;t.copyBufferIntoBuffer=(e,t,r)=>{e.copy(t,r,0,e.byteLength)};t.sliceBuffer=(e,t,r)=>e.subarray(t,t+r);t.sliceString=(e,t,r)=>e.slice(t,t+r);t.copyBuffer=(t,r,n)=>e.from(t.subarray(r,r+n))}).call(this,r(2).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=n,n.INSTANCE=new n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(14);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"==typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=i.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},function(e,t,r){"use strict";t.AbstractLevelDOWN=r(60),t.AbstractIterator=r(31),t.AbstractChainedBatch=r(33)},function(e,t,r){"use strict";function n(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._ended=!1,this._nexting=!1}n.prototype.next=function(e){let t=this;if(void 0===e)t=new Promise((function(t,r){e=function(e,n,i){e?r(e):void 0===n&&void 0===i?t():t([n,i])}}));else if("function"!=typeof e)throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(e,new Error("cannot call next() after end()")),t):this._nexting?(this._nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(this._nexting=!0,this._next((t,...r)=>{this._nexting=!1,e(t,...r)}),t)},n.prototype._next=function(e){this._nextTick(e)},n.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");e=this.db._serializeKey(e),this._seek(e)},n.prototype._seek=function(e){},n.prototype.end=function(e){let t;if(void 0===e)t=new Promise((function(t,r){e=function(e){e?r(e):t()}}));else if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?(this._nextTick(e,new Error("end() already called on iterator")),t):(this._ended=!0,this._end(e),t)},n.prototype._end=function(e){this._nextTick(e)},n.prototype[Symbol.asyncIterator]=async function*(){try{let e;for(;void 0!==(e=await this.next());)yield e}finally{this._ended||await this.end()}},n.prototype._nextTick=r(15),e.exports=n},function(e,t,r){(function(t){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let r;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:t):e=>(r||(r=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))}).call(this,r(1))},function(e,t,r){"use strict";const n=Object.freeze({});function i(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._operations=[],this._written=!1}i.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},i.prototype.put=function(e,t,r){this._checkWritten();const i=this.db._checkKey(e)||this.db._checkValue(t);if(i)throw i;return e=this.db._serializeKey(e),t=this.db._serializeValue(t),this._put(e,t,null!=r?r:n),this},i.prototype._put=function(e,t,r){this._operations.push({...r,type:"put",key:e,value:t})},i.prototype.del=function(e,t){this._checkWritten();const r=this.db._checkKey(e);if(r)throw r;return e=this.db._serializeKey(e),this._del(e,null!=t?t:n),this},i.prototype._del=function(e,t){this._operations.push({...t,type:"del",key:e})},i.prototype.clear=function(){return this._checkWritten(),this._clear(),this},i.prototype._clear=function(){this._operations=[]},i.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");"object"==typeof e&&null!==e||(e={}),this._written=!0,this._write(e,t)},i.prototype._write=function(e,t){this.db._batch(this._operations,e,t)},i.prototype._nextTick=r(15),e.exports=i},function(e,t,r){"use strict";t.getCallback=function(e,t){return"function"==typeof e?e:t},t.getOptions=function(e){return"object"==typeof e&&null!==e?e:{}}},function(e,t,r){"use strict";const n=r(67),i=Symbol("none");e.exports=function(e){const t=n.lowerBound(e,i),r=n.upperBound(e,i),o=n.lowerBoundExclusive(e,i),s=n.upperBoundExclusive(e,i);return t!==i&&r!==i?IDBKeyRange.bound(t,r,o,s):t!==i?IDBKeyRange.lowerBound(t,o):r!==i?IDBKeyRange.upperBound(r,s):null}},function(e,t,r){"use strict";(function(t){const n=r(2).Buffer,i=function(){if(t.TextDecoder){const e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return s(e).toString()}}(),o=function(){if(t.TextDecoder){const e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return n.from(e).toString()}}();function s(e){const t=n.from(e.buffer);return e.byteLength===e.buffer.byteLength?t:t.slice(e.byteOffset,e.byteOffset+e.byteLength)}e.exports=function(e,t){return e instanceof Uint8Array?t?s(e):i(e):e instanceof ArrayBuffer?t?n.from(e):o(e):t?n.from(String(e)):String(e)}}).call(this,r(1))},function(e,t){class r{constructor(){return n||this}equals(e){return e&&this.termType===e.termType}}Object.defineProperty(r.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(r.prototype,"termType",{enumerable:!0,value:"Wildcard"});var n=new r;e.exports.Wildcard=r},function(e,t,r){"use strict";var n=r(0).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(0),i=r(7),o=r(38),s=r(6),a=n.sum32,u=n.sum32_4,c=n.sum32_5,l=o.ch32,d=o.maj32,p=o.s0_256,h=o.s1_256,f=o.g0_256,m=o.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(b,y),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],g=this.h[3],b=this.h[4],_=this.h[5],v=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var O=c(w,h(b),l(b,_,v),this.k[n],r[n]),j=a(p(i),d(i,o,y));w=v,v=_,_=b,b=a(g,O),g=y,y=o,o=i,i=a(O,j)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],_),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],w)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(0),i=r(7),o=r(6),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,l=n.sum64,d=n.sum64_hi,p=n.sum64_lo,h=n.sum64_4_hi,f=n.sum64_4_lo,m=n.sum64_5_hi,y=n.sum64_5_lo,g=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function v(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function O(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function j(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function T(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function E(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function q(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(_,g),e.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=R(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=A(r[n-30],r[n-29]),c=q(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=h(i,o,s,a,u,c,l,d),r[n+1]=f(i,o,s,a,u,c,l,d)}},_.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],f=this.h[7],g=this.h[8],b=this.h[9],_=this.h[10],A=this.h[11],q=this.h[12],P=this.h[13],R=this.h[14],I=this.h[15];o(this.k.length===r.length);for(var N=0;N<r.length;N+=2){var D=R,k=I,L=x(g,b),M=E(g,b),B=v(g,b,_,A,q),C=w(g,b,_,A,q,P),F=this.k[N],Q=this.k[N+1],U=r[N],V=r[N+1],z=m(D,k,L,M,B,C,F,Q,U,V),G=y(D,k,L,M,B,C,F,Q,U,V);D=T(n,i),k=S(n,i),L=O(n,i,s,a,u),M=j(n,i,s,a,u,c);var H=d(D,k,L,M),X=p(D,k,L,M);R=q,I=P,q=_,P=A,_=g,A=b,g=d(h,f,z,G),b=p(f,f,z,G),h=u,f=c,u=s,c=a,s=n,a=i,n=d(z,G,H,X),i=p(z,G,H,X)}l(this.h,0,n,i),l(this.h,2,s,a),l(this.h,4,u,c),l(this.h,6,h,f),l(this.h,8,g,b),l(this.h,10,_,A),l(this.h,12,q,P),l(this.h,14,R,I)},_.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuadComparator=t.getBindingComparator=t.getTermComparator=t.Quadstore=void 0,i(r(8),t);var o=r(46);Object.defineProperty(t,"Quadstore",{enumerable:!0,get:function(){return o.Quadstore}});var s=r(3);Object.defineProperty(t,"getTermComparator",{enumerable:!0,get:function(){return s.getTermComparator}}),Object.defineProperty(t,"getBindingComparator",{enumerable:!0,get:function(){return s.getBindingComparator}}),Object.defineProperty(t,"getQuadComparator",{enumerable:!0,get:function(){return s.getQuadComparator}})},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i}));const n=Promise.resolve(void 0);function i(){const t="function"==typeof queueMicrotask?queueMicrotask:e=>n.then(e),r="function"==typeof e?e:e=>setTimeout(e,0);let i=0,o=null;return e=>{null!==o?o.push(e):++i<100?t(e):(o=[e],r(()=>{for(const e of o)t(e);o=null,i=0}))}}}).call(this,r(50).setImmediate)},function(e,t,r){"use strict";e.exports=p;const n=r(30).AbstractLevelDOWN,i=r(16),o=r(65),s=r(66),a=r(68),u=r(36),c=r(69),l=r(70),d=r(35);function p(e,t){if(!(this instanceof p))return new p(e,t);if(n.call(this,{bufferKeys:c.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0,getMany:!0}),t=t||{},"string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.prefix=null==t.prefix?"level-js-":t.prefix,this.version=parseInt(t.version||1,10)}i(p,n),p.prototype.type="level-js",p.prototype._open=function(e,t){const r=indexedDB.open(this.prefix+this.location,this.version);r.onerror=function(){t(r.error||new Error("unknown error"))},r.onsuccess=()=>{this.db=r.result,t()},r.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this.location)||t.createObjectStore(this.location)}},p.prototype.store=function(e){return this.db.transaction([this.location],e).objectStore(this.location)},p.prototype.await=function(e,t){const r=e.transaction;r.onabort=function(){t(r.error||new Error("aborted by user"))},r.oncomplete=function(){t(null,e.result)}},p.prototype._get=function(e,t,r){const n=this.store("readonly");let i;try{i=n.get(e)}catch(e){return this._nextTick(r,e)}this.await(i,(function(e,n){return e?r(e):void 0===n?r(new Error("NotFound")):void r(null,u(n,t.asBuffer))}))},p.prototype._getMany=function(e,t,r){const n=t.asBuffer,i=this.store("readonly"),s=e.map(e=>t=>{let r;try{r=i.get(e)}catch(e){return t(e)}r.onsuccess=()=>{const e=r.result;t(null,void 0===e?e:u(e,n))},r.onerror=e=>{e.stopPropagation(),t(r.error)}});o(s,16,r)},p.prototype._del=function(e,t,r){const n=this.store("readwrite");let i;try{i=n.delete(e)}catch(e){return this._nextTick(r,e)}this.await(i,r)},p.prototype._put=function(e,t,r,n){const i=this.store("readwrite");let o;try{o=i.put(t,e)}catch(e){return this._nextTick(n,e)}this.await(o,n)},p.prototype._serializeKey=function(e){return a(e,this.supports.bufferKeys)},p.prototype._serializeValue=function(e){return a(e,!0)},p.prototype._iterator=function(e){return new s(this,this.location,e)},p.prototype._batch=function(e,t,r){if(0===e.length)return this._nextTick(r);const n=this.store("readwrite"),i=n.transaction;let o,s=0;i.onabort=function(){r(o||i.error||new Error("aborted by user"))},i.oncomplete=function(){r()},function t(){const r=e[s++],a=r.key;let u;try{u="del"===r.type?n.delete(a):n.put(r.value,a)}catch(e){return o=e,void i.abort()}s<e.length&&(u.onsuccess=t)}()},p.prototype._clear=function(e,t){let r,n;try{r=d(e)}catch(e){return this._nextTick(t)}if(e.limit>=0)return l(this,this.location,r,e,t);try{const e=this.store("readwrite");n=r?e.delete(r):e.clear()}catch(e){return this._nextTick(t,e)}this.await(n,t)},p.prototype._close=function(e){this.db.close(),this._nextTick(e)},p.prototype.upgrade=function(e){if("open"!==this.status)return this._nextTick(e,new Error("cannot upgrade() before open()"));const t=this.iterator(),r={},n=this;function i(e){if(e)return s(e);t.next(o)}function o(e,t,o){if(e||void 0===t)return s(e);const a=n._serializeKey(u(t,!0)),c=n._serializeValue(u(o,!0));n._batch([{type:"del",key:t},{type:"put",key:a,value:c}],r,i)}function s(r){t.end((function(t){e(r||t)}))}t._deserializeKey=t._deserializeValue=function(e){return e},i()},p.destroy=function(e,t,r){"function"==typeof t&&(r=t,t="level-js-");const n=indexedDB.deleteDatabase(t+e);n.onsuccess=function(){r()},n.onerror=function(e){r(e)}}},function(module,exports,__webpack_require__){(function(process){(()=>{var __cmncwpk_modules__={"./engine.js":(e,t,r)=>{const n=new(r("./node_modules/@comunica/logger-void/index.js").LoggerVoid)(void 0),i=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),o=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),s=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),a=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),u=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),c=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),l=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),d=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),p=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/Bus/RdfUpdateQuads"}),h=new(r("./node_modules/@comunica/core/index.js").BusIndexed)({actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),f=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:o}),m=new(r("./node_modules/@comunica/actor-rdf-join-symmetrichash/index.js").ActorRdfJoinSymmetricHash)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorSymmetricHash",bus:o}),y=new(r("./node_modules/@comunica/actor-rdf-join-nestedloop/index.js").ActorRdfJoinNestedLoop)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorNestedLoop",bus:o}),g=new(r("./node_modules/@comunica/mediator-combine-pipeline/index.js").MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:s}),b=new(r("./node_modules/@comunica/actor-optimize-query-operation-join-bgp/index.js").ActorOptimizeQueryOperationJoinBgp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",bus:s}),_=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:a}),v=new(r("./node_modules/@comunica/actor-sparql-parse-algebra/index.js").ActorSparqlParseAlgebra)({prefixes:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dc:"http://purl.org/dc/terms/",dcterms:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",bus:a}),w=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:u}),O=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypes",name:"df_579_0",bus:u}),j=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypeFormats",name:"df_579_1",bus:u}),T=new(r("./node_modules/@comunica/mediator-combine-pipeline/index.js").MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:c}),S=new(r("./node_modules/@comunica/actor-context-preprocess-source-to-destination/index.js").ActorContextPreprocessSourceToDestination)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myActorContextPreprocessSourceToDestination",bus:c}),x=new(r("./node_modules/@comunica/mediator-all/index.js").MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:l}),E=new(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/index.js").ActorRdfResolveQuadPatternRdfJsSource)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-rdfjs.json#myRdfRdfJsSourceQuadPatternResolver",bus:d}),A=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:d}),q=new(r("./node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/index.js").ActorRdfUpdateQuadsRdfJsStore)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-update-rdfjs.json#myRdfUpdateQuadsRdfJsStore",bus:p}),P=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#mediatorUpdateQuads",bus:p}),R=new(r("./node_modules/@comunica/mediator-number/index.js").MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:h}),I=new(r("./node_modules/@comunica/actor-query-operation-bgp-empty/index.js").ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:h}),N=new(r("./node_modules/@comunica/actor-query-operation-values/index.js").ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:h}),D=new(r("./node_modules/@comunica/actor-rdf-join-multi-smallest/index.js").ActorRdfJoinMultiSmallest)({mediatorJoin:f,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinMultiActor",bus:o}),k=new(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/index.js").ActorRdfResolveQuadPatternFederated)({mediatorResolveQuadPattern:A,skipEmptyPatterns:!1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",bus:d}),L=new(r("./node_modules/@comunica/actor-query-operation-quadpattern/index.js").ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:h}),M=new(r("./node_modules/@comunica/actor-init-sparql/index-browser.js").ActorInitSparql)({mediatorOptimizeQueryOperation:g,mediatorQueryOperation:R,mediatorSparqlParse:_,mediatorSparqlSerialize:w,mediatorSparqlSerializeMediaTypeCombiner:O,mediatorSparqlSerializeMediaTypeFormatCombiner:j,mediatorContextPreprocess:T,mediatorHttpInvalidate:x,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",destination:"@comunica/bus-rdf-update-quads:destination",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",baseIRI:"@comunica/actor-init-sparql:baseIRI",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime",queryTimestamp:"@comunica/actor-init-sparql:queryTimestamp",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",lenient:"@comunica/actor-init-sparql:lenient",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpAuth:"@comunica/bus-http:auth",readOnly:"@comunica/bus-query-operation:readOnly"},name:"urn:comunica:sparqlinit",bus:i});new(r("./node_modules/@comunica/actor-query-operation-path-alt/index.js").ActorQueryOperationPathAlt)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-path-inv/index.js").ActorQueryOperationPathInv)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-path-link/index.js").ActorQueryOperationPathLink)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-path-nps/index.js").ActorQueryOperationPathNps)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-path-one-or-more/index.js").ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-path-seq/index.js").ActorQueryOperationPathSeq)({mediatorJoin:f,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-path-zero-or-more/index.js").ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-path-zero-or-one/index.js").ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-ask/index.js").ActorQueryOperationAsk)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-service/index.js").ActorQueryOperationService)({forceSparqlEndpoint:!1,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-slice/index.js").ActorQueryOperationSlice)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-bgp-single/index.js").ActorQueryOperationBgpSingle)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-bgp-left-deep-smallest/index.js").ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-construct/index.js").ActorQueryOperationConstruct)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-describe-subject/index.js").ActorQueryOperationDescribeSubject)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-distinct-hash/index.js").ActorQueryOperationDistinctHash)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-extend/index.js").ActorQueryOperationExtend)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-reduced-hash/index.js").ActorQueryOperationReducedHash)({cacheSize:100,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-filter-sparqlee/index.js").ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-from-quad/index.js").ActorQueryOperationFromQuad)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-group/index.js").ActorQueryOperationGroup)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myGroupQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-join/index.js").ActorQueryOperationJoin)({mediatorJoin:f,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-leftjoin-left-deep/index.js").ActorQueryOperationLeftJoinLeftDeep)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-orderby-sparqlee/index.js").ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-project/index.js").ActorQueryOperationProject)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-union/index.js").ActorQueryOperationUnion)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-minus/index.js").ActorQueryOperationMinus)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-compositeupdate/index.js").ActorQueryOperationUpdateCompositeUpdate)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myCompositeUpdateOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-deleteinsert/index.js").ActorQueryOperationUpdateDeleteInsert)({mediatorUpdateQuads:P,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myDeleteInsertOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-load/index.js").ActorQueryOperationLoad)({mediatorUpdateQuads:P,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLoadQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-clear/index.js").ActorQueryOperationClear)({mediatorUpdateQuads:P,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myClearQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-drop/index.js").ActorQueryOperationDrop)({mediatorUpdateQuads:P,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDropQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-create/index.js").ActorQueryOperationCreate)({mediatorUpdateQuads:P,mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myCreateQueryOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-add-rewrite/index.js").ActorQueryOperationAddRewrite)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myAddOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-move-rewrite/index.js").ActorQueryOperationMoveRewrite)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myMoveOperator",bus:h}),new(r("./node_modules/@comunica/actor-query-operation-update-copy-rewrite/index.js").ActorQueryOperationCopyRewrite)({mediatorQueryOperation:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myCopyOperator",bus:h});e.exports=M},"./node_modules/@comunica/actor-abstract-bindings-hash/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-abstract-bindings-hash/lib/AbstractBindingsHash.js"),t),i(r("./node_modules/@comunica/actor-abstract-bindings-hash/lib/AbstractFilterHash.js"),t)},"./node_modules/@comunica/actor-abstract-bindings-hash/lib/AbstractBindingsHash.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractBindingsHash=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js");class i extends n.ActorQueryOperationTypedMediated{constructor(e,t){super(e,t)}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t}));return{type:"bindings",bindingsStream:r.bindingsStream.filter(this.newHashFilter()),metadata:r.metadata,variables:r.variables,canContainUndefs:r.canContainUndefs}}}t.AbstractBindingsHash=i},"./node_modules/@comunica/actor-abstract-bindings-hash/lib/AbstractFilterHash.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractFilterHash=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/hash.js/lib/hash.js"),o=r("./node_modules/rdf-string/index.js");class s extends n.ActorQueryOperationTypedMediated{constructor(e,t){super(e,t)}static hash(e){return i.sha1().update(r("./node_modules/canonicalize/lib/canonicalize.js")(e.map(e=>o.termToString(e)))).digest("hex")}}t.AbstractFilterHash=s},"./node_modules/@comunica/actor-abstract-mediatyped/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-abstract-mediatyped/lib/ActorAbstractMediaTyped.js"),t),i(r("./node_modules/@comunica/actor-abstract-mediatyped/lib/ActorAbstractMediaTypedFixed.js"),t)},"./node_modules/@comunica/actor-abstract-mediatyped/lib/ActorAbstractMediaTyped.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractMediaTyped=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}async run(e){if("handle"in e){const t=e;return{handle:await this.runHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.getMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(e){if("handle"in e){const t=e;return{handle:await this.testHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.testMediaType(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.testMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}t.ActorAbstractMediaTyped=i},"./node_modules/@comunica/actor-abstract-mediatyped/lib/ActorAbstractMediaTypedFixed.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractMediaTypedFixed=void 0;const n=r("./node_modules/@comunica/actor-abstract-mediatyped/lib/ActorAbstractMediaTyped.js");class i extends n.ActorAbstractMediaTyped{constructor(e){super(e);const t=this.priorityScale||0===this.priorityScale?this.priorityScale:1;this.mediaTypes&&Object.entries(this.mediaTypes).forEach(([e,r],n)=>{this.mediaTypes[e]=t*r}),this.mediaTypes=Object.freeze(this.mediaTypes),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(e,t,r){if(!(t in this.mediaTypes))throw new Error("Unrecognized media type: "+t);return await this.testHandleChecked(e,r)}async testMediaType(e){return!0}async getMediaTypes(e){return this.mediaTypes}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return this.mediaTypeFormats}}t.ActorAbstractMediaTypedFixed=i},"./node_modules/@comunica/actor-abstract-path/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js"),t)},"./node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractPath=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/core/index.js"),o=r("asynciterator"),s=r("rdf-data-factory"),a=r("./node_modules/rdf-string/index.js"),u=r("sparqlalgebrajs"),c=new s.DataFactory;class l extends n.ActorQueryOperationTypedMediated{constructor(e,t){super(e,"path"),this.predicateType=t}async testOperation(e,t){if(e.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(e,t){return t?!e||e.subject.value!==t&&e.object.value!==t?c.variable(t):this.generateVariable(e,t+"b"):this.generateVariable(e,"b")}async isPathArbitraryLengthDistinct(e,t){return e&&e.get(l.isPathArbitraryLengthDistinctKey)?{context:e=e.set(l.isPathArbitraryLengthDistinctKey,!1),operation:void 0}:{context:e=e?e.set(l.isPathArbitraryLengthDistinctKey,!0):i.ActionContext({[l.isPathArbitraryLengthDistinctKey]:!0}),operation:n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l.FACTORY.createDistinct(t),context:e}))}}async predicateStarGraphVariable(e,t,r,i,s){const u=this.generateVariable(l.FACTORY.createPath(e,r,t,i)),c=l.FACTORY.createUnion(l.FACTORY.createPattern(e,u,t,i),l.FACTORY.createPattern(t,u,e,i)),d=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:s,operation:c})),p=a.termToString(t),h=new Set;return new o.MultiTransformIterator(d.bindingsStream,{multiTransform:t=>{const u=t.get(a.termToString(i));return h.has(a.termToString(u))?new o.EmptyIterator:(h.add(a.termToString(u)),new o.TransformIterator(async()=>{const t=new o.BufferedIterator;return await this.getObjectsPredicateStar(e,r,u,s,{},t,{count:0}),t.transform({transform(e,t,r){r(n.Bindings({[p]:e,[a.termToString(i)]:u})),t()}})},{maxBufferSize:128}))},autoStart:!1})}async getObjectsPredicateStarEval(e,t,r,i,s){if("Variable"===i.termType)return this.predicateStarGraphVariable(e,t,r,i,s);const u=new o.BufferedIterator;return await this.getObjectsPredicateStar(e,r,i,s,{},u,{count:0}),u.transform({transform(e,r,i){i(n.Bindings({[a.termToString(t)]:e})),r()}})}async getObjectsPredicateStar(e,t,r,i,o,s,u){const c=a.termToString(e);if(o[c])return;s._push(e),o[c]=e,u.count++;const d=this.generateVariable(),p=a.termToString(d),h=l.FACTORY.createPath(e,t,d,r),f=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:h,context:i}));f.bindingsStream.on("data",async e=>{const n=e.get(p);await this.getObjectsPredicateStar(n,t,r,i,o,s,u)}),f.bindingsStream.on("end",()=>{0==--u.count&&s.close()})}async getSubjectAndObjectBindingsPredicateStar(e,t,r,i,o,s,u,c,d,p,h){const f=a.termToString(i)+a.termToString(s);if(d[f])return;if(h.count++,d[f]=!0,p._push(n.Bindings({[e]:r,[t]:i})),f in c){const n=await c[f];for(const i of n)await this.getSubjectAndObjectBindingsPredicateStar(e,t,r,i,o,s,u,c,d,p,h);return void(0==--h.count&&p.close())}const m=new Promise(async(f,m)=>{const y=[],g=this.generateVariable(),b=a.termToString(g),_=l.FACTORY.createPath(i,o,g,s),v=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:_,context:u}));v.bindingsStream.on("data",async n=>{const i=n.get(b);y.push(i),await this.getSubjectAndObjectBindingsPredicateStar(e,t,r,i,o,s,u,c,d,p,h)}),v.bindingsStream.on("error",m),v.bindingsStream.on("end",()=>{0==--h.count&&p.close(),f(y)})});c[f]=m}}t.ActorAbstractPath=l,l.FACTORY=new u.Factory,l.isPathArbitraryLengthDistinctKey="isPathArbitraryLengthDistinct"},"./node_modules/@comunica/actor-context-preprocess-source-to-destination/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js"),t)},"./node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_DESTINATION=t.KEY_CONTEXT_SOURCES=t.ActorContextPreprocessSourceToDestination=void 0;const n=r("./node_modules/@comunica/bus-context-preprocess/index.js");class i extends n.ActorContextPreprocess{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.context&&e.context.get(t.KEY_CONTEXT_SOURCES)&&!e.context.get(t.KEY_CONTEXT_DESTINATION)){const r=e.context.get(t.KEY_CONTEXT_SOURCES);if(1===r.length)return{context:e.context.set(t.KEY_CONTEXT_DESTINATION,r[0])}}return e}}t.ActorContextPreprocessSourceToDestination=i,t.KEY_CONTEXT_SOURCES="@comunica/bus-rdf-resolve-quad-pattern:sources",t.KEY_CONTEXT_DESTINATION="@comunica/bus-rdf-update-quads:destination"},"./node_modules/@comunica/actor-http-proxy/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-http-proxy/lib/ActorHttpProxy.js"),t),i(r("./node_modules/@comunica/actor-http-proxy/lib/IProxyHandler.js"),t),i(r("./node_modules/@comunica/actor-http-proxy/lib/ProxyHandlerStatic.js"),t)},"./node_modules/@comunica/actor-http-proxy/lib/ActorHttpProxy.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_HTTPPROXYHANDLER=t.ActorHttpProxy=void 0;const n=r("./node_modules/@comunica/bus-http/index.js"),i=r("./node_modules/@comunica/context-entries/index.js");class o extends n.ActorHttp{constructor(e){super(e)}async test(e){if(!e.context)throw new Error(`Actor ${this.name} could not find a context.`);const t=e.context.get(i.KeysHttpProxy.httpProxyHandler);if(!t)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await t.getProxy(e))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(e){var t;const r="string"==typeof e.input?e.input:e.input.url;if(!e.context)throw new Error("Illegal state: missing context");const n=e.context.get(i.KeysHttpProxy.httpProxyHandler),o=await this.mediatorHttp.mediate(Object.assign(Object.assign({},await n.getProxy(e)),{context:e.context.delete(i.KeysHttpProxy.httpProxyHandler)}));return o.url=null!==(t=o.headers.get("x-final-url"))&&void 0!==t?t:r,o}}t.ActorHttpProxy=o,t.KEY_CONTEXT_HTTPPROXYHANDLER=i.KeysHttpProxy.httpProxyHandler},"./node_modules/@comunica/actor-http-proxy/lib/IProxyHandler.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@comunica/actor-http-proxy/lib/ProxyHandlerStatic.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyHandlerStatic=void 0;t.ProxyHandlerStatic=class{constructor(e){this.prefixUrl=e}async getProxy(e){return{init:e.init,input:this.modifyInput(e.input)}}modifyInput(e){return"string"==typeof e?this.prefixUrl+e:new Request(this.prefixUrl+e.url,e)}}},"./node_modules/@comunica/actor-init-sparql/engine-default.js":(e,t,r)=>{const n=new(r("./node_modules/@comunica/logger-void/index.js").LoggerVoid)(void 0),i=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),o=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/Bus/Http"}),s=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),a=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/Bus/RdfParse"}),u=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference/Bus/RdfDereference"}),c=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/Bus/RdfParseHtml"}),l=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/Bus/RdfSerialize"}),d=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/Bus/RdfUpdateQuads"}),p=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),h=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/Bus/RdfResolveHypermedia"}),f=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/Bus/RdfMetadataExtract"}),m=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/Bus/RdfMetadata"}),y=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/Bus/RdfResolveHypermediaLinks"}),g=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/Bus/RdfResolveHypermediaLinksQueue"}),b=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),_=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),v=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),w=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),O=new(r("./node_modules/@comunica/core/index.js").Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),j=new(r("./node_modules/@comunica/core/index.js").BusIndexed)({actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),T=new(r("./node_modules/@comunica/mediator-number/index.js").MediatorNumber)({field:"time",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#mediatorHttp",bus:o}),S=new(r("./require-empty.js").ActorHttpNative)({agentOptions:'{ "keepAlive": true, "maxSockets": 5 }',name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpFetcher",bus:o}),x=new(r("./require-empty.js").ActionObserverHttp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-sparql-serialize-stats/Actor/SparqlSerialize/Stats/httpObserver/default",bus:o}),E=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:s}),A=new(r("./node_modules/@comunica/actor-rdf-join-symmetrichash/index.js").ActorRdfJoinSymmetricHash)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorSymmetricHash",bus:s}),q=new(r("./node_modules/@comunica/actor-rdf-join-nestedloop/index.js").ActorRdfJoinNestedLoop)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorNestedLoop",bus:s}),P=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseMediatypes",bus:a}),R=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseHandle",bus:a}),I=new(r("./require-empty.js").ActorRdfParseN3)({mediaTypes:{"application/n-quads":"1.0","application/trig":"0.95","application/n-triples":"0.8","text/turtle":"0.6","text/n3":"0.35"},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/trig":"http://www.w3.org/ns/formats/TriG","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","text/turtle":"http://www.w3.org/ns/formats/Turtle","text/n3":"http://www.w3.org/ns/formats/N3"},priorityScale:"1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserN3",bus:a}),N=new(r("./require-empty.js").ActorRdfParseRdfXml)({mediaTypes:{"application/rdf+xml":"1.0"},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:"5.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserRdfXml",bus:a}),D=new(r("./require-empty.js").ActorRdfParseXmlRdfa)({mediaTypes:{"application/xml":"1.0","text/xml":"1.0","image/svg+xml":"1.0"},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:"3.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserXmlRdfa",bus:a}),k=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseMediatypes",bus:a}),L=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseHandle",bus:a}),M=new(r("./node_modules/@comunica/actor-rdf-dereference-fallback/index.js").ActorRdfDereferenceFallback)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencerFallback",bus:u}),B=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfDereference",bus:u}),C=new(r("./require-empty.js").ActorRdfParseHtml)({busRdfParseHtml:c,mediaTypes:{"text/html":"1.0","application/xhtml+xml":"0.9"},mediaTypeFormats:{"text/html":"http://www.w3.org/ns/formats/HTML","application/xhtml+xml":"http://www.w3.org/ns/formats/HTML"},priorityScale:"2.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtml",bus:a}),F=new(r("./node_modules/@comunica/actor-rdf-parse-html-microdata/index.js").ActorRdfParseHtmlMicrodata)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlMicrodata",bus:c}),Q=new(r("./require-empty.js").ActorRdfParseHtmlRdfa)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlRdfa",bus:c}),U=new(r("./require-empty.js").ActorRdfSerializeN3)({mediaTypes:{"application/trig":"1.0","application/n-quads":"0.7","text/turtle":"0.6","application/n-triples":"0.3","text/n3":"0.2"},mediaTypeFormats:{"application/trig":"http://www.w3.org/ns/formats/TriG","application/n-quads":"http://www.w3.org/ns/formats/N-Quads","text/turtle":"http://www.w3.org/ns/formats/Turtle","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","text/n3":"http://www.w3.org/ns/formats/N3"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializerN3",bus:l}),V=new(r("./node_modules/@comunica/actor-rdf-serialize-jsonld/index.js").ActorRdfSerializeJsonLd)({jsonStringifyIndentSpaces:2,mediaTypes:{"application/ld+json":"1.0"},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializeJsonLd",bus:l}),z=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mediatorRdfSerialize",bus:l}),G=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypes",name:"df_717_0",bus:l}),H=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypeFormats",name:"df_717_1",bus:l}),X=new(r("./node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/index.js").ActorRdfUpdateQuadsRdfJsStore)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-update-rdfjs.json#myRdfUpdateQuadsRdfJsStore",bus:d}),$=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#mediatorUpdateQuads",bus:d}),K=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:p}),Y=new(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/index.js").ActorRdfResolveQuadPatternRdfJsSource)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-rdfjs.json#myRdfRdfJsSourceQuadPatternResolver",bus:p}),J=new(r("./require-empty.js").ActorRdfResolveHypermediaNone)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaNoneResolver",bus:h}),W=new(r("./node_modules/@comunica/mediator-number/index.js").MediatorNumber)({field:"filterFactor",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermedia",bus:h}),Z=new(r("./require-empty.js").ActorRdfMetadataExtractSparqlService)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#myRdfMetadataExtractSparqlService",bus:f}),ee=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"metadata",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadataExtract",bus:f}),te=new(r("./require-empty.js").ActorRdfMetadataExtractHydraControls)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraControls",bus:f}),re=new(r("./require-empty.js").ActorRdfMetadataExtractHydraCount)({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraCount",bus:f}),ne=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadata",bus:m}),ie=new(r("./require-empty.js").ActorRdfMetadataPrimaryTopic)({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataPrimaryTopic",bus:m}),oe=new(r("./require-empty.js").ActorRdfMetadataAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataAll",bus:m}),se=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermediaLinks",bus:y}),ae=new(r("./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-next/index.js").ActorRdfResolveHypermediaLinksNext)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaLinksNext",bus:y}),ue=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermediaLinksQueue",bus:g}),ce=new(r("./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-queue-fifo/index.js").ActorRdfResolveHypermediaLinksQueueFifo)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaLinksQueue",bus:g}),le=new(r("./node_modules/@comunica/bus-http-invalidate/index.js").ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/Actor/RdfResolveQuadPattern/Hypermedia/httpInvalidator#default",bus:b}),de=new(r("./node_modules/@comunica/mediator-all/index.js").MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:b}),pe=new(r("./node_modules/@comunica/mediator-combine-pipeline/index.js").MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:_}),he=new(r("./node_modules/@comunica/actor-optimize-query-operation-join-bgp/index.js").ActorOptimizeQueryOperationJoinBgp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",bus:_}),fe=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:v}),me=new(r("./require-empty.js").ActorSparqlParseGraphql)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/graphql-parsers.json#myGraphqlParser",bus:v}),ye=new(r("./node_modules/@comunica/actor-sparql-parse-algebra/index.js").ActorSparqlParseAlgebra)({prefixes:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dc:"http://purl.org/dc/terms/",dcterms:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",bus:v}),ge=new(r("./node_modules/@comunica/mediator-race/index.js").MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:w}),be=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypes",name:"df_703_0",bus:w}),_e=new(r("./node_modules/@comunica/mediator-combine-union/index.js").MediatorCombineUnion)({field:"mediaTypeFormats",name:"df_703_1",bus:w}),ve=new(r("./require-empty.js").ActorSparqlSerializeJson)({mediaTypes:{"application/json":"1.0"},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myJsonSparqlSerializer",bus:w}),we=new(r("./require-empty.js").ActorSparqlSerializeSimple)({mediaTypes:{simple:"0.9"},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySimpleSparqlSerializer",bus:w}),Oe=new(r("./node_modules/@comunica/actor-sparql-serialize-sparql-csv/index.js").ActorSparqlSerializeSparqlCsv)({mediaTypes:{"text/csv":"0.75"},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlCsvSparqlSerializer",bus:w}),je=new(r("./require-empty.js").ActorSparqlSerializeSparqlJson)({mediaTypes:{"application/sparql-results+json":"0.8"},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlJsonSparqlSerializer",bus:w}),Te=new(r("./require-empty.js").ActorSparqlSerializeSparqlTsv)({mediaTypes:{"text/tab-separated-values":"0.75"},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlTsvSparqlSerializer",bus:w}),Se=new(r("./require-empty.js").ActorSparqlSerializeSparqlXml)({mediaTypes:{"application/sparql-results+xml":"0.8"},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlXmlSparqlSerializer",bus:w}),xe=new(r("./require-empty.js").ActorSparqlSerializeTable)({columnWidth:50,mediaTypes:{table:"0.6"},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTableSparqlSerializer",bus:w}),Ee=new(r("./require-empty.js").ActorSparqlSerializeTree)({mediaTypes:{tree:"0.5"},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTreeSparqlSerializer",bus:w}),Ae=new(r("./node_modules/@comunica/mediator-combine-pipeline/index.js").MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:O}),qe=new(r("./node_modules/@comunica/actor-context-preprocess-source-to-destination/index.js").ActorContextPreprocessSourceToDestination)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myActorContextPreprocessSourceToDestination",bus:O}),Pe=new(r("./node_modules/@comunica/mediator-number/index.js").MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:j}),Re=new(r("./node_modules/@comunica/actor-query-operation-bgp-empty/index.js").ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:j}),Ie=new(r("./node_modules/@comunica/actor-query-operation-values/index.js").ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:j}),Ne=new(r("./require-empty.js").ActorRdfParseJsonLd)({mediatorHttp:T,mediaTypes:{"application/ld+json":"1.0","application/json":"0.5"},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD","application/json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserJsonLd",bus:a}),De=new(r("./require-empty.js").ActorRdfResolveHypermediaSparql)({mediatorHttp:T,checkUrlSuffix:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlQuadPatternResolver",bus:h}),ke=new(r("./require-empty.js").ActorQueryOperationSparqlEndpoint)({mediatorHttp:T,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlEndpointResolver",bus:j}),Le=new(r("./require-empty.js").ActorSparqlSerializeStats)({httpObserver:x,mediaTypes:{stats:"0.5"},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myStatsSparqlSerializer",bus:w}),Me=new(r("./node_modules/@comunica/actor-rdf-join-multi-smallest/index.js").ActorRdfJoinMultiSmallest)({mediatorJoin:E,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinMultiActor",bus:s}),Be=new(r("./require-empty.js").ActorRdfParseHtmlScript)({mediatorRdfParseMediatypes:k,mediatorRdfParseHandle:L,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlScript",bus:c}),Ce=new(r("./require-empty.js").ActorSparqlSerializeRdf)({mediatorRdfSerialize:z,mediatorMediaTypeCombiner:G,mediatorMediaTypeFormatCombiner:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myRdfSparqlSerializer",bus:w}),Fe=new(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/index.js").ActorRdfResolveQuadPatternFederated)({mediatorResolveQuadPattern:K,skipEmptyPatterns:!1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",bus:p}),Qe=new(r("./node_modules/@comunica/actor-query-operation-quadpattern/index.js").ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:K,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:j}),Ue=new(r("./require-empty.js").ActorRdfResolveHypermediaQpf)({mediatorMetadata:ne,mediatorMetadataExtract:ee,mediatorRdfDereference:B,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaQpfResolver",bus:h}),Ve=new(r("./require-empty.js").ActorRdfResolveQuadPatternHypermedia)({mediatorRdfDereference:B,mediatorMetadata:ne,mediatorMetadataExtract:ee,mediatorRdfResolveHypermedia:W,mediatorRdfResolveHypermediaLinks:se,mediatorRdfResolveHypermediaLinksQueue:ue,cacheSize:100,httpInvalidator:le,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myQuadPatternHypermediaResolver",bus:p}),ze=new(r("./node_modules/@comunica/actor-http-proxy/index.js").ActorHttpProxy)({mediatorHttp:T,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpProxy",bus:o,beforeActors:[S]}),Ge=new(r("./require-empty.js").ActorHttpMemento)({mediatorHttp:T,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http-memento.json#myHttpFetcher",bus:o,beforeActors:[S]}),He=new(r("./require-empty.js").ActorRdfDereferenceHttpParse)({mediatorHttp:T,mediatorRdfParseMediatypes:P,mediatorRdfParseHandle:R,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,mediaMappings:{ttl:"text/turtle",turtle:"text/turtle",nt:"application/n-triples",ntriples:"application/n-triples",nq:"application/n-quads",nquads:"application/n-quads",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",trig:"application/trig",jsonld:"application/ld+json",json:"application/json",html:"text/html",htm:"text/html",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",svg:"image/svg+xml",svgz:"image/svg+xml"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencer",bus:u,beforeActors:[M]}),Xe=new(r("./node_modules/@comunica/actor-init-sparql/index-browser.js").ActorInitSparql)({mediatorOptimizeQueryOperation:pe,mediatorQueryOperation:Pe,mediatorSparqlParse:fe,mediatorSparqlSerialize:ge,mediatorSparqlSerializeMediaTypeCombiner:be,mediatorSparqlSerializeMediaTypeFormatCombiner:_e,mediatorContextPreprocess:Ae,mediatorHttpInvalidate:de,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",destination:"@comunica/bus-rdf-update-quads:destination",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",baseIRI:"@comunica/actor-init-sparql:baseIRI",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime",queryTimestamp:"@comunica/actor-init-sparql:queryTimestamp",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",lenient:"@comunica/actor-init-sparql:lenient",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpAuth:"@comunica/bus-http:auth",readOnly:"@comunica/bus-query-operation:readOnly"},name:"urn:comunica:sparqlinit",bus:i});new(r("./node_modules/@comunica/actor-query-operation-ask/index.js").ActorQueryOperationAsk)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-service/index.js").ActorQueryOperationService)({forceSparqlEndpoint:!1,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-slice/index.js").ActorQueryOperationSlice)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-bgp-single/index.js").ActorQueryOperationBgpSingle)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-bgp-left-deep-smallest/index.js").ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-construct/index.js").ActorQueryOperationConstruct)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-describe-subject/index.js").ActorQueryOperationDescribeSubject)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-distinct-hash/index.js").ActorQueryOperationDistinctHash)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-extend/index.js").ActorQueryOperationExtend)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-reduced-hash/index.js").ActorQueryOperationReducedHash)({cacheSize:100,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-filter-sparqlee/index.js").ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-from-quad/index.js").ActorQueryOperationFromQuad)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-group/index.js").ActorQueryOperationGroup)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myGroupQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-join/index.js").ActorQueryOperationJoin)({mediatorJoin:E,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-leftjoin-left-deep/index.js").ActorQueryOperationLeftJoinLeftDeep)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-orderby-sparqlee/index.js").ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-project/index.js").ActorQueryOperationProject)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-union/index.js").ActorQueryOperationUnion)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-minus/index.js").ActorQueryOperationMinus)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-alt/index.js").ActorQueryOperationPathAlt)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-inv/index.js").ActorQueryOperationPathInv)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-link/index.js").ActorQueryOperationPathLink)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-nps/index.js").ActorQueryOperationPathNps)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-one-or-more/index.js").ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-seq/index.js").ActorQueryOperationPathSeq)({mediatorJoin:E,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-zero-or-more/index.js").ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-path-zero-or-one/index.js").ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-compositeupdate/index.js").ActorQueryOperationUpdateCompositeUpdate)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myCompositeUpdateOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-deleteinsert/index.js").ActorQueryOperationUpdateDeleteInsert)({mediatorUpdateQuads:$,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myDeleteInsertOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-load/index.js").ActorQueryOperationLoad)({mediatorUpdateQuads:$,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLoadQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-clear/index.js").ActorQueryOperationClear)({mediatorUpdateQuads:$,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myClearQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-drop/index.js").ActorQueryOperationDrop)({mediatorUpdateQuads:$,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDropQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-create/index.js").ActorQueryOperationCreate)({mediatorUpdateQuads:$,mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myCreateQueryOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-add-rewrite/index.js").ActorQueryOperationAddRewrite)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myAddOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-move-rewrite/index.js").ActorQueryOperationMoveRewrite)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myMoveOperator",bus:j}),new(r("./node_modules/@comunica/actor-query-operation-update-copy-rewrite/index.js").ActorQueryOperationCopyRewrite)({mediatorQueryOperation:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-update.json#myCopyOperator",bus:j});e.exports=Xe},"./node_modules/@comunica/actor-init-sparql/index-browser.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateQuery=t.newEngine=t.bindingsStreamToGraphQl=void 0,i(r("./node_modules/@comunica/actor-init-sparql/lib/ActorInitSparql-browser.js"),t);var o=r("./require-empty.js");function s(){return r("./node_modules/@comunica/actor-init-sparql/engine-default.js")}Object.defineProperty(t,"bindingsStreamToGraphQl",{enumerable:!0,get:function(){return o.bindingsStreamToGraphQl}}),t.newEngine=s,t.evaluateQuery=function(e,t){return s().query(e,t)}},"./node_modules/@comunica/actor-init-sparql/lib/ActorInitSparql-browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_QUERY=t.KEY_CONTEXT_LENIENT=t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES=t.KEY_CONTEXT_QUERYFORMAT=t.KEY_CONTEXT_INITIALBINDINGS=t.ActorInitSparql=void 0;const n=r("./node_modules/@comunica/bus-init/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("./node_modules/@comunica/bus-rdf-resolve-quad-pattern/index.js"),s=r("./node_modules/@comunica/context-entries/index.js"),a=r("./node_modules/@comunica/core/index.js"),u=r("sparqlalgebrajs");class c extends n.ActorInit{constructor(e){super(e)}static enhanceQueryResults(e){return e.bindingsStream?e.bindings=()=>new Promise((t,r)=>{const n=[];e.bindingsStream.on("data",e=>{n.push(e)}),e.bindingsStream.on("end",()=>{t(n)}),e.bindingsStream.on("error",r)}):e.quadStream&&(e.quads=()=>new Promise((t,r)=>{const n=[];e.quadStream.on("data",e=>{n.push(e)}),e.quadStream.on("end",()=>{t(n)}),e.quadStream.on("error",r)})),e}async test(e){return!0}async query(e,t){t=t||{};for(const e in t)if(this.contextKeyShortcuts[e]){const r=t[e];t[this.contextKeyShortcuts[e]]=r,delete t[e]}t[s.KeysCore.log]||(t[s.KeysCore.log]=this.logger),t[s.KeysInitSparql.queryTimestamp]||(t[s.KeysInitSparql.queryTimestamp]=new Date),Array.isArray(t[s.KeysRdfResolveQuadPattern.sources])&&t[s.KeysRdfResolveQuadPattern.sources].forEach(e=>{o.isDataSourceRawType(e)||"auto"!==e.type&&"hypermedia"!==e.type||delete e.type});let r,n,u="sparql";if((t=a.ActionContext(t))&&t.has(s.KeysInitSparql.queryFormat)&&(u=t.get(s.KeysInitSparql.queryFormat),t=t.delete(s.KeysInitSparql.queryFormat),"graphql"!==u||t.has(s.KeysInitSparql.graphqlSingularizeVariables)||(t=t.set(s.KeysInitSparql.graphqlSingularizeVariables,{}))),t&&t.has(s.KeysInitSparql.baseIRI)&&(r=t.get(s.KeysInitSparql.baseIRI)),t=(await this.mediatorContextPreprocess.mediate({context:t})).context,"string"==typeof e){const i=await this.mediatorSparqlParse.mediate({context:t,query:e,queryFormat:u,baseIRI:r});n=i.operation,i.baseIRI&&(t=t.set(s.KeysInitSparql.baseIRI,i.baseIRI))}else n=e;if(t.has(s.KeysInitSparql.initialBindings)){const e=t.get(s.KeysInitSparql.initialBindings);n=i.materializeOperation(n,i.ensureBindings(e))}n=(await this.mediatorOptimizeQueryOperation.mediate({context:t,operation:n})).operation;const l={context:t=t.set(s.KeysInitSparql.query,n),operation:n};let d=await this.mediatorQueryOperation.mediate(l);return d=c.enhanceQueryResults(d),d.context=t,d}async getResultMediaTypes(e){return(await this.mediatorSparqlSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return(await this.mediatorSparqlSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,t,r){if(r=a.ActionContext(r),!t)switch(e.type){case"bindings":t="application/json";break;case"quads":t="application/trig";break;default:t="simple"}const n=e;return n.context=r,(await this.mediatorSparqlSerialize.mediate({context:r,handle:n,handleMediaType:t})).handle}invalidateHttpCache(e){return this.mediatorHttpInvalidate.mediate({url:e})}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}t.ActorInitSparql=c,c.ALGEBRA_TYPES=Object.keys(u.Algebra.types).reduce((e,t)=>(e[u.Algebra.types[t]]=!0,e),{}),t.KEY_CONTEXT_INITIALBINDINGS=s.KeysInitSparql.initialBindings,t.KEY_CONTEXT_QUERYFORMAT=s.KeysInitSparql.queryFormat,t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES=s.KeysInitSparql.graphqlSingularizeVariables,t.KEY_CONTEXT_LENIENT=s.KeysInitSparql.lenient,t.KEY_CONTEXT_QUERY=s.KeysInitSparql.query},"./node_modules/@comunica/actor-optimize-query-operation-join-bgp/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js"),t)},"./node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationJoinBgp=void 0;const n=r("./node_modules/@comunica/bus-optimize-query-operation/index.js"),i=r("sparqlalgebrajs");class o extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return!0}async run(e){return{operation:i.Util.mapOperation(e.operation,{join:(e,t)=>"bgp"===e.left.type&&"bgp"===e.right.type?{recurse:!1,result:t.createBgp([...e.left.patterns,...e.right.patterns])}:{recurse:!1,result:e}})}}}t.ActorOptimizeQueryOperationJoinBgp=o},"./node_modules/@comunica/actor-query-operation-ask/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js"),t)},"./node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationAsk=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js");class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=n.ActorQueryOperation.getSafeBindings(r);return{type:"boolean",booleanResult:new Promise((e,t)=>{i.bindingsStream.once("data",()=>{e(!0),i.bindingsStream.close()}),i.bindingsStream.on("end",()=>e(!1)),i.bindingsStream.on("error",t)})}}}t.ActorQueryOperationAsk=i},"./node_modules/@comunica/actor-query-operation-bgp-empty/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-bgp-empty/lib/ActorQueryOperationBgpEmpty.js"),t)},"./node_modules/@comunica/actor-query-operation-bgp-empty/lib/ActorQueryOperationBgpEmpty.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationBgpEmpty=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("asynciterator"),o=r("./node_modules/rdf-string/index.js"),s=r("./node_modules/rdf-terms/index.js");class a extends n.ActorQueryOperationTyped{constructor(e){super(e,"bgp")}static getVariables(e){return s.uniqTerms(e.map(e=>s.getTerms(e).filter(e=>"Variable"===e.termType)).reduce((e,t)=>[...e,...t],[])).map(e=>o.termToString(e))}async testOperation(e,t){if(e.patterns.length>0)throw new Error(`Actor ${this.name} can only operate on empty BGPs.`);return!0}async runOperation(e,t){return{bindingsStream:new i.SingletonIterator(n.Bindings({})),metadata:()=>Promise.resolve({totalItems:1}),type:"bindings",variables:a.getVariables(e.patterns),canContainUndefs:!1}}}t.ActorQueryOperationBgpEmpty=a},"./node_modules/@comunica/actor-query-operation-bgp-left-deep-smallest/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-bgp-left-deep-smallest/lib/ActorQueryOperationBgpLeftDeepSmallest.js"),t)},"./node_modules/@comunica/actor-query-operation-bgp-left-deep-smallest/lib/ActorQueryOperationBgpLeftDeepSmallest.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationBgpLeftDeepSmallest=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/context-entries/index.js"),o=r("asynciterator"),s=r("./node_modules/rdf-string/index.js"),a=r("./node_modules/rdf-terms/index.js");class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}static createLeftDeepStream(e,t,r){return new o.MultiTransformIterator(e,{autoStart:!1,multiTransform(e){const n=t=>t.merge(e);return new o.TransformIterator(async()=>(await r(u.materializePatterns(t,e))).transform({map:n}),{maxBufferSize:128})}})}static getCombinedVariables(e){const t=[].concat.apply([],e.map(e=>e.variables));return[...new Set(t)]}static getSmallestPatternId(e){let t=-1,r=Number.POSITIVE_INFINITY;for(const[n,i]of e.entries()){const e=u.getTotalItems(i);e<=r&&(r=e,t=n)}return t}static estimateCombinedTotalItems(e,t){const r=u.getTotalItems(e);return t.map(e=>r*u.getTotalItems(e)).reduce((e,t)=>e+t,0)}static getTotalItems(e){const{totalItems:t}=null!=e?e:{};return t||0===t?t:Number.POSITIVE_INFINITY}static materializePatterns(e,t){return e.map(e=>u.materializePattern(e,t))}static materializePattern(e,t){const r={};return{pattern:Object.assign(a.mapTerms(e,(e,n)=>{const i=u.materializeTerm(e,t);return e!==i&&(r[n]=e),i}),{type:"pattern",context:e.context}),bindings:r}}static materializeTerm(e,t){if("Variable"===e.termType){const r=t.get(s.termToString(e));if(r)return r}return e}static async hasOneEmptyPatternOutput(e){for(const t of e)if(t.metadata){const e=await t.metadata();if(!u.getTotalItems(e))return!0}return!1}async testOperation(e,t){if(e.patterns.length<2)throw new Error(`Actor ${this.name} can only operate on BGPs with at least two patterns.`);return!0}async runOperation(e,t){const r=(await Promise.all(e.patterns.map(e=>this.mediatorQueryOperation.mediate({operation:e,context:t})))).map(n.ActorQueryOperation.getSafeBindings);if(await u.hasOneEmptyPatternOutput(r))return{bindingsStream:new o.ArrayIterator([],{autoStart:!1}),metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:u.getCombinedVariables(r),canContainUndefs:!1};const s=await Promise.all(r.map(async e=>e.metadata?await e.metadata():{})),a=u.getSmallestPatternId(s);this.logDebug(t,"Smallest pattern: ",()=>({pattern:e.patterns[a],metadata:s[a]}));for(const[e,t]of r.entries())e!==a&&t.bindingsStream.close();const c=r.slice(a)[0],l=[...e.patterns];l.splice(a,1);const d=[...s];d.splice(a,1),n.ActorQueryOperation.validateQueryOutput(c,"bindings");const p=t&&t.set(i.KeysQueryOperation.bgpCurrentMetadata,s[a]).set(i.KeysQueryOperation.bgpParentMetadata,d);return{type:"bindings",bindingsStream:u.createLeftDeepStream(c.bindingsStream,l,async e=>{const t={type:"bgp",patterns:e.map(e=>e.pattern)},r=e.map(e=>e.bindings);return n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:t,context:p.set(i.KeysQueryOperation.bgpPatternBindings,r)})).bindingsStream}),variables:u.getCombinedVariables(r),metadata:()=>Promise.resolve({totalItems:u.estimateCombinedTotalItems(s[a],s.slice(a))}),canContainUndefs:!1}}}t.ActorQueryOperationBgpLeftDeepSmallest=u},"./node_modules/@comunica/actor-query-operation-bgp-single/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-bgp-single/lib/ActorQueryOperationBgpSingle.js"),t)},"./node_modules/@comunica/actor-query-operation-bgp-single/lib/ActorQueryOperationBgpSingle.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationBgpSingle=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/context-entries/index.js");class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,t){if(1!==e.patterns.length)throw new Error(`Actor ${this.name} can only operate on BGPs with a single pattern.`);return!0}runOperation(e,t){if(t&&t.has(i.KeysQueryOperation.bgpParentMetadata)){const e=t.get(i.KeysQueryOperation.bgpParentMetadata);t=(t=t.delete(i.KeysQueryOperation.bgpParentMetadata)).set(i.KeysQueryOperation.patternParentMetadata,e[0])}return this.mediatorQueryOperation.mediate({operation:e.patterns[0],context:t})}}t.ActorQueryOperationBgpSingle=o},"./node_modules/@comunica/actor-query-operation-construct/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js"),t),i(r("./node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js"),t)},"./node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationConstruct=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/rdf-terms/index.js"),o=r("./node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js");class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return i.uniqTerms([].concat.apply([],e.map(e=>i.getVariables(i.getTerms(e)))))}async testOperation(e,t){return!0}async runOperation(e,t){const r=s.getVariables(e.template),i={type:"project",input:e.input,variables:r},a=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:i,context:t})),u=new o.BindingsToQuadsIterator(e.template,a.bindingsStream);let c;return a.metadata&&(c=()=>a.metadata().then(t=>t.totalItems?Object.assign(Object.assign({},t),{totalItems:t.totalItems*e.template.length}):t)),{metadata:c,quadStream:u,type:"quads"}}}t.ActorQueryOperationConstruct=s},"./node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsToQuadsIterator=void 0;const n=r("asynciterator"),i=r("rdf-data-factory"),o=r("./node_modules/rdf-terms/index.js"),s=new i.DataFactory;class a extends n.MultiTransformIterator{constructor(e,t,r=!0){super(t,{autoStart:!1}),this.template=e,this.localizeBlankNodes=r,this.blankNodeCounter=0}static bindTerm(e,t){return"Variable"===t.termType?e.get("?"+t.value):t}static bindQuad(e,t){try{return o.mapTerms(t,t=>{const r=a.bindTerm(e,t);if(!r)throw new Error("Unbound term");return r})}catch(e){}}static localizeBlankNode(e,t){return"BlankNode"===t.termType?s.blankNode(`${t.value}${e}`):t}static localizeQuad(e,t){return o.mapTerms(t,t=>a.localizeBlankNode(e,t))}bindTemplate(e,t,r){let n=t.map(t=>a.bindQuad.bind(null,e)(t)).filter(Boolean);return this.localizeBlankNodes&&(n=n.map(a.localizeQuad.bind(null,r))),n}_createTransformer(e){return new n.ArrayIterator(this.bindTemplate(e,this.template,this.blankNodeCounter++))}}t.BindingsToQuadsIterator=a},"./node_modules/@comunica/actor-query-operation-describe-subject/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-describe-subject/lib/ActorQueryOperationDescribeSubject.js"),t)},"./node_modules/@comunica/actor-query-operation-describe-subject/lib/ActorQueryOperationDescribeSubject.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationDescribeSubject=void 0;const n=r("./node_modules/@comunica/actor-query-operation-union/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("asynciterator"),s=new(r("rdf-data-factory").DataFactory);class a extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"describe")}async testOperation(e,t){return!0}async runOperation(e,t){const r=e.terms.filter(e=>"Variable"!==e.termType).map(e=>{const t=[s.quad(e,s.variable("__predicate"),s.variable("__object"))];t.forEach(e=>e.type="pattern");return{input:{type:"bgp",patterns:t},template:t,type:"construct"}});if(r.length!==e.terms.length){let t=[];e.terms.filter(e=>"Variable"===e.termType).forEach((e,r)=>{const n=[s.quad(e,s.variable("__predicate"+r),s.variable("__object"+r))];n.forEach(e=>e.type="pattern"),t=[...t,...n]}),r.push({input:{type:"join",left:e.input,right:{type:"bgp",patterns:t}},template:t,type:"construct"})}const a=(await Promise.all(r.map(e=>this.mediatorQueryOperation.mediate({operation:e,context:t})))).map(i.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new o.UnionIterator(a.map(e=>e.quadStream),{autoStart:!1}),metadata:()=>Promise.all(a.map(e=>i.getMetadata(e))).then(n.ActorQueryOperationUnion.unionMetadata)}}}t.ActorQueryOperationDescribeSubject=a},"./node_modules/@comunica/actor-query-operation-distinct-hash/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js"),t)},"./node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationDistinctHash=void 0;const n=r("./node_modules/@comunica/actor-abstract-bindings-hash/index.js");class i extends n.AbstractBindingsHash{constructor(e){super(e,"distinct")}newHashFilter(){const e={};return t=>{const r=n.AbstractFilterHash.hash(t);return!(r in e)&&(e[r]=!0)}}}t.ActorQueryOperationDistinctHash=i},"./node_modules/@comunica/actor-query-operation-extend/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js"),t)},"./node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationExtend=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/rdf-string/index.js"),o=r("./node_modules/sparqlee/dist/index.js");class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend")}async testOperation(e,t){Boolean(new o.AsyncEvaluator(e.expression));return!0}async runOperation(e,t){const{expression:r,input:s,variable:a}=e,u=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:s,context:t})),c=i.termToString(a),l=Object.assign({},n.ActorQueryOperation.getAsyncExpressionContext(t,this.mediatorQueryOperation)),d=new o.AsyncEvaluator(r,l),p=[...u.variables,c],h=u.bindingsStream.transform({transform:async(e,r,n)=>{try{const t=await d.evaluate(e);n(e.set(c,t))}catch(r){o.isExpressionError(r)?(n(e),this.logWarn(t,`Expression error for extend operation with bindings '${JSON.stringify(e)}'`)):h.emit("error",r)}r()}}),{metadata:f}=u;return{type:"bindings",bindingsStream:h,metadata:f,variables:p,canContainUndefs:u.canContainUndefs}}}t.ActorQueryOperationExtend=s},"./node_modules/@comunica/actor-query-operation-filter-sparqlee/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/ActorQueryOperationFilterSparqlee.js"),t)},"./node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/ActorQueryOperationFilterSparqlee.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationFilterSparqlee=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/sparqlee/dist/index.js");class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter")}async testOperation(e,t){const r=Object.assign({},n.ActorQueryOperation.getAsyncExpressionContext(t,this.mediatorQueryOperation));new i.AsyncEvaluator(e.expression,r);return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),o=n.ActorQueryOperation.getSafeBindings(r);n.ActorQueryOperation.validateQueryOutput(o,"bindings");const{variables:s,metadata:a}=o,u=Object.assign({},n.ActorQueryOperation.getAsyncExpressionContext(t,this.mediatorQueryOperation)),c=new i.AsyncEvaluator(e.expression,u),l=o.bindingsStream.transform({transform:async(e,t,r)=>{try{await c.evaluateAsEBV(e)&&r(e)}catch(e){i.isExpressionError(e)||l.emit("error",e)}t()}});return{type:"bindings",bindingsStream:l,metadata:a,variables:s,canContainUndefs:o.canContainUndefs}}}t.ActorQueryOperationFilterSparqlee=o},"./node_modules/@comunica/actor-query-operation-from-quad/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js"),t)},"./node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationFromQuad=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("sparqlalgebrajs");class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,t){const r={};for(const n of Object.keys(e))Array.isArray(e[n])?r[n]="variables"===n?e[n]:e[n].map(t):o.ALGEBRA_TYPES.includes(e[n].type)?r[n]=t(e[n]):r[n]=e[n];return r}static applyOperationDefaultGraph(e,t){if("bgp"===e.type&&e.patterns.length>0||"path"===e.type){if("bgp"===e.type)return o.joinOperations(e.patterns.map(e=>{if("DefaultGraph"!==e.graph.termType)return o.FACTORY.createBgp([e]);const r=t.map(t=>o.FACTORY.createBgp([o.FACTORY.createPattern(e.subject,e.predicate,e.object,t)]));return o.unionOperations(r)}));if("DefaultGraph"!==e.graph.termType)return e;const r=t.map(t=>o.FACTORY.createPath(e.subject,e.predicate,e.object,t));return o.joinOperations(r)}return o.copyOperation(e,e=>this.applyOperationDefaultGraph(e,t))}static applyOperationNamedGraph(e,t,r){if("bgp"===e.type&&e.patterns.length>0||"path"===e.type){const n="bgp"===e.type?e.patterns[0].graph:e.graph;if("DefaultGraph"===n.termType)return{type:"bgp",patterns:[]};if("Variable"===n.termType){if(1===t.length){const r=t[0],i={};i["?"+n.value]=r;const s=o.FACTORY.createValues([n],[i]),a="bgp"===e.type?o.FACTORY.createBgp(e.patterns.map(e=>o.FACTORY.createPattern(e.subject,e.predicate,e.object,r))):o.FACTORY.createPath(e.subject,e.predicate,e.object,r);return o.FACTORY.createJoin(s,a)}return o.unionOperations(t.map(t=>o.applyOperationNamedGraph(e,[t],r)))}return[...t,...r].some(e=>e.equals(n))?e:{type:"bgp",patterns:[]}}return o.copyOperation(e,e=>this.applyOperationNamedGraph(e,t,r))}static joinOperations(e){if(1===e.length)return e[0];if(2===e.length)return o.FACTORY.createJoin(e[0],e[1]);if(e.length>2)return o.FACTORY.createJoin(e.shift(),this.joinOperations(e));throw new Error("A join can only be applied on at least one operation")}static unionOperations(e){if(1===e.length)return e[0];if(2===e.length)return o.FACTORY.createUnion(e[0],e[1]);if(e.length>2)return o.FACTORY.createUnion(e.shift(),this.unionOperations(e));throw new Error("A union can only be applied on at least one operation")}static createOperation(e){let t=e.input;return e.default.length>0&&(t=o.applyOperationDefaultGraph(t,e.default)),(e.named.length>0||e.default.length>0)&&(t=o.applyOperationNamedGraph(t,e.named,e.default)),t}async testOperation(e,t){return!0}async runOperation(e,t){const r=o.createOperation(e);return this.mediatorQueryOperation.mediate({operation:r,context:t})}}t.ActorQueryOperationFromQuad=o,o.FACTORY=new i.Factory,o.ALGEBRA_TYPES=Object.keys(i.Algebra.types).map(e=>i.Algebra.types[e])},"./node_modules/@comunica/actor-query-operation-group/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js"),t)},"./node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationGroup=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("asynciterator"),o=r("./node_modules/rdf-string/index.js"),s=r("./node_modules/sparqlee/dist/index.js"),a=r("./node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js");class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"group")}async testOperation(e,t){for(const t of e.aggregates){new s.SyncEvaluator(t.expression)}return!0}async runOperation(e,t){const{input:r,aggregates:s}=e,u=await this.mediatorQueryOperation.mediate({operation:r,context:t}),c=n.ActorQueryOperation.getSafeBindings(u),l=[...e.variables.map(e=>o.termToString(e)),...s.map(e=>o.termToString(e.variable))],d=Object.assign({},n.ActorQueryOperation.getExpressionContext(t));return new Promise((t,r)=>{const n=new a.GroupsState(e,d);c.bindingsStream.on("end",()=>{try{const e=new i.ArrayIterator(n.collectResults(),{autoStart:!1}),{metadata:r}=c;t({type:"bindings",bindingsStream:e,metadata:r,variables:l,canContainUndefs:c.canContainUndefs})}catch(e){r(e)}}),c.bindingsStream.on("error",r),c.bindingsStream.on("data",e=>{try{n.consumeBindings(e)}catch(e){r(e)}})})}}t.ActorQueryOperationGroup=u},"./node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsState=void 0;const n=r("./node_modules/@comunica/actor-abstract-bindings-hash/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("./node_modules/rdf-string/index.js"),s=r("./node_modules/sparqlee/dist/index.js");t.GroupsState=class{constructor(e,t){this.pattern=e,this.sparqleeConfig=t,this.groups=new Map,this.groupVariables=new Set(this.pattern.variables.map(e=>o.termToString(e))),this.distinctHashes=e.aggregates.some(({distinct:e})=>e)?new Map:null}consumeBindings(e){const t=e.filter((e,t)=>this.groupVariables.has(t)).toMap(),r=this.hashBindings(t);let n=this.groups.get(r);if(n)for(const t of this.pattern.aggregates){if(t.distinct){const t=this.hashBindings(e);if(this.distinctHashes.get(r).has(t))continue;this.distinctHashes.get(r).add(t)}const i=o.termToString(t.variable);n.aggregators[i].put(e)}else{const i={};for(const t of this.pattern.aggregates){const r=o.termToString(t.variable);i[r]=new s.AggregateEvaluator(t,this.sparqleeConfig),i[r].put(e)}if(n={aggregators:i,bindings:t},this.groups.set(r,n),this.distinctHashes){const t=this.hashBindings(e);this.distinctHashes.set(r,new Set([t]))}}}collectResults(){let e=[...this.groups].map(([e,t])=>{const{bindings:r,aggregators:n}=t,i={};for(const e in n){const t=n[e].result();void 0!==t&&(i[e]=t)}return r.merge(i)});if(0===e.length&&0===this.groupVariables.size){const t={};for(const e of this.pattern.aggregates){const r=o.termToString(e.variable),n=s.AggregateEvaluator.emptyValue(e);void 0!==n&&(t[r]=n)}e=[i.Bindings(t)]}return e}hashBindings(e){return n.AbstractFilterHash.hash(e)}}},"./node_modules/@comunica/actor-query-operation-join/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js"),t)},"./node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationJoin=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js");class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,t){return!0}async runOperation(e,t){const r=this.mediatorQueryOperation.mediate({operation:e.left,context:t}),i=this.mediatorQueryOperation.mediate({operation:e.right,context:t});return this.mediatorJoin.mediate({entries:[n.ActorQueryOperation.getSafeBindings(await r),n.ActorQueryOperation.getSafeBindings(await i)]})}}t.ActorQueryOperationJoin=i},"./node_modules/@comunica/actor-query-operation-leftjoin-left-deep/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-leftjoin-left-deep/lib/ActorQueryOperationLeftJoinLeftDeep.js"),t)},"./node_modules/@comunica/actor-query-operation-leftjoin-left-deep/lib/ActorQueryOperationLeftJoinLeftDeep.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationLeftJoinLeftDeep=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/bus-rdf-join/index.js"),o=r("asynciterator"),s=r("sparqlalgebrajs");class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}static createLeftDeepStream(e,t,r){return new o.MultiTransformIterator(e,{multiTransform(e){const i=t=>t.merge(e);return new o.TransformIterator(async()=>(await r(n.materializeOperation(t,e))).map(i),{maxBufferSize:128})},optional:!0})}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.left,context:t})),o=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.right,context:t}));o.bindingsStream.close();const s=e.expression?a.FACTORY.createFilter(e.right,e.expression):e.right;return{type:"bindings",bindingsStream:a.createLeftDeepStream(r.bindingsStream,s,async e=>n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e,context:t})).bindingsStream),metadata:()=>Promise.all([r,o].map(e=>n.getMetadata(e))).then(e=>e.reduce((e,t)=>e*t.totalItems,1)).catch(()=>Number.POSITIVE_INFINITY).then(e=>({totalItems:e})),variables:i.ActorRdfJoin.joinVariables({entries:[r,o]}),canContainUndefs:!0}}}t.ActorQueryOperationLeftJoinLeftDeep=a,a.FACTORY=new s.Factory},"./node_modules/@comunica/actor-query-operation-minus/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js"),t)},"./node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationMinus=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("asynciterator"),o=r("./node_modules/@comunica/actor-query-operation-minus/lib/BindingsIndex.js");class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.right,context:t})),s=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.left,context:t})),a=this.getCommonVariables(r.variables,s.variables);if(a.length>0){const e=new o.BindingsIndex(a),t=new i.TransformIterator(async()=>(await new Promise(t=>{r.bindingsStream.on("data",t=>e.add(t)),r.bindingsStream.on("end",t)}),s.bindingsStream.filter(t=>!e.contains(t))),{autoStart:!1}),n=r.canContainUndefs||s.canContainUndefs;return{type:"bindings",bindingsStream:t,variables:s.variables,metadata:s.metadata,canContainUndefs:n}}return s}getCommonVariables(e,t){return Object.keys(e.filter(e=>t.includes(e)).reduce((e,t)=>(e[t]=!0,e),{}))}}t.ActorQueryOperationMinus=s},"./node_modules/@comunica/actor-query-operation-minus/lib/BindingsIndex.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsIndex=void 0;const n=r("./node_modules/rdf-string/index.js");class i{constructor(e){this.data={},this.keys=e}static hashTerm(e){return e&&"Variable"!==e.termType?n.termToString(e):""}add(e){if(this.isBindingsValid(e)){let t=this.data;for(const r of this.keys){const n=i.hashTerm(e.get(r));let o=t[n];o||(o=t[n]={}),t=o}}}contains(e){return!!this.isBindingsValid(e)&&this.containsRecursive(e,this.keys,[this.data])}isBindingsValid(e){let t=!1;for(const r of this.keys)if(e.get(r)){t=!0;break}return t}containsRecursive(e,t,r){if(0===t.length)return!0;let n;[n,...t]=t;for(const o of r){const r=i.hashTerm(e.get(n));if(r){const n=[o[r],o[""]].filter(Boolean);if(0===n.length)continue;if(this.containsRecursive(e,t,n))return!0}else{let r=Object.keys(o).map(e=>o[e]);if(0===r.length&&(r=[{}]),this.containsRecursive(e,t,r))return!0}}return!1}}t.BindingsIndex=i},"./node_modules/@comunica/actor-query-operation-orderby-sparqlee/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/ActorQueryOperationOrderBySparqlee.js"),t)},"./node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/ActorQueryOperationOrderBySparqlee.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationOrderBySparqlee=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("sparqlalgebrajs"),o=r("./node_modules/sparqlee/dist/index.js"),s=r("./node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/SortIterator.js");class a extends n.ActorQueryOperationTypedMediated{constructor(e){var t;super(e,"orderby"),this.window=null!==(t=e.window)&&void 0!==t?t:Number.POSITIVE_INFINITY}async testOperation(e,t){for(let t of e.expressions){t=this.extractSortExpression(t);new o.AsyncEvaluator(t)}return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=n.ActorQueryOperation.getSafeBindings(r),a={window:this.window},u=Object.assign({},n.ActorQueryOperation.getAsyncExpressionContext(t));let{bindingsStream:c}=i;for(let t=e.expressions.length-1;t>=0;t--){let r=e.expressions[t];const n=this.isAscending(r);r=this.extractSortExpression(r);const i=new o.AsyncEvaluator(r,u),l=async(e,t,r)=>{try{r({bindings:e,result:await i.evaluate(e)})}catch(t){o.isExpressionError(t)||c.emit("error",t),r({bindings:e,result:void 0})}t()},d=c.transform({transform:l}),p=new s.SortIterator(d,(e,t)=>o.orderTypes(e.result,t.result,n),a);c=p.map(({bindings:e,result:t})=>e)}return{type:"bindings",bindingsStream:c,metadata:i.metadata,variables:i.variables,canContainUndefs:i.canContainUndefs}}extractSortExpression(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR?e:"desc"===r?e.args[0]:e}isAscending(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR||"desc"!==r}}t.ActorQueryOperationOrderBySparqlee=a},"./node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/SortIterator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortIterator=void 0;const n=r("asynciterator");class i extends n.TransformIterator{constructor(e,t,r){super(e,r);const n=r&&r.window;this.windowLength=Number.isFinite(n)&&n>0?n:Number.POSITIVE_INFINITY,this.sort=t,this.sorted=[]}_read(e,t){let r,{length:n}=this.sorted;for(;n!==this.windowLength&&(r=this.source.read(),null!==r);){let e,t,i=0,o=n-1;for(;i<=o;)e=Math.trunc((i+o)/2),t=this.sort(r,this.sorted[e]),t<0?i=e+1:t>0?o=e-1:(i=e,o=-1);this.sorted.splice(i,0,r),n++}n===this.windowLength&&this._push(this.sorted.pop()),t()}_flush(e){let{length:t}=this.sorted;for(;t--;)this._push(this.sorted.pop());e()}}t.SortIterator=i},"./node_modules/@comunica/actor-query-operation-path-alt/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js"),t)},"./node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathAlt=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("asynciterator"),s=r("sparqlalgebrajs");class a extends n.ActorAbstractPath{constructor(e){super(e,s.Algebra.types.ALT)}async runOperation(e,t){const r=e.predicate,s=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.left,e.object,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.right,e.object,e.graph)})])).map(e=>i.ActorQueryOperation.getSafeBindings(e)),a=new o.UnionIterator(s.map(e=>e.bindingsStream),{autoStart:!1}),u=[].concat.apply([],s.map(e=>e.variables));return{type:"bindings",bindingsStream:a,variables:[...new Set(u)],canContainUndefs:!1}}}t.ActorQueryOperationPathAlt=a},"./node_modules/@comunica/actor-query-operation-path-inv/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js"),t)},"./node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathInv=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/index.js"),i=r("sparqlalgebrajs");class o extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.INV)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPath(e.object,r.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}t.ActorQueryOperationPathInv=o},"./node_modules/@comunica/actor-query-operation-path-link/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js"),t)},"./node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathLink=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/index.js"),i=r("sparqlalgebrajs");class o extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.LINK)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPattern(e.subject,r.iri,e.object,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}t.ActorQueryOperationPathLink=o},"./node_modules/@comunica/actor-query-operation-path-nps/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js"),t)},"./node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathNps=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("./node_modules/rdf-string/index.js"),s=r("sparqlalgebrajs");class a extends n.ActorAbstractPath{constructor(e){super(e,s.Algebra.types.NPS)}async runOperation(e,t){const r=e.predicate,s=this.generateVariable(e),a=o.termToString(s),u=n.ActorAbstractPath.FACTORY.createPattern(e.subject,s,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:u,context:t}));return{type:"bindings",bindingsStream:c.bindingsStream.transform({filter:e=>!r.iris.some(t=>t.equals(e.get(a))),transform(e,t,r){r(e.delete(a)),t()}}),variables:c.variables,canContainUndefs:!1}}}t.ActorQueryOperationPathNps=a},"./node_modules/@comunica/actor-query-operation-path-one-or-more/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js"),t)},"./node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathOneOrMore=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("asynciterator"),s=r("./node_modules/rdf-string/index.js"),a=r("sparqlalgebrajs");class u extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,t){const r=await this.isPathArbitraryLengthDistinct(t,e);if(r.operation)return r.operation;t=r.context;const a=e.predicate,u="Variable"===e.subject.termType,c="Variable"===e.object.termType,l="Variable"===e.graph.termType;if(!u&&c){const r=n.ActorAbstractPath.FACTORY.createDistinct(n.ActorAbstractPath.FACTORY.createPath(e.subject,a.path,e.object,e.graph)),u=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:r})),c=s.termToString(e.object),d={};return{type:"bindings",bindingsStream:new o.MultiTransformIterator(u.bindingsStream,{multiTransform:r=>{const n=r.get(c),u=l?r.get(s.termToString(e.graph)):e.graph;return new o.TransformIterator(async()=>{const r=new o.BufferedIterator;return await this.getObjectsPredicateStar(n,a.path,e.graph,t,d,r,{count:0}),r.transform({transform(t,r,n){let o=i.Bindings({[c]:t});l&&(o=o.set(s.termToString(e.graph),u)),n(o),r()}})},{maxBufferSize:128})},autoStart:!1}),variables:l?[c,s.termToString(e.graph)]:[c],canContainUndefs:!1}}if(u&&c){const r=n.ActorAbstractPath.FACTORY.createDistinct(n.ActorAbstractPath.FACTORY.createPath(e.subject,e.predicate.path,e.object,e.graph)),u=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:r})),c=s.termToString(e.subject),d=s.termToString(e.object),p={};return{type:"bindings",bindingsStream:new o.MultiTransformIterator(u.bindingsStream,{multiTransform:r=>{const n=r.get(c),i=r.get(d),u=l?r.get(s.termToString(e.graph)):e.graph;return new o.TransformIterator(async()=>{const r=new o.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(c,d,n,i,a.path,u,t,p,{},r,{count:0}),r.transform({transform(t,r,n){l&&(t=t.set(s.termToString(e.graph),u)),n(t),r()}})},{maxBufferSize:128})},autoStart:!1}),variables:l?[c,d,s.termToString(e.graph)]:[c,d],canContainUndefs:!1}}if(u&&!c)return this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.object,n.ActorAbstractPath.FACTORY.createOneOrMorePath(n.ActorAbstractPath.FACTORY.createInv(a.path)),e.subject,e.graph)});const d=this.generateVariable(),p=s.termToString(d);return{type:"bindings",bindingsStream:i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,a,d,e.graph)})).bindingsStream.transform({filter:t=>t.get(p).equals(e.object),transform(t,r,n){n(l?i.Bindings({[s.termToString(e.graph)]:t.get(s.termToString(e.graph))}):i.Bindings({})),r()}}),variables:l?[s.termToString(e.graph)]:[],canContainUndefs:!1}}}t.ActorQueryOperationPathOneOrMore=u},"./node_modules/@comunica/actor-query-operation-path-seq/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js"),t)},"./node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathSeq=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("./node_modules/rdf-string/index.js"),s=r("sparqlalgebrajs");class a extends n.ActorAbstractPath{constructor(e){super(e,s.Algebra.types.SEQ)}async runOperation(e,t){const r=e.predicate,s=this.generateVariable(e),a=o.termToString(s),u=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.left,s,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(s,r.right,e.object,e.graph)})])).map(e=>i.ActorQueryOperation.getSafeBindings(e)),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({entries:u})),l=c.bindingsStream.transform({transform(e,t,r){r(e.delete(a)),t()}}),d=c.variables,p=d.indexOf(a);return d.splice(p,1),{type:"bindings",bindingsStream:l,variables:d,canContainUndefs:!1}}}t.ActorQueryOperationPathSeq=a},"./node_modules/@comunica/actor-query-operation-path-zero-or-more/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js"),t)},"./node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathZeroOrMore=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("asynciterator"),s=r("./node_modules/rdf-string/index.js"),a=r("sparqlalgebrajs");class u extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,t){const r=await this.isPathArbitraryLengthDistinct(t,e);if(r.operation)return r.operation;t=r.context;const a=e.predicate,u="Variable"===e.subject.termType,c="Variable"===e.object.termType,l="Variable"===e.graph.termType;if(u&&c){const r=this.generateVariable(e),u=n.ActorAbstractPath.FACTORY.createPattern(e.subject,r,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:u})),d=s.termToString(e.subject),p=s.termToString(e.object),h=new Set,f={};return{type:"bindings",bindingsStream:new o.MultiTransformIterator(c.bindingsStream,{multiTransform:r=>{const n=r.get(d),i=r.get(p),u=l?r.get(s.termToString(e.graph)):e.graph,c=s.termToString(n)+s.termToString(u),m=s.termToString(i)+s.termToString(u);return new o.TransformIterator(async()=>{if(h.has(c)&&h.has(m))return new o.EmptyIterator;const r=new o.BufferedIterator,y={count:0};return h.has(c)||(h.add(c),await this.getSubjectAndObjectBindingsPredicateStar(d,p,n,n,a.path,u,t,f,{},r,y)),h.has(m)||(h.add(m),await this.getSubjectAndObjectBindingsPredicateStar(d,p,i,i,a.path,u,t,f,{},r,y)),r.transform({transform(t,r,n){l&&(t=t.set(s.termToString(e.graph),u)),n(t),r()}})})}}),variables:l?[d,p,s.termToString(e.graph)]:[d,p],canContainUndefs:!1}}if(!u&&!c){const r=this.generateVariable();return{type:"bindings",bindingsStream:(await this.getObjectsPredicateStarEval(e.subject,r,a.path,e.graph,t)).transform({filter:t=>t.get(s.termToString(r)).equals(e.object),transform(t,r,n){n(l?i.Bindings({[s.termToString(e.graph)]:t.get(s.termToString(e.graph))}):i.Bindings({})),r()}}),variables:l?[s.termToString(e.graph)]:[],canContainUndefs:!1}}const d=u?e.object:e.subject,p=u?e.subject:e.object,h=u?n.ActorAbstractPath.FACTORY.createInv(a.path):a.path;return{type:"bindings",bindingsStream:(await this.getObjectsPredicateStarEval(d,p,h,e.graph,t)).transform({transform(e,t,r){r(e),t()}}),variables:l?[s.termToString(p),s.termToString(e.graph)]:[s.termToString(p)],canContainUndefs:!1}}}t.ActorQueryOperationPathZeroOrMore=u},"./node_modules/@comunica/actor-query-operation-path-zero-or-one/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js"),t)},"./node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathZeroOrOne=void 0;const n=r("./node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("asynciterator"),s=r("./node_modules/rdf-string/index.js"),a=r("sparqlalgebrajs");class u extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,t){const r=e.predicate,a="Variable"===e.subject.termType,u="Variable"===e.object.termType,c=[];if(!a&&!u&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new o.SingletonIterator(i.Bindings({})),variables:[],canContainUndefs:!1};if(a&&u)throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");const l=await this.isPathArbitraryLengthDistinct(t,e);if(l.operation)return l.operation;t=l.context,a&&c.push(i.Bindings({[s.termToString(e.subject)]:e.object})),u&&c.push(i.Bindings({[s.termToString(e.object)]:e.subject}));const d=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.path,e.object,e.graph)}));return{type:"bindings",bindingsStream:d.bindingsStream.prepend(c),variables:d.variables,canContainUndefs:!1}}}t.ActorQueryOperationPathZeroOrOne=u},"./node_modules/@comunica/actor-query-operation-project/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js"),t)},"./node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationProject=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/data-factory/index.js"),o=r("rdf-data-factory"),s=r("./node_modules/rdf-string/index.js"),a=new o.DataFactory;class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),o=e.variables.map(e=>s.termToString(e)),u=r.variables.filter(e=>!o.includes(e)),c=o.filter(e=>!r.variables.includes(e));if(c.length>0)throw new Error(`Variables '${c}' are used in the projection result, but are not assigned.`);let l=0===u.length?r.bindingsStream:r.bindingsStream.transform({map(e){for(const t of u)e=e.delete(t);return e},autoStart:!1}),d=0;return l=l.transform({map(e){d++;const t=new Map;return e.map(e=>{if(e instanceof i.BlankNodeBindingsScoped){let r=t.get(e.value);return r||(r=a.blankNode(`${e.value}${d}`),t.set(e.value,r)),r}return e})},autoStart:!1}),{type:"bindings",bindingsStream:l,metadata:r.metadata,variables:o,canContainUndefs:r.canContainUndefs}}}t.ActorQueryOperationProject=u},"./node_modules/@comunica/actor-query-operation-quadpattern/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-quadpattern/lib/ActorQueryOperationQuadpattern.js"),t)},"./node_modules/@comunica/actor-query-operation-quadpattern/lib/ActorQueryOperationQuadpattern.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationQuadpattern=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("asynciterator"),o=r("./node_modules/rdf-string/index.js"),s=r("./node_modules/rdf-terms/index.js");class a extends n.ActorQueryOperationTyped{constructor(e){super(e,"pattern")}static isTermVariable(e){return"Variable"===e.termType}static getVariables(e){return s.uniqTerms(s.getTerms(e).filter(a.isTermVariable)).map(e=>o.termToString(e))}static getDuplicateElementLinks(e){const t={};let r=!1;for(const n of s.QUAD_TERM_NAMES)if("Variable"===e[n].termType){const i=o.termToString(e[n]),s=(t[i]||(t[i]=[])).push(n);r=r||s>1}if(!r)return;const n={};for(const e in t){const r=t[e],i=r.slice(1);i.length>0&&(n[r[0]]=i)}return n}static getMetadata(e){return()=>new Promise((t,r)=>{e.getProperty("metadata",e=>t(e)),e.on("error",r)})}async testOperation(e,t){return!0}async runOperation(e,t){e.context&&(t=t?t.merge(e.context):e.context);const r=await this.mediatorResolveQuadPattern.mediate({pattern:e,context:t}),u=a.getVariables(e),c=a.getMetadata(r.data),l=s.reduceTerms(e,(e,t,r)=>(a.isTermVariable(t)&&(e[r]=o.termToString(t)),e),{}),d=(e,t,r)=>{const n=l[r];return n&&(e[n]=t),e};return{type:"bindings",bindingsStream:new i.TransformIterator(async()=>{let t=r.data;const i=a.getDuplicateElementLinks(e);return i&&(t=t.filter(e=>{for(const t of s.TRIPLE_TERM_NAMES)for(const r of i[t]||[])if(!e[t].equals(e[r]))return!1;return!0})),t.map(e=>n.Bindings(s.reduceTerms(e,d,{})),{autoStart:!0,maxBufferSize:128})},{autoStart:!1}),variables:u,metadata:c,canContainUndefs:!1}}}t.ActorQueryOperationQuadpattern=a},"./node_modules/@comunica/actor-query-operation-reduced-hash/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js"),t)},"./node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationReducedHash=void 0;const n=r("./node_modules/@comunica/actor-abstract-bindings-hash/index.js"),i=r("./node_modules/lru-cache/index.js");class o extends n.AbstractBindingsHash{constructor(e){super(e,"reduced")}newHashFilter(){const e=new i({max:this.cacheSize});return t=>{const r=n.AbstractFilterHash.hash(t);return!e.has(r)&&e.set(r,!0)}}}t.ActorQueryOperationReducedHash=o},"./node_modules/@comunica/actor-query-operation-service/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js"),t)},"./node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationService=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/context-entries/index.js"),o=r("./node_modules/@comunica/core/index.js"),s=r("asynciterator");class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"service")}async testOperation(e,t){if("NamedNode"!==e.name.termType)throw new Error(`${this.name} can only query services by IRI, while a ${e.name.termType} was given.`);return!0}async runOperation(e,t){const r=e.name.value;let a=(t=t||o.ActionContext({})).delete(i.KeysRdfResolveQuadPattern.source).delete(i.KeysRdfResolveQuadPattern.sources);const u=this.forceSparqlEndpoint?"sparql":"auto";let c;a=a.set(i.KeysRdfResolveQuadPattern.sources,[{type:u,value:r}]);try{c=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:a}))}catch(t){if(!e.silent)throw t;c={bindingsStream:new s.SingletonIterator(n.Bindings({})),type:"bindings",variables:[],canContainUndefs:!1}}return c}}t.ActorQueryOperationService=a},"./node_modules/@comunica/actor-query-operation-slice/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js"),t)},"./node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationSlice=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js");class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),n=this.sliceMetadata(r,e);if("bindings"===r.type){const t=r;return{type:"bindings",bindingsStream:this.sliceStream(t.bindingsStream,e),metadata:n,variables:t.variables,canContainUndefs:t.canContainUndefs}}if("quads"===r.type){const t=r;return{type:"quads",quadStream:this.sliceStream(t.quadStream,e),metadata:n}}throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${r.type}'`)}sliceStream(e,t){const r=Boolean(t.length)||0===t.length,{start:n}=t,i=r?t.start+t.length-1:Number.POSITIVE_INFINITY;return e.transform({offset:n,limit:Math.max(i-n+1,0),autoStart:!1})}sliceMetadata(e,t){const r=Boolean(t.length)||0===t.length;return e.metadata?()=>e.metadata().then(e=>{let{totalItems:n}=e;return Number.isFinite(n)&&(n=Math.max(0,n-t.start),r&&(n=Math.min(n,t.length))),Object.assign(Object.assign({},e),{totalItems:n})}):void 0}}t.ActorQueryOperationSlice=i},"./node_modules/@comunica/actor-query-operation-union/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js"),t)},"./node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationUnion=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("asynciterator");class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){const t=e.reduce((e,t)=>[...e,...t],[]);return[...new Set(t)]}static unionMetadata(e){let t=0;for(const r of e){if(!r.totalItems||!Number.isFinite(r.totalItems)){t=Number.POSITIVE_INFINITY;break}t+=r.totalItems}return{totalItems:t}}async testOperation(e,t){return!0}async runOperation(e,t){const r=(await Promise.all([this.mediatorQueryOperation.mediate({operation:e.left,context:t}),this.mediatorQueryOperation.mediate({operation:e.right,context:t})])).map(n.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new i.UnionIterator(r.map(e=>e.bindingsStream),{autoStart:!1}),metadata:r[0].metadata&&r[1].metadata?()=>Promise.all([r[0].metadata(),r[1].metadata()]).then(o.unionMetadata):void 0,variables:o.unionVariables(r.map(e=>e.variables)),canContainUndefs:r.reduce((e,t)=>e||t.canContainUndefs,!1)}}}t.ActorQueryOperationUnion=o},"./node_modules/@comunica/actor-query-operation-update-add-rewrite/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/ActorQueryOperationAddRewrite.js"),t)},"./node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/ActorQueryOperationAddRewrite.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationAddRewrite=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("rdf-data-factory"),o=r("sparqlalgebrajs"),s=new i.DataFactory;class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"add"),this.factory=new o.Factory}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}runOperation(e,t){const r="DEFAULT"===e.destination?s.defaultGraph():e.destination,n="DEFAULT"===e.source?s.defaultGraph():e.source,i=this.factory.createDeleteInsert(void 0,[this.factory.createPattern(s.variable("s"),s.variable("p"),s.variable("o"),r)],this.factory.createPattern(s.variable("s"),s.variable("p"),s.variable("o"),n));return this.mediatorQueryOperation.mediate({operation:i,context:t})}}t.ActorQueryOperationAddRewrite=a},"./node_modules/@comunica/actor-query-operation-update-clear/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js"),t)},"./node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationClear=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=new(r("rdf-data-factory").DataFactory);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"clear")}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}async runOperation(e,t){const{updateResult:r}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:"DEFAULT"===e.source?i.defaultGraph():e.source,requireExistence:!e.silent,dropGraphs:!1},context:t});return{type:"update",updateResult:r}}}t.ActorQueryOperationClear=o},"./node_modules/@comunica/actor-query-operation-update-compositeupdate/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js"),t)},"./node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationUpdateCompositeUpdate=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js");class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"compositeupdate")}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}async runOperation(e,t){return{type:"update",updateResult:(async()=>{for(const r of e.updates){const e=n.ActorQueryOperation.getSafeUpdate(await this.mediatorQueryOperation.mediate({operation:r,context:t}));await e.updateResult}})()}}}t.ActorQueryOperationUpdateCompositeUpdate=i},"./node_modules/@comunica/actor-query-operation-update-copy-rewrite/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/ActorQueryOperationCopyRewrite.js"),t)},"./node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/ActorQueryOperationCopyRewrite.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationCopyRewrite=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("sparqlalgebrajs");class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"copy"),this.factory=new i.Factory}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}runOperation(e,t){if("string"==typeof e.destination&&"string"==typeof e.source&&e.destination===e.source||"string"!=typeof e.destination&&"string"!=typeof e.source&&e.destination.equals(e.source))return Promise.resolve({type:"update",updateResult:Promise.resolve()});const r=this.factory.createCompositeUpdate([this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent)]);return this.mediatorQueryOperation.mediate({operation:r,context:t})}}t.ActorQueryOperationCopyRewrite=o},"./node_modules/@comunica/actor-query-operation-update-create/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js"),t)},"./node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationCreate=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js");class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"create")}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}async runOperation(e,t){const{updateResult:r}=await this.mediatorUpdateQuads.mediate({createGraph:{graph:e.source,requireNonExistence:!e.silent},context:t});return{type:"update",updateResult:r}}}t.ActorQueryOperationCreate=i},"./node_modules/@comunica/actor-query-operation-update-deleteinsert/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js"),t)},"./node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationUpdateDeleteInsert=void 0;const n=r("./node_modules/@comunica/actor-query-operation-construct/index.js"),i=r("./node_modules/@comunica/bus-query-operation/index.js"),o=r("asynciterator");class s extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"deleteinsert"),this.blankNodeCounter=0}async testOperation(e,t){return i.ActorQueryOperation.throwOnReadOnly(t),!0}async runOperation(e,t){const r=e.where?i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.where,context:t})).bindingsStream:new o.ArrayIterator([i.Bindings({})],{autoStart:!1});let s,a;e.insert&&(s=new n.BindingsToQuadsIterator(e.insert.map(n.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),r.clone(),!1),this.blankNodeCounter++),e.delete&&(a=new n.BindingsToQuadsIterator(e.delete.map(n.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),r.clone(),!1),this.blankNodeCounter++);const{updateResult:u}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:s,quadStreamDelete:a,context:t});return{type:"update",updateResult:u}}}t.ActorQueryOperationUpdateDeleteInsert=s},"./node_modules/@comunica/actor-query-operation-update-drop/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js"),t)},"./node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationDrop=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=new(r("rdf-data-factory").DataFactory);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"drop")}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}async runOperation(e,t){const{updateResult:r}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:"DEFAULT"===e.source?i.defaultGraph():e.source,requireExistence:!e.silent,dropGraphs:!0},context:t});return{type:"update",updateResult:r}}}t.ActorQueryOperationDrop=o},"./node_modules/@comunica/actor-query-operation-update-load/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js"),t)},"./node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_LENIENT=t.KEY_CONTEXT_SOURCES=t.ActorQueryOperationLoad=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/core/index.js"),o=r("rdf-data-factory"),s=r("sparqlalgebrajs"),a=new o.DataFactory;class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"load"),this.factory=new s.Factory,this.constructOperation=this.factory.createConstruct(this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o")),[this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o"))])}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}async runOperation(e,r){r||(r=i.ActionContext({}));let n=r.set(t.KEY_CONTEXT_SOURCES,[e.source.value]);e.silent&&(n=n.set(t.KEY_CONTEXT_LENIENT,!0));let o=u.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.constructOperation,context:n})).quadStream;e.destination&&(o=o.map(t=>a.quad(t.subject,t.predicate,t.object,e.destination)));const{updateResult:s}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:o,context:r});return{type:"update",updateResult:s}}}t.ActorQueryOperationLoad=u,t.KEY_CONTEXT_SOURCES="@comunica/bus-rdf-resolve-quad-pattern:sources",t.KEY_CONTEXT_LENIENT="@comunica/actor-init-sparql:lenient"},"./node_modules/@comunica/actor-query-operation-update-move-rewrite/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/ActorQueryOperationMoveRewrite.js"),t)},"./node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/ActorQueryOperationMoveRewrite.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationMoveRewrite=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("sparqlalgebrajs");class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"move"),this.factory=new i.Factory}async testOperation(e,t){return n.ActorQueryOperation.throwOnReadOnly(t),!0}runOperation(e,t){if("string"==typeof e.destination&&"string"==typeof e.source&&e.destination===e.source||"string"!=typeof e.destination&&"string"!=typeof e.source&&e.destination.equals(e.source))return Promise.resolve({type:"update",updateResult:Promise.resolve()});const r=[this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent),this.factory.createDrop(e.source)],n=this.factory.createCompositeUpdate(r);return this.mediatorQueryOperation.mediate({operation:n,context:t})}}t.ActorQueryOperationMoveRewrite=o},"./node_modules/@comunica/actor-query-operation-values/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js"),t)},"./node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationValues=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("asynciterator"),o=r("./node_modules/rdf-string/index.js");class s extends n.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,t){return!0}async runOperation(e,t){const r=new i.ArrayIterator(e.bindings.map(e=>n.Bindings(e))),s=e.variables.map(e=>o.termToString(e)),a=e.bindings.some(e=>s.some(t=>!(t in e)));return{type:"bindings",bindingsStream:r,metadata:()=>Promise.resolve({totalItems:e.bindings.length}),variables:s,canContainUndefs:a}}}t.ActorQueryOperationValues=s},"./node_modules/@comunica/actor-rdf-dereference-fallback/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-dereference-fallback/lib/ActorRdfDereferenceFallback.js"),t)},"./node_modules/@comunica/actor-rdf-dereference-fallback/lib/ActorRdfDereferenceFallback.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfDereferenceFallback=void 0;const n=r("./require-empty.js");class i extends n.ActorRdfDereference{constructor(e){super(e)}async test(e){return!0}async run(e){return this.handleDereferenceError(e,new Error(`Could not dereference '${e.url}'`))}}t.ActorRdfDereferenceFallback=i},"./node_modules/@comunica/actor-rdf-join-multi-smallest/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-join-multi-smallest/lib/ActorRdfJoinMultiSmallest.js"),t)},"./node_modules/@comunica/actor-rdf-join-multi-smallest/lib/ActorRdfJoinMultiSmallest.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMultiSmallest=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/bus-rdf-join/index.js");class o extends i.ActorRdfJoin{constructor(e){super(e,3,!0)}static getSmallestPatternId(e){let t=-1,r=Number.POSITIVE_INFINITY;for(const[n,i]of e.entries())i<=r&&(r=i,t=n);return t}async getOutput(e){const t=e.entries.slice(),r=(await Promise.all(e.entries.map(e=>n.getMetadata(e)))).map(e=>"totalItems"in e?e.totalItems:Number.POSITIVE_INFINITY),i=o.getSmallestPatternId(r),s=t.splice(i,1)[0],a=(r.splice(i,1),o.getSmallestPatternId(r)),u=t.splice(a,1)[0],c=(r.splice(a,1),await this.mediatorJoin.mediate({entries:[s,u]}));return t.push(c),await this.mediatorJoin.mediate({entries:t})}async getIterations(e){return(await Promise.all(e.entries.map(e=>n.getMetadata(e)))).reduce((e,t)=>e*t.totalItems,1)}}t.ActorRdfJoinMultiSmallest=o},"./node_modules/@comunica/actor-rdf-join-nestedloop/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-join-nestedloop/lib/ActorRdfJoinNestedLoop.js"),t)},"./node_modules/@comunica/actor-rdf-join-nestedloop/lib/ActorRdfJoinNestedLoop.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinNestedLoop=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/bus-rdf-join/index.js"),o=r("./node_modules/asyncjoin/index.js");class s extends i.ActorRdfJoin{constructor(e){super(e,2,void 0,!0)}async getOutput(e){return{type:"bindings",bindingsStream:new o.NestedLoopJoin(e.entries[0].bindingsStream,e.entries[1].bindingsStream,i.ActorRdfJoin.join,{autoStart:!1}),variables:i.ActorRdfJoin.joinVariables(e),canContainUndefs:e.entries.reduce((e,t)=>e||t.canContainUndefs,!1)}}async getIterations(e){return(await n.getMetadata(e.entries[0])).totalItems*(await n.getMetadata(e.entries[1])).totalItems}}t.ActorRdfJoinNestedLoop=s},"./node_modules/@comunica/actor-rdf-join-symmetrichash/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-join-symmetrichash/lib/ActorRdfJoinSymmetricHash.js"),t)},"./node_modules/@comunica/actor-rdf-join-symmetrichash/lib/ActorRdfJoinSymmetricHash.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinSymmetricHash=void 0;const n=r("./node_modules/@comunica/bus-query-operation/index.js"),i=r("./node_modules/@comunica/bus-rdf-join/index.js"),o=r("./node_modules/asyncjoin/index.js");class s extends i.ActorRdfJoin{constructor(e){super(e,2)}static hash(e,t){return t.filter(t=>e.has(t)).map(t=>e.get(t).value).join("")}async getOutput(e){const t=i.ActorRdfJoin.overlappingVariables(e);return{type:"bindings",bindingsStream:new o.SymmetricHashJoin(e.entries[0].bindingsStream,e.entries[1].bindingsStream,e=>s.hash(e,t),i.ActorRdfJoin.join),variables:i.ActorRdfJoin.joinVariables(e),canContainUndefs:!1}}async getIterations(e){return(await n.getMetadata(e.entries[0])).totalItems+(await n.getMetadata(e.entries[1])).totalItems}}t.ActorRdfJoinSymmetricHash=s},"./node_modules/@comunica/actor-rdf-parse-html-microdata/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-parse-html-microdata/lib/ActorRdfParseHtmlMicrodata.js"),t)},"./node_modules/@comunica/actor-rdf-parse-html-microdata/lib/ActorRdfParseHtmlMicrodata.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfParseHtmlMicrodata=void 0;const n=r("./node_modules/@comunica/bus-rdf-parse-html/index.js"),i=r("./require-empty.js");class o extends n.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const t=e.headers?e.headers.get("content-type"):null,r=null==t?void 0:t.includes("xml"),n=new i.MicrodataRdfParser({baseIRI:e.baseIRI,xmlMode:r});n.on("error",e.error),n.on("data",e.emit);const o=n.onEnd;return n.onEnd=()=>{o.call(n),e.end()},{htmlParseListener:n}}}t.ActorRdfParseHtmlMicrodata=o},"./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-next/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-next/lib/ActorRdfResolveHypermediaLinksNext.js"),t)},"./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-next/lib/ActorRdfResolveHypermediaLinksNext.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermediaLinksNext=void 0;const n=r("./node_modules/@comunica/bus-rdf-resolve-hypermedia-links/index.js");class i extends n.ActorRdfResolveHypermediaLinks{constructor(e){super(e)}async test(e){if(!e.metadata.next)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(e){return{urls:[e.metadata.next]}}}t.ActorRdfResolveHypermediaLinksNext=i},"./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-queue-fifo/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-queue-fifo/lib/ActorRdfResolveHypermediaLinksQueueFifo.js"),t),i(r("./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-queue-fifo/lib/LinkQueueFifo.js"),t)},"./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-queue-fifo/lib/ActorRdfResolveHypermediaLinksQueueFifo.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const n=r("./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/index.js"),i=r("./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-queue-fifo/lib/LinkQueueFifo.js");class o extends n.ActorRdfResolveHypermediaLinksQueue{constructor(e){super(e)}async test(e){return!0}async run(e){return{linkQueue:new i.LinkQueueFifo}}}t.ActorRdfResolveHypermediaLinksQueueFifo=o},"./node_modules/@comunica/actor-rdf-resolve-hypermedia-links-queue-fifo/lib/LinkQueueFifo.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkQueueFifo=void 0;t.LinkQueueFifo=class{constructor(){this.links=[]}push(e){return this.links.push(e),!0}getSize(){return this.links.length}isEmpty(){return 0===this.links.length}pop(){return this.links.shift()}peek(){return this.links[0]}}},"./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/ActorRdfResolveQuadPatternFederated.js"),t),i(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js"),t)},"./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/ActorRdfResolveQuadPatternFederated.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveQuadPatternFederated=void 0;const n=r("./node_modules/@comunica/bus-rdf-resolve-quad-pattern/index.js"),i=r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js");class o extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.emptyPatterns=new Map}async test(e){if(!this.getContextSources(e.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);return!0}async getSource(e){return new i.FederatedQuadSource(this.mediatorResolveQuadPattern,e,this.emptyPatterns,this.skipEmptyPatterns)}}t.ActorRdfResolveQuadPatternFederated=o},"./node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FederatedQuadSource=void 0;const n=r("./node_modules/@comunica/bus-rdf-resolve-quad-pattern/index.js"),i=r("./node_modules/@comunica/context-entries/index.js"),o=r("./node_modules/@comunica/data-factory/index.js"),s=r("asynciterator"),a=r("rdf-data-factory"),u=r("./node_modules/rdf-terms/index.js"),c=r("sparqlalgebrajs"),l=new a.DataFactory;class d{constructor(e,t,r,n){if(this.mediatorResolveQuadPattern=e,this.sources=t.get(i.KeysRdfResolveQuadPattern.sources),this.contextDefault=t.delete(i.KeysRdfResolveQuadPattern.sources),this.emptyPatterns=r,this.sourceIds=new Map,this.skipEmptyPatterns=n,this.algebraFactory=new c.Factory,this.skipEmptyPatterns)for(const e of this.sources)this.emptyPatterns.has(e)||this.emptyPatterns.set(e,[])}static isTermBound(e){return"Variable"!==e.termType}static isSubPatternOf(e,t){return(!d.isTermBound(t.subject)||t.subject.equals(e.subject))&&(!d.isTermBound(t.predicate)||t.predicate.equals(e.predicate))&&(!d.isTermBound(t.object)||t.object.equals(e.object))&&(!d.isTermBound(t.graph)||t.graph.equals(e.graph))}static skolemizeTerm(e,t){return"BlankNode"===e.termType?new o.BlankNodeScoped(`bc_${t}_${e.value}`,l.namedNode(`${d.SKOLEM_PREFIX}${t}:${e.value}`)):e}static skolemizeQuad(e,t){return u.mapTerms(e,e=>d.skolemizeTerm(e,t))}static deskolemizeTerm(e,t){if("BlankNode"===e.termType&&"skolemized"in e&&(e=e.skolemized),"NamedNode"===e.termType&&e.value.startsWith(d.SKOLEM_PREFIX)){const r=e.value.indexOf(":",d.SKOLEM_PREFIX.length);if(e.value.slice(d.SKOLEM_PREFIX.length,r)===t){const t=e.value.slice(r+1,e.value.length);return l.blankNode(t)}return null}return e}isSourceEmpty(e,t){if(!this.skipEmptyPatterns)return!1;const r=this.emptyPatterns.get(e);if(r)for(const e of r)if(d.isSubPatternOf(t,e))return!0;return!1}getSourceId(e){let t=this.sourceIds.get(e);return void 0===t&&(t=""+this.sourceIds.size,this.sourceIds.set(e,t)),t}match(e,t,r,o){const a={totalItems:0};let u=this.sources.length;const c=(e,t,r,n)=>{this.skipEmptyPatterns&&!e&&r&&!this.isSourceEmpty(t,r)&&this.emptyPatterns.get(t).push(r),u||(n&&1===this.sources.length?p.setProperty("metadata",n):p.setProperty("metadata",a))},l=Promise.all(this.sources.map(async l=>{const h=this.getSourceId(l),f=d.deskolemizeTerm(e,h),m=d.deskolemizeTerm(t,h),y=d.deskolemizeTerm(r,h),g=d.deskolemizeTerm(o,h);let b,_,v=n.getDataSourceContext(l,this.contextDefault);v=v.set(i.KeysRdfResolveQuadPattern.source,{type:n.getDataSourceType(l),value:n.getDataSourceValue(l)}),f&&m&&y&&g&&!this.isSourceEmpty(l,b=this.algebraFactory.createPattern(f,m,y,g))?_=await this.mediatorResolveQuadPattern.mediate({pattern:b,context:v}):(_={data:new s.ArrayIterator([],{autoStart:!1})},_.data.setProperty("metadata",{totalItems:0})),_.data.getProperty("metadata",e=>{!e.totalItems&&0!==e.totalItems||!Number.isFinite(e.totalItems)?(a.totalItems=Number.POSITIVE_INFINITY,u=0,c(Number.POSITIVE_INFINITY,l,b,e)):(a.totalItems+=e.totalItems,u--,c(e.totalItems,l,b,e))});let w=_.data.map(e=>d.skolemizeQuad(e,h));return"Variable"===o.termType&&(w=w.filter(e=>"DefaultGraph"!==e.graph.termType)),w.on("error",e=>p.emit("error",e)),w})),p=new s.TransformIterator(async()=>new s.UnionIterator(await l),{autoStart:!1});return 0===this.sources.length&&p.setProperty("metadata",a),p}}t.FederatedQuadSource=d,d.SKOLEM_PREFIX="urn:comunica_skolem:source_"},"./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/ActorRdfResolveQuadPatternRdfJsSource.js"),t),i(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/IRdfJsSourceExtended.js"),t),i(r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js"),t)},"./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/ActorRdfResolveQuadPatternRdfJsSource.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveQuadPatternRdfJsSource=void 0;const n=r("./node_modules/@comunica/bus-rdf-resolve-quad-pattern/index.js"),i=r("./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js");class o extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e)}async test(e){if(!this.hasContextSingleSourceOfType("rdfjsSource",e.context))throw new Error(this.name+" requires a single source with an rdfjsSource to be present in the context.");const t=this.getContextSource(e.context);if(!t||"string"==typeof t||!("match"in t)&&!t.value.match)throw new Error(this.name+" received an invalid rdfjsSource.");return!0}async getSource(e){const t=this.getContextSource(e);return new i.RdfJsQuadSource("match"in t?t:t.value)}}t.ActorRdfResolveQuadPatternRdfJsSource=o},"./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/IRdfJsSourceExtended.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RdfJsQuadSource=void 0;const n=r("asynciterator");class i{constructor(e){this.source=e}static nullifyVariables(e){return e&&"Variable"!==e.termType?e:void 0}match(e,t,r,o){const s=this.source.match(i.nullifyVariables(e),i.nullifyVariables(t),i.nullifyVariables(r),i.nullifyVariables(o)),a=n.wrap(s,{autoStart:!1});return this.setMetadata(a,e,t,r,o).catch(e=>a.destroy(e)),a}async setMetadata(e,t,r,n,o){let s;if(this.source.countQuads)s=await this.source.countQuads(i.nullifyVariables(t),i.nullifyVariables(r),i.nullifyVariables(n),i.nullifyVariables(o));else{let e=0;s=await new Promise((s,a)=>{const u=this.source.match(i.nullifyVariables(t),i.nullifyVariables(r),i.nullifyVariables(n),i.nullifyVariables(o));u.on("error",a),u.on("end",()=>s(e)),u.on("data",()=>e++)})}e.setProperty("metadata",{totalItems:s})}}t.RdfJsQuadSource=i},"./node_modules/@comunica/actor-rdf-serialize-jsonld/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-serialize-jsonld/lib/ActorRdfSerializeJsonLd.js"),t)},"./node_modules/@comunica/actor-rdf-serialize-jsonld/lib/ActorRdfSerializeJsonLd.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeJsonLd=void 0;const n=r("./node_modules/@comunica/bus-rdf-serialize/index.js"),i=r("./require-empty.js");class o extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){return{data:new i.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)}).import(e.quadStream)}}}t.ActorRdfSerializeJsonLd=o},"./node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js"),t)},"./node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfUpdateQuadsRdfJsStore=void 0;const n=r("./node_modules/@comunica/bus-rdf-update-quads/index.js"),i=r("./node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js");class o extends n.ActorRdfUpdateQuadsDestination{constructor(e){super(e)}async test(e){const t=this.getContextDestination(e.context);if(!t||"string"==typeof t||!("remove"in t)&&"value"in t&&!t.value.remove)throw new Error(this.name+" received an invalid rdfjsStore.");return!0}async getDestination(e){const t=this.getContextDestination(e);return new i.RdfJsQuadDestination("remove"in t?t:t.value)}}t.ActorRdfUpdateQuadsRdfJsStore=o},"./node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RdfJsQuadDestination=void 0;const n=r("rdf-data-factory"),i=r("./node_modules/rdf-string/index.js"),o=new n.DataFactory;t.RdfJsQuadDestination=class{constructor(e){this.store=e}promisifyEventEmitter(e){return new Promise((t,r)=>{e.on("end",t),e.on("error",r)})}delete(e){return this.promisifyEventEmitter(this.store.remove(e))}insert(e){return this.promisifyEventEmitter(this.store.import(e))}async deleteGraphs(e,t,r){switch(e){case"ALL":await this.promisifyEventEmitter(this.store.deleteGraph(o.defaultGraph()));case"NAMED":const t=this.store.match(),r={};t.on("data",e=>{"DefaultGraph"!==e.graph.termType&&(r[i.termToString(e.graph)]=!0)}),await this.promisifyEventEmitter(t),await Promise.all(Object.keys(r).map(e=>this.promisifyEventEmitter(this.store.deleteGraph(i.stringToTerm(e)))));break;default:return await this.promisifyEventEmitter(this.store.deleteGraph(e))}}createGraph(e,t){if(t){const t=this.store.match(void 0,void 0,void 0,e);return new Promise((r,n)=>{t.once("data",()=>{n(new Error(`Unable to create graph ${e.value} as it already exists`))}),t.on("end",r),t.on("error",n)})}return Promise.resolve()}}},"./node_modules/@comunica/actor-sparql-parse-algebra/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-sparql-parse-algebra/lib/ActorSparqlParseAlgebra.js"),t)},"./node_modules/@comunica/actor-sparql-parse-algebra/lib/ActorSparqlParseAlgebra.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlParseAlgebra=void 0;const n=r("./node_modules/@comunica/bus-sparql-parse/index.js"),i=r("sparqlalgebrajs"),o=r("sparqljs");class s extends n.ActorSparqlParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){if(e.queryFormat&&"sparql"!==e.queryFormat)throw new Error("This actor can only parse SPARQL queries");return!0}async run(e){const t=new o.Parser({prefixes:this.prefixes,baseIRI:e.baseIRI});t._resetBlanks();const r=t.parse(e.query);return{baseIRI:"query"===r.type?r.base:void 0,operation:i.translate(r,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:e.baseIRI})}}}t.ActorSparqlParseAlgebra=s},"./node_modules/@comunica/actor-sparql-serialize-sparql-csv/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/actor-sparql-serialize-sparql-csv/lib/ActorSparqlSerializeSparqlCsv.js"),t)},"./node_modules/@comunica/actor-sparql-serialize-sparql-csv/lib/ActorSparqlSerializeSparqlCsv.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerializeSparqlCsv=void 0;const n=r("./require-empty.js"),i=r("./node_modules/@comunica/bus-sparql-serialize/index.js");class o extends i.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let t=e.value;return t="Literal"===e.termType?""+t:"BlankNode"===e.termType?"_:"+t:`<${t}>`,/[",\n\r]/u.test(t)&&(t=`"${t.replace(/"/gu,'""')}"`),t}async testHandleChecked(e,t){if("bindings"!==e.type)throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,t,r){const i=e,s=new n.Readable;return s._read=()=>{},s.push(i.variables.map(e=>e.slice(1)).join(",")+"\r\n"),i.bindingsStream.on("error",e=>{s.emit("error",e)}),i.bindingsStream.on("data",e=>{s.push(i.variables.map(t=>o.bindingToCsvBindings(e.get(t))).join(",")+"\r\n")}),i.bindingsStream.on("end",()=>{s.push(null)}),{data:s}}}t.ActorSparqlSerializeSparqlCsv=o},"./node_modules/@comunica/bus-context-preprocess/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js"),t)},"./node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorContextPreprocess=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorContextPreprocess=i},"./node_modules/@comunica/bus-http-invalidate/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidate.js"),t),i(r("./node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidateListenable.js"),t)},"./node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHttpInvalidate=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorHttpInvalidate=i},"./node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidateListenable.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHttpInvalidateListenable=void 0;const n=r("./node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidate.js");class i extends n.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return!0}async run(e){for(const t of this.invalidateListeners)t(e);return!0}}t.ActorHttpInvalidateListenable=i},"./node_modules/@comunica/bus-http/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-http/lib/ActorHttp.js"),t)},"./node_modules/@comunica/bus-http/lib/ActorHttp.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_AUTH=t.KEY_CONTEXT_INCLUDE_CREDENTIALS=t.ActorHttp=void 0;const n=r("./node_modules/@comunica/context-entries/index.js"),i=r("./node_modules/@comunica/core/index.js"),o=r("./node_modules/is-stream/index.js"),s=r("./require-empty.js").toNodeReadable;class a extends i.Actor{constructor(e){super(e)}static toNodeReadable(e){return o(e)?e:s(e)}static headersToHash(e){const t={};return e.forEach((e,r)=>{t[r]=e}),t}}t.ActorHttp=a,t.KEY_CONTEXT_INCLUDE_CREDENTIALS=n.KeysHttp.includeCredentials,t.KEY_CONTEXT_AUTH=n.KeysHttp.auth},"./node_modules/@comunica/bus-init/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-init/lib/ActorInit.js"),t)},"./node_modules/@comunica/bus-init/lib/ActorInit.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorInit=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorInit=i},"./node_modules/@comunica/bus-optimize-query-operation/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js"),t)},"./node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperation=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorOptimizeQueryOperation=i},"./node_modules/@comunica/bus-query-operation/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js"),t),i(r("./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js"),t),i(r("./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js"),t),i(r("./node_modules/@comunica/bus-query-operation/lib/Bindings.js"),t)},"./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadata=t.ActorQueryOperation=t.KEY_CONTEXT_READONLY=t.KEY_CONTEXT_QUERY_TIMESTAMP=t.KEY_CONTEXT_BASEIRI=t.KEY_CONTEXT_PATTERN_PARENTMETADATA=t.KEY_CONTEXT_BGP_PATTERNBINDINGS=t.KEY_CONTEXT_BGP_PARENTMETADATA=t.KEY_CONTEXT_BGP_CURRENTMETADATA=void 0;const n=r("./node_modules/@comunica/context-entries/index.js"),i=r("./node_modules/@comunica/core/index.js"),o=r("./node_modules/@comunica/data-factory/index.js"),s=r("./node_modules/@comunica/bus-query-operation/lib/Bindings.js");t.KEY_CONTEXT_BGP_CURRENTMETADATA=n.KeysQueryOperation.bgpCurrentMetadata,t.KEY_CONTEXT_BGP_PARENTMETADATA=n.KeysQueryOperation.bgpParentMetadata,t.KEY_CONTEXT_BGP_PATTERNBINDINGS=n.KeysQueryOperation.bgpPatternBindings,t.KEY_CONTEXT_PATTERN_PARENTMETADATA=n.KeysQueryOperation.patternParentMetadata,t.KEY_CONTEXT_BASEIRI=n.KeysInitSparql.baseIRI,t.KEY_CONTEXT_QUERY_TIMESTAMP=n.KeysInitSparql.queryTimestamp,t.KEY_CONTEXT_READONLY=n.KeysQueryOperation.readOnly;let a=0;class u extends i.Actor{constructor(e){super(e)}static getSafeBindings(e){return u.validateQueryOutput(e,"bindings"),e}static getSafeQuads(e){return u.validateQueryOutput(e,"quads"),e}static getSafeBoolean(e){return u.validateQueryOutput(e,"boolean"),e}static getSafeUpdate(e){return u.validateQueryOutput(e,"update"),e}static cachifyMetadata(e){let t;return e&&(()=>t||(t=e()))}static validateQueryOutput(e,t){if(e.type!==t)throw new Error(`Invalid query output type: Expected '${t}' but got '${e.type}'`)}static getBaseExpressionContext(e){if(e){return{now:e.get(n.KeysInitSparql.queryTimestamp),baseIRI:e.get(n.KeysInitSparql.baseIRI)}}return{}}static getExpressionContext(e,t){return Object.assign(Object.assign({},this.getBaseExpressionContext(e)),{bnode:e=>new o.BlankNodeBindingsScoped(e||"BNODE_"+a++)})}static getAsyncExpressionContext(e,t){const r=Object.assign(Object.assign({},this.getBaseExpressionContext(e)),{bnode:e=>Promise.resolve(new o.BlankNodeBindingsScoped(e||"BNODE_"+a++))});return e&&t&&(r.exists=u.createExistenceResolver(e,t)),r}static createExistenceResolver(e,t){return async(r,n)=>{const i=s.materializeOperation(r.input,n),o=await t.mediate({operation:i,context:e}),a=u.getSafeBindings(o);return new Promise((e,t)=>{a.bindingsStream.on("end",()=>{e(!1)}),a.bindingsStream.on("error",t),a.bindingsStream.on("data",()=>{a.bindingsStream.close(),e(!0)})}).then(e=>r.not?!e:e)}}static throwOnReadOnly(e){if(e&&e.get(t.KEY_CONTEXT_READONLY))throw new Error("Attempted a write operation in read-only mode")}}t.ActorQueryOperation=u,t.getMetadata=function(e){return e.metadata?e.metadata():Promise.resolve({})}},"./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationTyped=t.KEY_CONTEXT_QUERYOPERATION=void 0;const n=r("./node_modules/@comunica/context-entries/index.js"),i=r("./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js");t.KEY_CONTEXT_QUERYOPERATION=n.KeysQueryOperation.operation;class o extends i.ActorQueryOperation{constructor(e,t){if(super(Object.assign(Object.assign({},e),{operationName:t})),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");if(e.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${e.operation.type}`);const t=e.operation;return this.testOperation(t,e.context)}async run(e){const t=e.operation,r=e.context&&e.context.set(n.KeysQueryOperation.operation,t),o=await this.runOperation(t,r);return o.metadata&&(o.metadata=i.ActorQueryOperation.cachifyMetadata(o.metadata)),o}}t.ActorQueryOperationTyped=o},"./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationTypedMediated=void 0;const n=r("./node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js");class i extends n.ActorQueryOperationTyped{constructor(e,t){super(e,t)}}t.ActorQueryOperationTypedMediated=i},"./node_modules/@comunica/bus-query-operation/lib/Bindings.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.materializeOperation=t.materializeTerm=t.ensureBindings=t.isBindings=t.Bindings=void 0;const n=r("./node_modules/immutable/dist/immutable.js"),i=r("./node_modules/rdf-string/index.js"),o=r("sparqlalgebrajs");function s(e){return n.Map(e)}function a(e){return n.Map.isMap(e)}function u(e,t){if("Variable"===e.termType){const r=t.get(i.termToString(e));if(r)return r}return e}t.Bindings=s,t.isBindings=a,t.ensureBindings=function(e){return a(e)?e:s(e)},t.materializeTerm=u,t.materializeOperation=function e(t,r,n=!1){return o.Util.mapOperation(t,{path:(e,t)=>({recurse:!1,result:t.createPath(u(e.subject,r),e.predicate,u(e.object,r),u(e.graph,r))}),pattern:(e,t)=>({recurse:!1,result:t.createPattern(u(e.subject,r),u(e.predicate,r),u(e.object,r),u(e.graph,r))}),extend(t){if(r.has(i.termToString(t.variable))){if(n)throw new Error(`Tried to bind variable ${i.termToString(t.variable)} in a BIND operator.`);return{recurse:!0,result:e(t.input,r,n)}}return{recurse:!0,result:t}},group(e,t){if(n){for(const t of e.variables)if(r.has(i.termToString(t)))throw new Error(`Tried to bind variable ${i.termToString(t)} in a GROUP BY operator.`);return{recurse:!0,result:e}}const o=e.variables.filter(e=>!r.has(i.termToString(e)));return{recurse:!0,result:t.createGroup(e.input,o,e.aggregates)}},project(e,t){if(n){for(const t of e.variables)if(r.has(i.termToString(t)))throw new Error(`Tried to bind variable ${i.termToString(t)} in a SELECT operator.`);return{recurse:!0,result:e}}const o=e.variables.filter(e=>!r.has(i.termToString(e)));return{recurse:!0,result:t.createProject(e.input,o)}},values(e,t){if(!n){const n=e.variables.filter(e=>!r.has(i.termToString(e))),o=e.bindings.map(e=>{const t=Object.assign({},e);return r.forEach((e,r)=>delete t[r]),t});return{recurse:!0,result:t.createValues(n,o)}}for(const t of e.variables)if(r.has(i.termToString(t)))throw new Error(`Tried to bind variable ${i.termToString(t)} in a VALUES operator.`);return{recurse:!1,result:e}},expression(e,t){if("term"===e.expressionType)return{recurse:!1,result:t.createTermExpression(u(e.term,r))};if("aggregate"===e.expressionType&&"variable"in e&&r.has(i.termToString(e.variable))){if(n)throw new Error(`Tried to bind ${i.termToString(e.variable)} in a ${e.aggregator} aggregate.`);return{recurse:!0,result:e}}return{recurse:!0,result:e}}})}},"./node_modules/@comunica/bus-rdf-join/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js"),t)},"./node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoin=void 0;const n=r("./node_modules/@comunica/core/index.js"),i=r("asynciterator");class o extends n.Actor{constructor(e,t,r,n){super(e),this.limitEntries=null!=t?t:Number.POSITIVE_INFINITY,this.limitEntriesMin=null!=r&&r,this.canHandleUndefs=null!=n&&n}static overlappingVariables(e){const t=e.entries.map(e=>e.variables);let r=t[0];for(const e of t.slice(1))r=r.filter(t=>e.includes(t));return r}static joinVariables(e){const t=e.entries.map(e=>e.variables).reduce((e,t)=>[...e,...t],[]);return[...new Set(t)]}static join(...e){try{return e.reduce((e,t)=>e.mergeWith((e,t)=>{if(!e.equals(t))throw new Error("Join failure");return e},t))}catch(e){return null}}static async iteratorsHaveMetadata(e,t){return Promise.all(e.entries.map(async e=>{if(!e.metadata)throw new Error("Missing metadata");const r=await e.metadata();if(!(t in r))throw new Error("Missing metadata value")})).then(()=>!0).catch(()=>!1)}async test(e){if(e.entries.length<=1)return{iterations:0};if(this.limitEntriesMin?e.entries.length<this.limitEntries:e.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} sources at ${this.limitEntriesMin?"least":"most"}. The input contained ${e.entries.length}.`);for(const t of e.entries)if("bindings"!==t.type)throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${t.type}'`);if(!this.canHandleUndefs)for(const t of e.entries)if(t.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`);return await o.iteratorsHaveMetadata(e,"totalItems")?{iterations:await this.getIterations(e)}:{iterations:Number.POSITIVE_INFINITY}}async run(e){if(0===e.entries.length)return{bindingsStream:new i.ArrayIterator([],{autoStart:!1}),metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:[],canContainUndefs:!1};if(1===e.entries.length)return e.entries[0];const t=this.getOutput(e);function r(){return Promise.all(e.entries.map(e=>e.metadata())).then(e=>e.reduce((e,t)=>e*t.totalItems,1))}if(await o.iteratorsHaveMetadata(e,"totalItems")){const e=await t;if(e.metadata){const t=e.metadata;e.metadata=()=>t().then(async e=>("totalItems"in e||(e.totalItems=await r()),e))}else e.metadata=()=>r().then(e=>({totalItems:e}));return e}return t}}t.ActorRdfJoin=o},"./node_modules/@comunica/bus-rdf-parse-html/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-rdf-parse-html/lib/ActorRdfParseHtml.js"),t)},"./node_modules/@comunica/bus-rdf-parse-html/lib/ActorRdfParseHtml.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfParseHtml=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfParseHtml=i},"./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/lib/ActorRdfResolveHypermediaLinksQueue.js"),t),i(r("./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/lib/ILinkQueue.js"),t),i(r("./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/lib/LinkQueueWrapper.js"),t)},"./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/lib/ActorRdfResolveHypermediaLinksQueue.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermediaLinksQueue=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfResolveHypermediaLinksQueue=i},"./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/lib/ILinkQueue.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@comunica/bus-rdf-resolve-hypermedia-links-queue/lib/LinkQueueWrapper.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkQueueWrapper=void 0;t.LinkQueueWrapper=class{constructor(e){this.linkQueue=e}push(e,t){return this.linkQueue.push(e,t)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}}},"./node_modules/@comunica/bus-rdf-resolve-hypermedia-links/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-rdf-resolve-hypermedia-links/lib/ActorRdfResolveHypermediaLinks.js"),t)},"./node_modules/@comunica/bus-rdf-resolve-hypermedia-links/lib/ActorRdfResolveHypermediaLinks.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermediaLinks=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfResolveHypermediaLinks=i},"./node_modules/@comunica/bus-rdf-resolve-quad-pattern/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js"),t),i(r("./node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPatternSource.js"),t)},"./node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveQuadPattern=t.getDataSourceContext=t.getDataSourceValue=t.getDataSourceType=t.isDataSourceRawType=t.KEY_CONTEXT_SOURCE=t.KEY_CONTEXT_SOURCES=void 0;const n=r("./node_modules/@comunica/context-entries/index.js"),i=r("./node_modules/@comunica/core/index.js");function o(e){return"string"==typeof e||"match"in e}function s(e){return"string"==typeof e?"":"match"in e?"rdfjsSource":e.type}function a(e){return o(e)?e:e.value}t.KEY_CONTEXT_SOURCES=n.KeysRdfResolveQuadPattern.sources,t.KEY_CONTEXT_SOURCE=n.KeysRdfResolveQuadPattern.source,t.isDataSourceRawType=o,t.getDataSourceType=s,t.getDataSourceValue=a,t.getDataSourceContext=function(e,t){return"string"==typeof e||"match"in e||!e.context?t:t.merge(e.context)};class u extends i.Actor{constructor(e){super(e)}getContextSources(e){return e?e.get(n.KeysRdfResolveQuadPattern.sources):void 0}getContextSource(e){return e?e.get(n.KeysRdfResolveQuadPattern.source):void 0}getContextSourceUrl(e){if(e){let t=a(e);if("string"==typeof t){const e=t.indexOf("#");return e>=0&&(t=t.slice(0,e)),t}}}hasContextSingleSource(e){const t=this.getContextSource(e);return Boolean(t&&(o(t)||t.value))}hasContextSingleSourceOfType(e,t){const r=this.getContextSource(t);return Boolean(r&&s(r)===e&&a(r))}}t.ActorRdfResolveQuadPattern=u},"./node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPatternSource.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveQuadPatternSource=void 0;const n=r("./node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js");class i extends n.ActorRdfResolveQuadPattern{constructor(e){super(e)}async test(e){return!0}async run(e){const t=await this.getSource(e.context,e.pattern);return await this.getOutput(t,e.pattern,e.context)}async getOutput(e,t,r){return{data:e.match(t.subject,t.predicate,t.object,t.graph)}}}t.ActorRdfResolveQuadPatternSource=i},"./node_modules/@comunica/bus-rdf-serialize/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-rdf-serialize/lib/ActorRdfSerialize.js"),t),i(r("./node_modules/@comunica/bus-rdf-serialize/lib/ActorRdfSerializeFixedMediaTypes.js"),t)},"./node_modules/@comunica/bus-rdf-serialize/lib/ActorRdfSerialize.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerialize=void 0;const n=r("./node_modules/@comunica/actor-abstract-mediatyped/index.js");class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorRdfSerialize=i},"./node_modules/@comunica/bus-rdf-serialize/lib/ActorRdfSerializeFixedMediaTypes.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeFixedMediaTypes=void 0;const n=r("./node_modules/@comunica/actor-abstract-mediatyped/index.js");class i extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}t.ActorRdfSerializeFixedMediaTypes=i},"./node_modules/@comunica/bus-rdf-update-quads/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js"),t),i(r("./node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js"),t)},"./node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfUpdateQuads=t.getDataDestinationContext=t.getDataDestinationValue=t.getDataDestinationType=t.isDataDestinationRawType=t.KEY_CONTEXT_DESTINATION=void 0;const n=r("./node_modules/@comunica/context-entries/index.js"),i=r("./node_modules/@comunica/core/index.js");function o(e){return"string"==typeof e||"remove"in e}function s(e){return o(e)?e:e.value}t.KEY_CONTEXT_DESTINATION=n.KeysRdfUpdateQuads.destination,t.isDataDestinationRawType=o,t.getDataDestinationType=function(e){return"string"==typeof e?"":"remove"in e?"rdfjsStore":e.type},t.getDataDestinationValue=s,t.getDataDestinationContext=function(e,t){return"string"==typeof e||"remove"in e||!e.context?t:t.merge(e.context)};class a extends i.Actor{constructor(e){super(e)}getContextDestination(e){return e?e.get(t.KEY_CONTEXT_DESTINATION):void 0}getContextDestinationUrl(e){if(e){let t=s(e);if("string"==typeof t){const e=t.indexOf("#");return e>=0&&(t=t.slice(0,e)),t}}}}t.ActorRdfUpdateQuads=a},"./node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfUpdateQuadsDestination=void 0;const n=r("./node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js");class i extends n.ActorRdfUpdateQuads{async test(e){return!0}async run(e){const t=await this.getDestination(e.context);return await this.getOutput(t,e,e.context)}async getOutput(e,t,r){return{updateResult:Promise.all([t.quadStreamInsert?e.insert(t.quadStreamInsert):Promise.resolve(),t.quadStreamDelete?e.delete(t.quadStreamDelete):Promise.resolve(),t.deleteGraphs?e.deleteGraphs(t.deleteGraphs.graphs,t.deleteGraphs.requireExistence,t.deleteGraphs.dropGraphs):Promise.resolve(),t.createGraph?e.createGraph(t.createGraph.graph,t.createGraph.requireNonExistence):Promise.resolve()]).then(()=>{})}}}t.ActorRdfUpdateQuadsDestination=i},"./node_modules/@comunica/bus-sparql-parse/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-sparql-parse/lib/ActorSparqlParse.js"),t)},"./node_modules/@comunica/bus-sparql-parse/lib/ActorSparqlParse.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlParse=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Actor{constructor(e){super(e)}}t.ActorSparqlParse=i},"./node_modules/@comunica/bus-sparql-serialize/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/bus-sparql-serialize/lib/ActorSparqlSerialize.js"),t),i(r("./node_modules/@comunica/bus-sparql-serialize/lib/ActorSparqlSerializeFixedMediaTypes.js"),t)},"./node_modules/@comunica/bus-sparql-serialize/lib/ActorSparqlSerialize.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerialize=void 0;const n=r("./node_modules/@comunica/actor-abstract-mediatyped/index.js");class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorSparqlSerialize=i},"./node_modules/@comunica/bus-sparql-serialize/lib/ActorSparqlSerializeFixedMediaTypes.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerializeFixedMediaTypes=void 0;const n=r("./node_modules/@comunica/actor-abstract-mediatyped/index.js");class i extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,t){return!0}}t.ActorSparqlSerializeFixedMediaTypes=i},"./node_modules/@comunica/context-entries/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/context-entries/lib/Keys.js"),t)},"./node_modules/@comunica/context-entries/lib/Keys.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeysRdfUpdateQuads=t.KeysRdfResolveQuadPattern=t.KeysRdfParseJsonLd=t.KeysQueryOperation=t.KeysInitSparql=t.KeysHttpProxy=t.KeysHttpMemento=t.KeysHttp=t.KeysCore=void 0,function(e){e.log="@comunica/core:log"}(t.KeysCore||(t.KeysCore={})),function(e){e.includeCredentials="@comunica/bus-http:include-credentials",e.auth="@comunica/bus-http:auth"}(t.KeysHttp||(t.KeysHttp={})),function(e){e.datetime="@comunica/actor-http-memento:datetime"}(t.KeysHttpMemento||(t.KeysHttpMemento={})),function(e){e.httpProxyHandler="@comunica/actor-http-proxy:httpProxyHandler"}(t.KeysHttpProxy||(t.KeysHttpProxy={})),function(e){e.initialBindings="@comunica/actor-init-sparql:initialBindings",e.queryFormat="@comunica/actor-init-sparql:queryFormat",e.graphqlSingularizeVariables="@comunica/actor-init-sparql:singularizeVariables",e.lenient="@comunica/actor-init-sparql:lenient",e.query="@comunica/actor-init-sparql:query",e.baseIRI="@comunica/actor-init-sparql:baseIRI",e.queryTimestamp="@comunica/actor-init-sparql:queryTimestamp"}(t.KeysInitSparql||(t.KeysInitSparql={})),function(e){e.operation="@comunica/bus-query-operation:operation",e.bgpCurrentMetadata="@comunica/bus-query-operation:bgpCurrentMetadata",e.bgpParentMetadata="@comunica/bus-query-operation:bgpParentMetadata",e.bgpPatternBindings="@comunica/bus-query-operation:bgpPatternBindings",e.patternParentMetadata="@comunica/bus-query-operation:patternParentMetadata",e.readOnly="@comunica/bus-query-operation:readOnly"}(t.KeysQueryOperation||(t.KeysQueryOperation={})),function(e){e.documentLoader="@comunica/actor-rdf-parse-jsonld:documentLoader",e.strictValues="@comunica/actor-rdf-parse-jsonld:strictValues"}(t.KeysRdfParseJsonLd||(t.KeysRdfParseJsonLd={})),function(e){e.sources="@comunica/bus-rdf-resolve-quad-pattern:sources",e.source="@comunica/bus-rdf-resolve-quad-pattern:source"}(t.KeysRdfResolveQuadPattern||(t.KeysRdfResolveQuadPattern={})),function(e){e.destination="@comunica/bus-rdf-update-quads:destination"}(t.KeysRdfUpdateQuads||(t.KeysRdfUpdateQuads={}))},"./node_modules/@comunica/core/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/core/lib/Bus.js"),t),i(r("./node_modules/@comunica/core/lib/BusIndexed.js"),t),i(r("./node_modules/@comunica/core/lib/ActionObserver.js"),t),i(r("./node_modules/@comunica/core/lib/Actor.js"),t),i(r("./node_modules/@comunica/core/lib/Logger.js"),t),i(r("./node_modules/@comunica/core/lib/Mediator.js"),t)},"./node_modules/@comunica/core/lib/ActionObserver.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionObserver=void 0;t.ActionObserver=class{constructor(e){Object.assign(this,e)}}},"./node_modules/@comunica/core/lib/Actor.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureActionContext=t.ActionContext=t.Actor=void 0;const n=r("./node_modules/@comunica/context-entries/index.js"),i=r("./node_modules/immutable/dist/immutable.js");class o{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e&&e.get(n.KeysCore.log)}runObservable(e){const t=this.run(e);return this.bus.onRun(this,e,t),t}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,t){const r=t?t():{};return r.actor=this.name,r}logTrace(e,t,r){const n=o.getContextLogger(e);n&&n.trace(t,this.getDefaultLogData(e,r))}logDebug(e,t,r){const n=o.getContextLogger(e);n&&n.debug(t,this.getDefaultLogData(e,r))}logInfo(e,t,r){const n=o.getContextLogger(e);n&&n.info(t,this.getDefaultLogData(e,r))}logWarn(e,t,r){const n=o.getContextLogger(e);n&&n.warn(t,this.getDefaultLogData(e,r))}logError(e,t,r){const n=o.getContextLogger(e);n&&n.error(t,this.getDefaultLogData(e,r))}logFatal(e,t,r){const n=o.getContextLogger(e);n&&n.fatal(t,this.getDefaultLogData(e,r))}}function s(e){return i.Map(e)}t.Actor=o,t.ActionContext=s,t.ensureActionContext=function(e){return i.Map.isMap(e)?e:s(e)}},"./node_modules/@comunica/core/lib/Bus.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bus=void 0;t.Bus=class{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const t=this.actors.indexOf(e);return t>=0&&(this.actors.splice(t,1),!0)}unsubscribeObserver(e){const t=this.observers.indexOf(e);return t>=0&&(this.observers.splice(t,1),!0)}publish(e){return this.actors.map(t=>({actor:t,reply:t.test(e)}))}onRun(e,t,r){for(const n of this.observers)n.onRun(e,t,r)}addDependencies(e,t){for(const r of t){let t=this.dependencyLinks.get(r);t||(t=[],this.dependencyLinks.set(r,t)),t.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const t of this.dependencyLinks.keys()){const r=this.actors.indexOf(t);r>=0&&(this.actors.splice(r,1),e.push(t))}for(;e.length>0;){let t=-1;for(let r=0;r<e.length;r++){let n=!0;for(const t of this.dependencyLinks.get(e[r]))if(!this.actors.includes(t)&&e.includes(t)){n=!1;break}if(n){t=r;break}}if(t<0)throw new Error("Cyclic dependency links detected in bus "+this.name);const r=e.splice(t,1)[0];this.actors.push(r)}}}}},"./node_modules/@comunica/core/lib/BusIndexed.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusIndexed=void 0;const n=r("./node_modules/@comunica/core/lib/Bus.js");class i extends n.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){const t=this.getActorIdentifier(e)||"_undefined_";let r=this.actorsIndex[t];r||(r=this.actorsIndex[t]=[]),r.push(e),super.subscribe(e)}unsubscribe(e){const t=this.getActorIdentifier(e)||"_undefined_",r=this.actorsIndex[t];if(r){const n=r.indexOf(e);n>=0&&r.splice(n,1),0===r.length&&delete this.actorsIndex[t]}return super.unsubscribe(e)}publish(e){const t=this.getActionIdentifier(e);if(t){return[...this.actorsIndex[t]||[],...this.actorsIndex._undefined_||[]].map(t=>({actor:t,reply:t.test(e)}))}return super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce((e,t)=>e[t],e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce((e,t)=>e[t],e)}}t.BusIndexed=i},"./node_modules/@comunica/core/lib/Logger.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_LOG=t.Logger=void 0;const n=r("./node_modules/@comunica/context-entries/index.js");class i{static getLevelOrdinal(e){return i.LEVELS[e]}}t.Logger=i,i.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},t.KEY_CONTEXT_LOG=n.KeysCore.log},"./node_modules/@comunica/core/lib/Mediator.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mediator=void 0;t.Mediator=class{constructor(e){Object.assign(this,e)}publish(e){const t=this.bus.publish(e);if(0===t.length)throw new Error("No actors are able to reply to a message in the bus "+this.bus.name);return t}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}},"./node_modules/@comunica/data-factory/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/data-factory/lib/BlankNodeScoped.js"),t),i(r("./node_modules/@comunica/data-factory/lib/BlankNodeBindingsScoped.js"),t)},"./node_modules/@comunica/data-factory/lib/BlankNodeBindingsScoped.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNodeBindingsScoped=void 0;t.BlankNodeBindingsScoped=class{constructor(e){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},"./node_modules/@comunica/data-factory/lib/BlankNodeScoped.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNodeScoped=void 0;t.BlankNodeScoped=class{constructor(e,t){this.termType="BlankNode",this.value=e,this.skolemized=t}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},"./node_modules/@comunica/logger-void/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/logger-void/lib/LoggerVoid.js"),t)},"./node_modules/@comunica/logger-void/lib/LoggerVoid.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerVoid=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}t.LoggerVoid=i},"./node_modules/@comunica/mediator-all/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/mediator-all/lib/MediatorAll.js"),t)},"./node_modules/@comunica/mediator-all/lib/MediatorAll.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorAll=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Mediator{constructor(e){super(e)}async mediate(e){const t=[];let r;try{r=this.publish(e)}catch(e){r=[]}for(const e of r)try{await e.reply,t.push(e.actor)}catch(e){}return(await Promise.all(t.map(t=>t.runObservable(e))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}t.MediatorAll=i},"./node_modules/@comunica/mediator-combine-pipeline/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js"),t)},"./node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorCombinePipeline=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Mediator{constructor(e){super(e)}async mediate(e){let t;try{t=this.publish(e)}catch(t){return e}await Promise.all(t.map(({reply:e})=>e));let r=e;for(const e of t.map(e=>e.actor))r=await e.runObservable(r);return r}mediateWith(){throw new Error("Method not supported.")}}t.MediatorCombinePipeline=i},"./node_modules/@comunica/mediator-combine-union/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js"),t)},"./node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorCombineUnion=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let t;try{t=this.publish(e)}catch(e){t=[]}await Promise.all(t.map(({reply:e})=>e));const r=await Promise.all(t.map(t=>t.actor.runObservable(e)));return this.combiner(r)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return e=>{const t={};return t[this.field]={},[{}].concat(e.map(e=>e[this.field])).forEach((e,r,n)=>{t[this.field]=Object.assign(Object.assign({},e),t[this.field])}),t}}}t.MediatorCombineUnion=i},"./node_modules/@comunica/mediator-number/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/mediator-number/lib/MediatorNumber.js"),t)},"./node_modules/@comunica/mediator-number/lib/MediatorNumber.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorNumber=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case i.MIN:return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],Number.POSITIVE_INFINITY);return null!==n&&(Number.isNaN(e[0])||e[0]>n)?[n,r]:e},[Number.NaN,-1])[1];case i.MAX:return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],Number.NEGATIVE_INFINITY);return null!==n&&(Number.isNaN(e[0])||e[0]<n)?[n,r]:e},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either ${i.MIN} or ${i.MAX}, but got: ${this.type}`)}}getOrDefault(e,t){return void 0===e?t:e}async mediateWith(e,t){let r=t.map(({reply:e})=>e);const n=[];if(this.ignoreErrors){const e={};e[this.field]=null,r=r.map(t=>t.catch(t=>(n.push(t),e)))}const i=await Promise.all(r),o=this.indexPicker(i);if(o<0)throw new Error(`All actors rejected their test in ${this.name}\n${n.map(e=>e.message).join("\n")}`);return t[o].actor}}t.MediatorNumber=i,i.MIN="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",i.MAX="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax"},"./node_modules/@comunica/mediator-race/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/@comunica/mediator-race/lib/MediatorRace.js"),t)},"./node_modules/@comunica/mediator-race/lib/MediatorRace.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorRace=void 0;const n=r("./node_modules/@comunica/core/index.js");class i extends n.Mediator{constructor(e){super(e)}mediateWith(e,t){return new Promise((e,r)=>{const n=[];for(const i of t)i.reply.then(()=>{e(i.actor)}).catch(e=>{n.push(e),n.length===t.length&&r(new Error(`${this.name} mediated over all rejecting actors:\n${n.map(e=>e.message).join("\n")}`))})})}}t.MediatorRace=i},"./node_modules/asyncjoin/index.js":(e,t,r)=>{const n=r("./node_modules/asyncjoin/join/DynamicNestedLoopJoin.js"),i=r("./node_modules/asyncjoin/join/HashJoin.js"),o=r("./node_modules/asyncjoin/join/NestedLoopJoin.js"),s=r("./node_modules/asyncjoin/join/SymmetricHashJoin.js"),a=r("./node_modules/asyncjoin/util/MergeIterator.js");e.exports={DynamicNestedLoopJoin:n,HashJoin:i,NestedLoopJoin:o,SymmetricHashJoin:s,MergeStream:a}},"./node_modules/asyncjoin/join/DynamicNestedLoopJoin.js":(e,t,r)=>{let n=r("asynciterator"),i=n.MultiTransformIterator,o=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r){super(e),this.funRight=t,this.funJoin=r}_createTransformer(e){return new o(this.funRight(e),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},"./node_modules/asyncjoin/join/HashJoin.js":(e,t,r)=>{let n=r("asynciterator").AsyncIterator;e.exports=class extends n{constructor(e,t,r,n){super(),this.addedDataListener=!1,this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.readable=!1,this.left.on("end",function(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}.bind(this)),this.on("newListener",e=>{"data"!==e||this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())})}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener()),this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.funJoin(e,this.match);if(null!==t)return t}if(this.hasResults()||this._end(),this.match=this.right.read(),null===this.match)return this.readable=!1,null;let e=this.funHash(this.match);return this.matches=this.leftMap.get(e)||[],this.matchIdx=0,this.read()}_addDataListener(){this.left.on("data",function(e){let t=this.funHash(e);this.leftMap.has(t)||this.leftMap.set(t,[]);this.leftMap.get(t).push(e)}.bind(this))}}},"./node_modules/asyncjoin/join/NestedLoopJoin.js":(e,t,r)=>{const{MultiTransformIterator:n,SimpleTransformIterator:i,scheduleTask:o}=r("asynciterator");e.exports=class extends n{constructor(e,t,r,n){super(e,n),this.right=t,this.funJoin=r,this.on("end",()=>this.right.close())}close(){super.close(),o(()=>this.right.close())}_createTransformer(e){return new i(this.right.clone(),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},"./node_modules/asyncjoin/join/SymmetricHashJoin.js":(e,t,r)=>{let n=r("asynciterator").AsyncIterator;e.exports=class extends n{constructor(e,t,r,n){super(),this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.usedLeft?this.funJoin(this.match,e):this.funJoin(e,this.match);if(null!==t)return t}this.hasResults()||this._end();let e=null;for(let t=0;t<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,null===e);++t);if(null===e)return this.readable=!1,null;let t=this.funHash(e),r=this.usedLeft?this.leftMap:this.rightMap;return r.has(t)||r.set(t,[]),r.get(t).push(e),this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(t)||[],this.matchIdx=0,this.read()}}},"./node_modules/asyncjoin/util/MergeIterator.js":(e,t,r)=>{let n=r("asynciterator").AsyncIterator;e.exports=class extends n{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let t of e)t.on("readable",()=>this.emit("readable")),t.on("end",()=>this._removeStream(t));0===this.streams.length&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let t=this.streams.indexOf(e);t<0||(this.streams.splice(t,1),this.idx>=this.streams.length&&--this.idx,0===this.streams.length&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let e=this.streams[this.idx].read();if(null!==e)return e}return null}}},"./node_modules/canonicalize/lib/canonicalize.js":e=>{"use strict";e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r),"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;return r+(0===r.length?"":",")+e(n)+":"+e(t[n])},"")+"}"}},"./node_modules/decimal.js/decimal.js":function(e,t,r){var n;!function(i){"use strict";var o,s,a,u=9e15,c="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",d="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},h=!0,f="[DecimalError] Invalid argument: ",m=Math.floor,y=Math.pow,g=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,b=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,v=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,w=1e7,O=l.length-1,j=d.length-1,T={name:"[object Decimal]"};function S(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=L(r)),o+=n;(r=7-(n=(s=e[t])+"").length)&&(o+=L(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function x(e,t,r){if(e!==~~e||e<t||e>r)throw Error(f+e)}function E(e,t,r,n){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=y(10,7-t),a=e[i]%o|0,null==n?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=r<4&&99999==a||r>3&&49999==a||5e4==a||0==a):s=(r<4&&a+1==o||r>3&&a+1==o/2)&&(e[i+1]/o/100|0)==y(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(n||r<4)&&9999==a||!n&&r>3&&4999==a):s=((n||r<4)&&a+1==o||!n&&r>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==y(10,t-3)-1,s}function A(e,t,r){for(var n,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=c.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}T.absoluteValue=T.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),P(e)},T.ceil=function(){return P(new this.constructor(this),this.e+1,2)},T.comparedTo=T.cmp=function(e){var t,r,n,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,r=(n=s.length)<(i=a.length)?n:i;t<r;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},T.cosine=T.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?(r=Math.ceil(i/3),n=(1/H(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10");e.precision+=r,t=G(e,1,t.times(n),new e(1));for(var o=r;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}(n,X(n,r)),n.precision=e,n.rounding=t,P(2==a||3==a?r.neg():r,e,t,!0)):new n(1):new n(NaN)},T.cubeRoot=T.cbrt=function(){var e,t,r,n,i,o,s,a,u,c,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(h=!1,(o=l.s*y(l.s*l,1/3))&&Math.abs(o)!=1/0?n=new d(o.toString()):(r=S(l.d),(o=((e=l.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=y(r,1/3),e=m((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),s=(e=d.precision)+3;;)if(c=(u=(a=n).times(a).times(a)).plus(l),n=q(c.plus(l).times(a),c.plus(u),s+2,1),S(a.d).slice(0,s)===(r=S(n.d)).slice(0,s)){if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(P(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!i&&(P(a,e+1,0),a.times(a).times(a).eq(l))){n=a;break}s+=4,i=1}return h=!0,P(n,e,d.rounding,t)},T.decimalPlaces=T.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=7*((e=t.length-1)-m(this.e/7)),e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},T.dividedBy=T.div=function(e){return q(this,new this.constructor(e))},T.dividedToIntegerBy=T.divToInt=function(e){var t=this.constructor;return P(q(this,new t(e),0,1,1),t.precision,t.rounding)},T.equals=T.eq=function(e){return 0===this.cmp(e)},T.floor=function(){return P(new this.constructor(this),this.e+1,3)},T.greaterThan=T.gt=function(e){return this.cmp(e)>0},T.greaterThanOrEqualTo=T.gte=function(e){var t=this.cmp(e);return 1==t||0===t},T.hyperbolicCosine=T.cosh=function(){var e,t,r,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;r=s.precision,n=s.rounding,s.precision=r+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/H(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=G(s,1,o.times(t),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return P(o,s.precision=r,s.rounding=n,!0)},T.hyperbolicSine=T.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=G(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=G(o,2,i=i.times(1/H(5,e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=t,o.rounding=r,P(i,t,r,!0)},T.hyperbolicTangent=T.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,q(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},T.inverseCosine=T.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,o=r.rounding;return-1!==n?0===n?t.isNeg()?D(r,i,o):new r(0):new r(NaN):t.isZero()?D(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=D(r,i+4,o).times(.5),r.precision=i,r.rounding=o,e.minus(t))},T.inverseHyperbolicCosine=T.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,h=!1,r=r.times(r).minus(1).sqrt().plus(r),h=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},T.inverseHyperbolicSine=T.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,h=!1,r=r.times(r).plus(1).sqrt().plus(r),h=!0,n.precision=e,n.rounding=t,r.ln())},T.inverseHyperbolicTangent=T.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?P(new o(i),e,t,!0):(o.precision=r=n-i.e,i=q(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},T.inverseSine=T.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t?0===t?((e=D(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},T.inverseTangent=T.atan=function(){var e,t,r,n,i,o,s,a,u,c=this,l=c.constructor,d=l.precision,p=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&d+4<=j)return(s=D(l,d+4,p).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(d+4<=j)return(s=D(l,d+4,p).times(.5)).s=c.s,s}for(l.precision=a=d+10,l.rounding=1,e=r=Math.min(28,a/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(a/7),n=1,u=c.times(c),s=new l(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(n+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),h=!0,P(s,l.precision=d,l.rounding=p,!0)},T.isFinite=function(){return!!this.d},T.isInteger=T.isInt=function(){return!!this.d&&m(this.e/7)>this.d.length-2},T.isNaN=function(){return!this.s},T.isNegative=T.isNeg=function(){return this.s<0},T.isPositive=T.isPos=function(){return this.s>0},T.isZero=function(){return!!this.d&&0===this.d[0]},T.lessThan=T.lt=function(e){return this.cmp(e)<0},T.lessThanOrEqualTo=T.lte=function(e){return this.cmp(e)<1},T.logarithm=T.log=function(e){var t,r,n,i,o,s,a,u,c=this.constructor,l=c.precision,d=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)o=!0;else{for(i=r[0];i%10==0;)i/=10;o=1!==i}if(h=!1,s=Q(this,a=l+5),n=t?N(c,a+10):Q(e,a),E((u=q(s,n,a,1)).d,i=l,d))do{if(s=Q(this,a+=10),n=t?N(c,a+10):Q(e,a),u=q(s,n,a,1),!o){+S(u.d).slice(i+1,i+15)+1==1e14&&(u=P(u,l+1,0));break}}while(E(u.d,i+=10,d));return h=!0,P(u,l,d)},T.minus=T.sub=function(e){var t,r,n,i,o,s,a,u,c,l,d,p,f=this,y=f.constructor;if(e=new y(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new y(e.d||f.s!==e.s?f:NaN):e=new y(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(c=f.d,p=e.d,a=y.precision,u=y.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new y(3===u?-0:0);e=new y(f)}return h?P(e,a,u):e}if(r=m(e.e/7),l=m(f.e/7),c=c.slice(),o=l-r){for((d=o<0)?(t=c,o=-o,s=p.length):(t=p,r=l,s=c.length),o>(n=Math.max(Math.ceil(a/7),s)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((d=(n=c.length)<(s=p.length))&&(s=n),n=0;n<s;n++)if(c[n]!=p[n]){d=c[n]<p[n];break}o=0}for(d&&(t=c,c=p,p=t,e.s=-e.s),s=c.length,n=p.length-s;n>0;--n)c[s++]=0;for(n=p.length;n>o;){if(c[--n]<p[n]){for(i=n;i&&0===c[--i];)c[i]=w-1;--c[i],c[n]+=w}c[n]-=p[n]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=I(c,r),h?P(e,a,u):e):new y(3===u?-0:0)},T.modulo=T.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?P(new n(r),n.precision,n.rounding):(h=!1,9==n.modulo?(t=q(r,e.abs(),0,3,1)).s*=e.s:t=q(r,e,0,n.modulo,1),t=t.times(e),h=!0,r.minus(t))},T.naturalExponential=T.exp=function(){return F(this)},T.naturalLogarithm=T.ln=function(){return Q(this)},T.negated=T.neg=function(){var e=new this.constructor(this);return e.s=-e.s,P(e)},T.plus=T.add=function(e){var t,r,n,i,o,s,a,u,c,l,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new p(e.d||d.s===e.s?d:NaN)):e=new p(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,l=e.d,a=p.precision,u=p.rounding,!c[0]||!l[0])return l[0]||(e=new p(d)),h?P(e,a,u):e;if(o=m(d.e/7),n=m(e.e/7),c=c.slice(),i=o-n){for(i<0?(r=c,i=-i,s=l.length):(r=l,n=o,s=c.length),i>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=c.length)-(i=l.length)<0&&(i=s,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/w|0,c[i]%=w;for(t&&(c.unshift(t),++n),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=I(c,n),h?P(e,a,u):e},T.precision=T.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(f+e);return r.d?(t=k(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},T.round=function(){var e=this,t=e.constructor;return P(new t(e),e.e+1,t.rounding)},T.sine=T.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return G(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t.times(1/H(5,r)),t=G(e,2,t,t);for(var i,o=new e(5),s=new e(16),a=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(n,X(n,r)),n.precision=e,n.rounding=t,P(a>2?r.neg():r,e,t,!0)):new n(NaN)},T.squareRoot=T.sqrt=function(){var e,t,r,n,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(h=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=S(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=m((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;)if(n=(o=n).plus(q(s,o,r+2,1)).times(.5),S(o.d).slice(0,r)===(t=S(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(P(n,u+1,1),e=!n.times(n).eq(s));break}if(!i&&(P(o,u+1,0),o.times(o).eq(s))){n=o;break}r+=4,i=1}return h=!0,P(n,u,l.rounding,e)},T.tangent=T.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=q(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,P(2==a||4==a?r.neg():r,e,t,!0)):new n(NaN)},T.times=T.mul=function(e){var t,r,n,i,o,s,a,u,c,l=this,d=l.constructor,p=l.d,f=(e=new d(e)).d;if(e.s*=l.s,!(p&&p[0]&&f&&f[0]))return new d(!e.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*e.s:e.s/0);for(r=m(l.e/7)+m(e.e/7),(u=p.length)<(c=f.length)&&(o=p,p=f,f=o,s=u,u=c,c=s),o=[],n=s=u+c;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)a=o[i]+f[n]*p[i-n-1]+t,o[i--]=a%w|0,t=a/w|0;o[i]=(o[i]+t)%w|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=I(o,r),h?P(e,d.precision,d.rounding):e},T.toBinary=function(e,t){return $(this,2,e,t)},T.toDecimalPlaces=T.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(x(e,0,1e9),void 0===t?t=n.rounding:x(t,0,8),P(r,e+r.e+1,t))},T.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=R(n,!0):(x(e,0,1e9),void 0===t?t=i.rounding:x(t,0,8),r=R(n=P(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},T.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?r=R(i):(x(e,0,1e9),void 0===t?t=o.rounding:x(t,0,8),r=R(n=P(new o(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},T.toFraction=function(e){var t,r,n,i,o,s,a,u,c,l,d,p,m=this,g=m.d,b=m.constructor;if(!g)return new b(m);if(c=r=new b(1),n=u=new b(0),s=(o=(t=new b(n)).e=k(g)-m.e-1)%7,t.d[0]=y(10,s<0?7+s:s),null==e)e=o>0?t:c;else{if(!(a=new b(e)).isInt()||a.lt(c))throw Error(f+a);e=a.gt(t)?o>0?t:c:a}for(h=!1,a=new b(S(g)),l=b.precision,b.precision=o=7*g.length*2;d=q(a,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=c,c=u.plus(d.times(i)),u=i,i=t,t=a.minus(d.times(i)),a=i;return i=q(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=m.s,p=q(c,n,o,1).minus(m).abs().cmp(q(u,r,o,1).minus(m).abs())<1?[c,n]:[u,r],b.precision=l,h=!0,p},T.toHexadecimal=T.toHex=function(e,t){return $(this,16,e,t)},T.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:x(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(h=!1,r=q(r,e,0,t,1).times(e),h=!0,P(r)):(e.s=r.s,r=e),r},T.toNumber=function(){return+this},T.toOctal=function(e,t){return $(this,8,e,t)},T.toPower=T.pow=function(e){var t,r,n,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new u(y(+a,c));if((a=new u(a)).eq(1))return a;if(n=u.precision,o=u.rounding,e.eq(1))return P(a,n,o);if((t=m(e.e/7))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=M(u,a,r,n),e.s<0?new u(1).div(i):P(i,n,o);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(r=y(+a,c))&&isFinite(r)?new u(r+"").e:m(c*(Math.log("0."+S(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(h=!1,u.rounding=a.s=1,r=Math.min(12,(t+"").length),(i=F(e.times(Q(a,n+r)),n)).d&&E((i=P(i,n+5,1)).d,n,o)&&(t=n+10,+S((i=P(F(e.times(Q(a,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=P(i,n+1,0))),i.s=s,h=!0,u.rounding=o,P(i,n,o))},T.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=R(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(x(e,1,1e9),void 0===t?t=i.rounding:x(t,0,8),r=R(n=P(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},T.toSignificantDigits=T.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(x(e,1,1e9),void 0===t?t=r.rounding:x(t,0,8)),P(new r(this),e,t)},T.toString=function(){var e=this,t=e.constructor,r=R(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},T.truncated=T.trunc=function(){return P(new this.constructor(this),this.e+1,1)},T.valueOf=T.toJSON=function(){var e=this,t=e.constructor,r=R(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var q=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,o,a,u,c){var l,d,p,h,f,y,g,b,_,v,O,j,T,S,x,E,A,q,R,I,N=n.constructor,D=n.s==i.s?1:-1,k=n.d,L=i.d;if(!(k&&k[0]&&L&&L[0]))return new N(n.s&&i.s&&(k?!L||k[0]!=L[0]:L)?k&&0==k[0]||!L?0*D:D/0:NaN);for(c?(f=1,d=n.e-i.e):(c=w,f=7,d=m(n.e/f)-m(i.e/f)),R=L.length,A=k.length,v=(_=new N(D)).d=[],p=0;L[p]==(k[p]||0);p++);if(L[p]>(k[p]||0)&&d--,null==o?(S=o=N.precision,a=N.rounding):S=u?o+(n.e-i.e)+1:o,S<0)v.push(1),y=!0;else{if(S=S/f+2|0,p=0,1==R){for(h=0,L=L[0],S++;(p<A||h)&&S--;p++)x=h*c+(k[p]||0),v[p]=x/L|0,h=x%L|0;y=h||p<A}else{for((h=c/(L[0]+1)|0)>1&&(L=e(L,h,c),k=e(k,h,c),R=L.length,A=k.length),E=R,j=(O=k.slice(0,R)).length;j<R;)O[j++]=0;(I=L.slice()).unshift(0),q=L[0],L[1]>=c/2&&++q;do{h=0,(l=t(L,O,R,j))<0?(T=O[0],R!=j&&(T=T*c+(O[1]||0)),(h=T/q|0)>1?(h>=c&&(h=c-1),1==(l=t(g=e(L,h,c),O,b=g.length,j=O.length))&&(h--,r(g,R<b?I:L,b,c))):(0==h&&(l=h=1),g=L.slice()),(b=g.length)<j&&g.unshift(0),r(O,g,j,c),-1==l&&(l=t(L,O,R,j=O.length))<1&&(h++,r(O,R<j?I:L,j,c)),j=O.length):0===l&&(h++,O=[0]),v[p++]=h,l&&O[0]?O[j++]=k[E]||0:(O=[k[E]],j=1)}while((E++<A||void 0!==O[0])&&S--);y=void 0!==O[0]}v[0]||v.shift()}if(1==f)_.e=d,s=y;else{for(p=1,h=v[0];h>=10;h/=10)p++;_.e=p+d*f-1,P(_,u?o+_.e+1:o,a,y)}return _}}();function P(e,t,r,n){var i,o,s,a,u,c,l,d,p,f=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,a=d[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,s=t,u=(l=d[p=0])/y(10,i-s-1)%10|0;else if((p=Math.ceil((o+1)/7))>=(a=d.length)){if(!n)break e;for(;a++<=p;)d.push(0);l=u=0,i=1,s=(o%=7)-7+1}else{for(l=a=d[p],i=1;a>=10;a/=10)i++;u=(s=(o%=7)-7+i)<0?0:l/y(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[p+1]||(s<0?l:l%y(10,i-s-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(o>0?s>0?l/y(10,i-s):0:d[p-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=y(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=p,a=1,p--):(d.length=p+1,a=y(10,7-o),d[p]=s>0?(l/y(10,i-s)%y(10,s)|0)*a:0),c)for(;;){if(0==p){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,d[0]==w&&(d[0]=1));break}if(d[p]+=a,d[p]!=w)break;d[p--]=0,a=1}for(o=d.length;0===d[--o];)d.pop()}return h&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function R(e,t,r){if(!e.isFinite())return U(e);var n,i=e.e,o=S(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+L(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+L(-i-1)+o,r&&(n=r-s)>0&&(o+=L(n))):i>=s?(o+=L(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+L(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=L(n))),o}function I(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function N(e,t,r){if(t>O)throw h=!0,r&&(e.precision=r),Error("[DecimalError] Precision limit exceeded");return P(new e(l),t,1,!0)}function D(e,t,r){if(t>j)throw Error("[DecimalError] Precision limit exceeded");return P(new e(d),t,r,!0)}function k(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function L(e){for(var t="";e--;)t+="0";return t}function M(e,t,r,n){var i,o=new e(1),s=Math.ceil(n/7+4);for(h=!1;;){if(r%2&&K((o=o.times(t)).d,s)&&(i=!0),0===(r=m(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}K((t=t.times(t)).d,s)}return h=!0,o}function B(e){return 1&e.d[e.d.length-1]}function C(e,t,r){for(var n,i=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){i=n;break}i[r](n)&&(i=n)}return i}function F(e,t){var r,n,i,o,s,a,u,c=0,l=0,d=0,p=e.constructor,f=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(h=!1,u=m):u=t,a=new p(.03125);e.e>-2;)e=e.times(a),d+=5;for(u+=n=Math.log(y(2,d))/Math.LN10*2+5|0,r=o=s=new p(1),p.precision=u;;){if(o=P(o.times(e),u,1),r=r.times(++l),S((a=s.plus(q(o,r,u,1))).d).slice(0,u)===S(s.d).slice(0,u)){for(i=d;i--;)s=P(s.times(s),u,1);if(null!=t)return p.precision=m,s;if(!(c<3&&E(s.d,u-n,f,c)))return P(s,p.precision=m,f,h=!0);p.precision=u+=10,r=o=a=new p(1),l=0,c++}s=a}}function Q(e,t){var r,n,i,o,s,a,u,c,l,d,p,f=1,m=e,y=m.d,g=m.constructor,b=g.rounding,_=g.precision;if(m.s<0||!y||!y[0]||!m.e&&1==y[0]&&1==y.length)return new g(y&&!y[0]?-1/0:1!=m.s?NaN:y?0:m);if(null==t?(h=!1,l=_):l=t,g.precision=l+=10,n=(r=S(y)).charAt(0),!(Math.abs(o=m.e)<15e14))return c=N(g,l+2,_).times(o+""),m=Q(new g(n+"."+r.slice(1)),l-10).plus(c),g.precision=_,null==t?P(m,_,b,h=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=S((m=m.times(e)).d)).charAt(0),f++;for(o=m.e,n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1)),d=m,u=s=m=q(m.minus(1),m.plus(1),l,1),p=P(m.times(m),l,1),i=3;;){if(s=P(s.times(p),l,1),S((c=u.plus(q(s,new g(i),l,1))).d).slice(0,l)===S(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(N(g,l+2,_).times(o+""))),u=q(u,new g(f),l,1),null!=t)return g.precision=_,u;if(!E(u.d,l-10,b,a))return P(u,g.precision=_,b,h=!0);g.precision=l+=10,c=s=m=q(d.minus(1),d.plus(1),l,1),p=P(m.times(m),l,1),i=a=1}u=c,i+=2}}function U(e){return String(e.s*e.s/0)}function V(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),h&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function z(e,t){var r,n,i,s,a,u,c,l,d;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(b.test(t))r=16,t=t.toLowerCase();else if(g.test(t))r=2;else{if(!_.test(t))throw Error(f+t);r=8}for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,n=e.constructor,a&&(s=(u=(t=t.replace(".","")).length)-s,i=M(n,new n(r),s,2*s)),s=d=(l=A(t,r,w)).length-1;0===l[s];--s)l.pop();return s<0?new n(0*e.s):(e.e=I(l,d),e.d=l,h=!1,a&&(e=q(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?y(2,c):o.pow(2,c))),h=!0,e)}function G(e,t,r,n,i){var o,s,a,u,c=e.precision,l=Math.ceil(c/7);for(h=!1,u=r.times(r),a=new e(n);;){if(s=q(a.times(u),new e(t++*t++),c,1),a=i?n.plus(s):n.minus(s),n=q(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(n)).d[l]){for(o=l;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=n,n=s,s=o}return h=!0,s.d.length=l+1,s}function H(e,t){for(var r=e;--t;)r*=e;return r}function X(e,t){var r,n=t.s<0,i=D(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=n?4:1,t;if((r=t.divToInt(i)).isZero())a=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return a=B(r)?n?2:3:n?4:1,t;a=B(r)?n?1:4:n?3:2}return t.minus(i).abs()}function $(e,t,r,n){var i,o,a,u,l,d,p,h,f,m=e.constructor,y=void 0!==r;if(y?(x(r,1,1e9),void 0===n?n=m.rounding:x(n,0,8)):(r=m.precision,n=m.rounding),e.isFinite()){for(y?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(a=(p=R(e)).indexOf("."))>=0&&(p=p.replace(".",""),(f=new m(1)).e=p.length-a,f.d=A(R(f),10,i),f.e=f.d.length),o=l=(h=A(p,10,i)).length;0==h[--l];)h.pop();if(h[0]){if(a<0?o--:((e=new m(e)).d=h,e.e=o,h=(e=q(e,f,r,n,0,i)).d,o=e.e,d=s),a=h[r],u=i/2,d=d||void 0!==h[r+1],d=n<4?(void 0!==a||d)&&(0===n||n===(e.s<0?3:2)):a>u||a===u&&(4===n||d||6===n&&1&h[r-1]||n===(e.s<0?8:7)),h.length=r,d)for(;++h[--r]>i-1;)h[r]=0,r||(++o,h.unshift(1));for(l=h.length;!h[l-1];--l);for(a=0,p="";a<l;a++)p+=c.charAt(h[a]);if(y){if(l>1)if(16==t||8==t){for(a=16==t?4:3,--l;l%a;l++)p+="0";for(l=(h=A(p,i,t)).length;!h[l-1];--l);for(a=1,p="1.";a<l;a++)p+=c.charAt(h[a])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>l)for(o-=l;o--;)p+="0";else o<l&&(p=p.slice(0,o)+"."+p.slice(o))}else p=y?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=U(e);return e.s<0?"-"+p:p}function K(e,t){if(e.length>t)return e.length=t,!0}function Y(e){return new this(e).abs()}function J(e){return new this(e).acos()}function W(e){return new this(e).acosh()}function Z(e,t){return new this(e).plus(t)}function ee(e){return new this(e).asin()}function te(e){return new this(e).asinh()}function re(e){return new this(e).atan()}function ne(e){return new this(e).atanh()}function ie(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?D(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=D(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(q(e,t,o,1)),t=D(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(q(e,t,o,1)):(r=D(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function oe(e){return new this(e).cbrt()}function se(e){return P(e=new this(e),e.e+1,2)}function ae(e){if(!e||"object"!=typeof e)throw Error("[DecimalError] Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=p[r]),void 0!==(n=e[r])){if(!(m(n)===n&&n>=o[t+1]&&n<=o[t+2]))throw Error(f+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=p[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(f+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0}else this[r]=!1}return this}function ue(e){return new this(e).cos()}function ce(e){return new this(e).cosh()}function le(e,t){return new this(e).div(t)}function de(e){return new this(e).exp()}function pe(e){return P(e=new this(e),e.e+1,3)}function he(){var e,t,r=new this(0);for(h=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);r=t}return h=!0,r.sqrt()}function fe(e){return e instanceof o||e&&"[object Decimal]"===e.name||!1}function me(e){return new this(e).ln()}function ye(e,t){return new this(e).log(t)}function ge(e){return new this(e).log(2)}function be(e){return new this(e).log(10)}function _e(){return C(this,arguments,"lt")}function ve(){return C(this,arguments,"gt")}function we(e,t){return new this(e).mod(t)}function Oe(e,t){return new this(e).mul(t)}function je(e,t){return new this(e).pow(t)}function Te(e){var t,r,n,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:x(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=n/4}else for(;o<n;)a[o++]=1e7*Math.random()|0;for(e%=7,(n=a[--o])&&e&&(i=y(10,7-e),a[o]=(n/i|0)*i);0===a[o];o--)a.pop();if(o<0)r=0,a=[0];else{for(r=-1;0===a[0];r-=7)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return s.e=r,s.d=a,s}function Se(e){return P(e=new this(e),e.e+1,this.rounding)}function xe(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ee(e){return new this(e).sin()}function Ae(e){return new this(e).sinh()}function qe(e){return new this(e).sqrt()}function Pe(e,t){return new this(e).sub(t)}function Re(e){return new this(e).tan()}function Ie(e){return new this(e).tanh()}function Ne(e){return P(e=new this(e),e.e+1,1)}(o=function e(t){var r,n,i;function o(e){var t,r,n,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,e instanceof o)return i.s=e.s,void(h?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(h?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):V(i,e.toString())}if("string"!==n)throw Error(f+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),v.test(e)?V(i,e):z(i,e)}if(o.prototype=T,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ae,o.clone=e,o.isDecimal=fe,o.abs=Y,o.acos=J,o.acosh=W,o.add=Z,o.asin=ee,o.asinh=te,o.atan=re,o.atanh=ne,o.atan2=ie,o.cbrt=oe,o.ceil=se,o.cos=ue,o.cosh=ce,o.div=le,o.exp=de,o.floor=pe,o.hypot=he,o.ln=me,o.log=ye,o.log10=be,o.log2=ge,o.max=_e,o.min=ve,o.mod=we,o.mul=Oe,o.pow=je,o.random=Te,o.round=Se,o.sign=xe,o.sin=Ee,o.sinh=Ae,o.sqrt=qe,o.sub=Pe,o.tan=Re,o.tanh=Ie,o.trunc=Ne,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(p)).default=o.Decimal=o,l=new o(l),d=new o(d),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},"./node_modules/hash.js/lib/hash.js":(e,t,r)=>{var n=t;n.utils=r("./node_modules/hash.js/lib/hash/utils.js"),n.common=r("./node_modules/hash.js/lib/hash/common.js"),n.sha=r("./node_modules/hash.js/lib/hash/sha.js"),n.ripemd=r("./node_modules/hash.js/lib/hash/ripemd.js"),n.hmac=r("./node_modules/hash.js/lib/hash/hmac.js"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},"./node_modules/hash.js/lib/hash/common.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/minimalistic-assert/index.js");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},"./node_modules/hash.js/lib/hash/hmac.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/minimalistic-assert/index.js");function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},"./node_modules/hash.js/lib/hash/ripemd.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/hash.js/lib/hash/common.js"),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function p(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,c),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],b=r,_=n,v=i,w=c,O=l,j=0;j<80;j++){var T=s(o(u(r,d(j,n,i,c),e[f[j]+t],p(j)),y[j]),l);r=l,l=c,c=o(i,10),i=n,n=T,T=s(o(u(b,d(79-j,_,v,w),e[m[j]+t],h(j)),g[j]),O),b=O,O=w,w=o(v,10),v=_,_=T}T=a(this.h[1],i,w),this.h[1]=a(this.h[2],c,O),this.h[2]=a(this.h[3],l,b),this.h[3]=a(this.h[4],r,_),this.h[4]=a(this.h[0],n,v),this.h[0]=T},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},"./node_modules/hash.js/lib/hash/sha.js":(e,t,r)=>{"use strict";t.sha1=r("./node_modules/hash.js/lib/hash/sha/1.js"),t.sha224=r("./node_modules/hash.js/lib/hash/sha/224.js"),t.sha256=r("./node_modules/hash.js/lib/hash/sha/256.js"),t.sha384=r("./node_modules/hash.js/lib/hash/sha/384.js"),t.sha512=r("./node_modules/hash.js/lib/hash/sha/512.js")},"./node_modules/hash.js/lib/hash/sha/1.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/hash.js/lib/hash/common.js"),o=r("./node_modules/hash.js/lib/hash/sha/common.js"),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(p,l),e.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],p=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),m=u(s(i,5),c(f,o,l,p),h,r[n],d[f]);h=p,p=l,l=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],p),this.h[4]=a(this.h[4],h)},p.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/224.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/hash.js/lib/hash/sha/256.js");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},"./node_modules/hash.js/lib/hash/sha/256.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/hash.js/lib/hash/common.js"),o=r("./node_modules/hash.js/lib/hash/sha/common.js"),s=r("./node_modules/minimalistic-assert/index.js"),a=n.sum32,u=n.sum32_4,c=n.sum32_5,l=o.ch32,d=o.maj32,p=o.s0_256,h=o.s1_256,f=o.g0_256,m=o.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(b,y),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],g=this.h[3],b=this.h[4],_=this.h[5],v=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var O=c(w,h(b),l(b,_,v),this.k[n],r[n]),j=a(p(i),d(i,o,y));w=v,v=_,_=b,b=a(g,O),g=y,y=o,o=i,i=a(O,j)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],_),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],w)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/384.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/hash.js/lib/hash/sha/512.js");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},"./node_modules/hash.js/lib/hash/sha/512.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js"),i=r("./node_modules/hash.js/lib/hash/common.js"),o=r("./node_modules/minimalistic-assert/index.js"),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,l=n.sum64,d=n.sum64_hi,p=n.sum64_lo,h=n.sum64_4_hi,f=n.sum64_4_lo,m=n.sum64_5_hi,y=n.sum64_5_lo,g=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function v(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function O(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function j(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function T(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function E(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function q(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(_,g),e.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=R(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=A(r[n-30],r[n-29]),c=q(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=h(i,o,s,a,u,c,l,d),r[n+1]=f(i,o,s,a,u,c,l,d)}},_.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],f=this.h[7],g=this.h[8],b=this.h[9],_=this.h[10],A=this.h[11],q=this.h[12],P=this.h[13],R=this.h[14],I=this.h[15];o(this.k.length===r.length);for(var N=0;N<r.length;N+=2){var D=R,k=I,L=x(g,b),M=E(g,b),B=v(g,b,_,A,q),C=w(g,b,_,A,q,P),F=this.k[N],Q=this.k[N+1],U=r[N],V=r[N+1],z=m(D,k,L,M,B,C,F,Q,U,V),G=y(D,k,L,M,B,C,F,Q,U,V);D=T(n,i),k=S(n,i),L=O(n,i,s,a,u),M=j(n,i,s,a,u,c);var H=d(D,k,L,M),X=p(D,k,L,M);R=q,I=P,q=_,P=A,_=g,A=b,g=d(h,f,z,G),b=p(f,f,z,G),h=u,f=c,u=s,c=a,s=n,a=i,n=d(z,G,H,X),i=p(z,G,H,X)}l(this.h,0,n,i),l(this.h,2,s,a),l(this.h,4,u,c),l(this.h,6,h,f),l(this.h,8,g,b),l(this.h,10,_,A),l(this.h,12,q,P),l(this.h,14,R,I)},_.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/common.js":(e,t,r)=>{"use strict";var n=r("./node_modules/hash.js/lib/hash/utils.js").rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},"./node_modules/hash.js/lib/hash/utils.js":(e,t,r)=>{"use strict";var n=r("./node_modules/minimalistic-assert/index.js"),i=r("./node_modules/inherits/inherits_browser.js");function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=u(i.toString(16))}return r},t.zero2=a,t.zero8=u,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,u=t;a<s.length;a++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=c>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,c){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+a>>>0)<a?1:0,e+r+i+s+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,c){return t+n+o+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},"./node_modules/immutable/dist/immutable.js":function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return s(e)?e:U(e)}function n(e){return a(e)?e:V(e)}function i(e){return u(e)?e:z(e)}function o(e){return s(e)&&!c(e)?e:G(e)}function s(e){return!(!e||!e[d])}function a(e){return!(!e||!e[p])}function u(e){return!(!e||!e[h])}function c(e){return a(e)||u(e)}function l(e){return!(!e||!e[f])}t(n,r),t(i,r),t(o,r),r.isIterable=s,r.isKeyed=a,r.isIndexed=u,r.isAssociative=c,r.isOrdered=l,r.Keyed=n,r.Indexed=i,r.Set=o;var d="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m={},y={value:!1},g={value:!1};function b(e){return e.value=!1,e}function _(e){e&&(e.value=!0)}function v(){}function w(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function O(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function j(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?O(e)+t:t}function T(){return!0}function S(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function x(e,t){return A(e,t,0)}function E(e,t){return A(e,t,t)}function A(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var q,P,R,I="function"==typeof Symbol&&Symbol.iterator,N=I||"@@iterator";function D(e){this.next=e}function k(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function L(){return{value:void 0,done:!0}}function M(e){return!!F(e)}function B(e){return e&&"function"==typeof e.next}function C(e){var t=F(e);return t&&t.call(e)}function F(e){var t=e&&(I&&e[I]||e["@@iterator"]);if("function"==typeof t)return t}function Q(e){return e&&"number"==typeof e.length}function U(e){return null==e?J():s(e)?e.toSeq():function(e){var t=ee(e)||"object"==typeof e&&new X(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function V(e){return null==e?J().toKeyedSeq():s(e)?a(e)?e.toSeq():e.fromEntrySeq():W(e)}function z(e){return null==e?J():s(e)?a(e)?e.entrySeq():e.toIndexedSeq():Z(e)}function G(e){return(null==e?J():s(e)?a(e)?e.entrySeq():e:Z(e)).toSetSeq()}function H(e){this._array=e,this.size=e.length}function X(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function $(e){this._iterable=e,this.size=e.length||e.size}function K(e){this._iterator=e,this._iteratorCache=[]}function Y(e){return!(!e||!e["@@__IMMUTABLE_SEQ__@@"])}function J(){return q||(q=new H([]))}function W(e){var t=Array.isArray(e)?new H(e).fromEntrySeq():B(e)?new K(e).fromEntrySeq():M(e)?new $(e).fromEntrySeq():"object"==typeof e?new X(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function Z(e){var t=ee(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ee(e){return Q(e)?new H(e):B(e)?new K(e):M(e)?new $(e):void 0}function te(e,t,r,n){var i=e._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var a=i[r?o-s:s];if(!1===t(a[1],n?a[0]:s,e))return s+1}return s}return e.__iterateUncached(t,r)}function re(e,t,r,n){var i=e._cache;if(i){var o=i.length-1,s=0;return new D((function(){var e=i[r?o-s:s];return s++>o?{value:void 0,done:!0}:k(t,n?e[0]:s-1,e[1])}))}return e.__iteratorUncached(t,r)}function ne(e,t){return t?function e(t,r,n,i){return Array.isArray(r)?t.call(i,n,z(r).map((function(n,i){return e(t,n,i,r)}))):oe(r)?t.call(i,n,V(r).map((function(n,i){return e(t,n,i,r)}))):r}(t,e,"",{"":e}):ie(e)}function ie(e){return Array.isArray(e)?z(e).map(ie).toList():oe(e)?V(e).map(ie).toMap():e}function oe(e){return e&&(e.constructor===Object||void 0===e.constructor)}function se(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ae(e,t){if(e===t)return!0;if(!s(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!c(e);if(l(e)){var n=e.entries();return t.every((function(e,t){var i=n.next().value;return i&&se(i[1],e)&&(r||se(i[0],t))}))&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var d=!0,p=t.__iterate((function(t,n){if(r?!e.has(t):i?!se(t,e.get(n,m)):!se(e.get(n,m),t))return d=!1,!1}));return d&&e.size===p}function ue(e,t){if(!(this instanceof ue))return new ue(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(P)return P;P=this}}function ce(e,t){if(!e)throw new Error(t)}function le(e,t,r){if(!(this instanceof le))return new le(e,t,r);if(ce(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(R)return R;R=this}}function de(){throw TypeError("Abstract")}function pe(){}function he(){}function fe(){}D.prototype.toString=function(){return"[Iterator]"},D.KEYS=0,D.VALUES=1,D.ENTRIES=2,D.prototype.inspect=D.prototype.toSource=function(){return this.toString()},D.prototype[N]=function(){return this},t(U,r),U.of=function(){return U(arguments)},U.prototype.toSeq=function(){return this},U.prototype.toString=function(){return this.__toString("Seq {","}")},U.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},U.prototype.__iterate=function(e,t){return te(this,e,t,!0)},U.prototype.__iterator=function(e,t){return re(this,e,t,!0)},t(V,U),V.prototype.toKeyedSeq=function(){return this},t(z,U),z.of=function(){return z(arguments)},z.prototype.toIndexedSeq=function(){return this},z.prototype.toString=function(){return this.__toString("Seq [","]")},z.prototype.__iterate=function(e,t){return te(this,e,t,!1)},z.prototype.__iterator=function(e,t){return re(this,e,t,!1)},t(G,U),G.of=function(){return G(arguments)},G.prototype.toSetSeq=function(){return this},U.isSeq=Y,U.Keyed=V,U.Set=G,U.Indexed=z,U.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,t(H,z),H.prototype.get=function(e,t){return this.has(e)?this._array[j(this,e)]:t},H.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===e(r[t?n-i:i],i,this))return i+1;return i},H.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,i=0;return new D((function(){return i>n?{value:void 0,done:!0}:k(e,i,r[t?n-i++:i++])}))},t(X,V),X.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},X.prototype.has=function(e){return this._object.hasOwnProperty(e)},X.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var s=n[t?i-o:o];if(!1===e(r[s],s,this))return o+1}return o},X.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length-1,o=0;return new D((function(){var s=n[t?i-o:o];return o++>i?{value:void 0,done:!0}:k(e,s,r[s])}))},X.prototype[f]=!0,t($,z),$.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=C(this._iterable),n=0;if(B(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},$.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=C(this._iterable);if(!B(r))return new D(L);var n=0;return new D((function(){var t=r.next();return t.done?t:k(e,n++,t.value)}))},t(K,z),K.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(r=n.next()).done;){var s=r.value;if(i[o]=s,!1===e(s,o++,this))break}return o},K.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,i=0;return new D((function(){if(i>=n.length){var t=r.next();if(t.done)return t;n[i]=t.value}return k(e,i,n[i++])}))},t(ue,z),ue.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ue.prototype.get=function(e,t){return this.has(e)?this._value:t},ue.prototype.includes=function(e){return se(this._value,e)},ue.prototype.slice=function(e,t){var r=this.size;return S(e,t,r)?this:new ue(this._value,E(t,r)-x(e,r))},ue.prototype.reverse=function(){return this},ue.prototype.indexOf=function(e){return se(this._value,e)?0:-1},ue.prototype.lastIndexOf=function(e){return se(this._value,e)?this.size:-1},ue.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},ue.prototype.__iterator=function(e,t){var r=this,n=0;return new D((function(){return n<r.size?k(e,n++,r._value):{value:void 0,done:!0}}))},ue.prototype.equals=function(e){return e instanceof ue?se(this._value,e._value):ae(e)},t(le,z),le.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},le.prototype.get=function(e,t){return this.has(e)?this._start+j(this,e)*this._step:t},le.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},le.prototype.slice=function(e,t){return S(e,t,this.size)?this:(e=x(e,this.size),(t=E(t,this.size))<=e?new le(0,0):new le(this.get(e,this._end),this.get(t,this._end),this._step))},le.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},le.prototype.lastIndexOf=function(e){return this.indexOf(e)},le.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===e(i,o,this))return o+1;i+=t?-n:n}return o},le.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,o=0;return new D((function(){var s=i;return i+=t?-n:n,o>r?{value:void 0,done:!0}:k(e,o++,s)}))},le.prototype.equals=function(e){return e instanceof le?this._start===e._start&&this._end===e._end&&this._step===e._step:ae(this,e)},t(de,r),t(pe,de),t(he,de),t(fe,de),de.Keyed=pe,de.Indexed=he,de.Set=fe;var me="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function ye(e){return e>>>1&1073741824|3221225471&e}function ge(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return ye(r)}if("string"===t)return e.length>Se?function(e){var t=Ae[e];return void 0===t&&(t=be(e),Ee===xe&&(Ee=0,Ae={}),Ee++,Ae[e]=t),t}(e):be(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Oe&&void 0!==(t=_e.get(e)))return t;if(void 0!==(t=e[Te]))return t;if(!we){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Te]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++je,1073741824&je&&(je=0),Oe)_e.set(e,t);else{if(void 0!==ve&&!1===ve(e))throw new Error("Non-extensible objects are not allowed as keys.");if(we)Object.defineProperty(e,Te,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Te]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Te]=t}}return t}(e);if("function"==typeof e.toString)return be(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function be(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return ye(t)}var _e,ve=Object.isExtensible,we=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Oe="function"==typeof WeakMap;Oe&&(_e=new WeakMap);var je=0,Te="__immutablehash__";"function"==typeof Symbol&&(Te=Symbol(Te));var Se=16,xe=255,Ee=0,Ae={};function qe(e){ce(e!==1/0,"Cannot perform this action with an infinite size.")}function Pe(e){return null==e?ze():Re(e)&&!l(e)?e:ze().withMutations((function(t){var r=n(e);qe(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function Re(e){return!(!e||!e[Ne])}t(Pe,pe),Pe.of=function(){var t=e.call(arguments,0);return ze().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},Pe.prototype.toString=function(){return this.__toString("Map {","}")},Pe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Pe.prototype.set=function(e,t){return Ge(this,e,t)},Pe.prototype.setIn=function(e,t){return this.updateIn(e,m,(function(){return t}))},Pe.prototype.remove=function(e){return Ge(this,e,m)},Pe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return m}))},Pe.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},Pe.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=function e(t,r,n,i){var o=t===m,s=r.next();if(s.done){var a=o?n:t,u=i(a);return u===a?t:u}ce(o||t&&t.set,"invalid keyPath");var c=s.value,l=o?m:t.get(c,m),d=e(l,r,n,i);return d===l?t:d===m?t.remove(c):(o?ze():t).set(c,d)}(this,Kt(e),t,r);return n===m?void 0:n},Pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ze()},Pe.prototype.merge=function(){return Ke(this,void 0,arguments)},Pe.prototype.mergeWith=function(t){var r=e.call(arguments,1);return Ke(this,t,r)},Pe.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,ze(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]}))},Pe.prototype.mergeDeep=function(){return Ke(this,Ye,arguments)},Pe.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return Ke(this,Je(t),r)},Pe.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,ze(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]}))},Pe.prototype.sort=function(e){return wt(Bt(this,e))},Pe.prototype.sortBy=function(e,t){return wt(Bt(this,t,e))},Pe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new v)},Pe.prototype.asImmutable=function(){return this.__ensureOwner()},Pe.prototype.wasAltered=function(){return this.__altered},Pe.prototype.__iterator=function(e,t){return new Fe(this,e,t)},Pe.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},Pe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ve(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Pe.isMap=Re;var Ie,Ne="@@__IMMUTABLE_MAP__@@",De=Pe.prototype;function ke(e,t){this.ownerID=e,this.entries=t}function Le(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function Me(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function Be(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function Ce(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function Fe(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Ue(e._root)}function Qe(e,t){return k(e,t[0],t[1])}function Ue(e,t){return{node:e,index:0,__prev:t}}function Ve(e,t,r,n){var i=Object.create(De);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function ze(){return Ie||(Ie=Ve(0))}function Ge(e,t,r){var n,i;if(e._root){var o=b(y),s=b(g);if(n=He(e._root,e.__ownerID,0,void 0,t,r,o,s),!s.value)return e;i=e.size+(o.value?r===m?-1:1:0)}else{if(r===m)return e;i=1,n=new ke(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ve(i,n):ze()}function He(e,t,r,n,i,o,s,a){return e?e.update(t,r,n,i,o,s,a):o===m?e:(_(a),_(s),new Ce(t,n,[i,o]))}function Xe(e){return e.constructor===Ce||e.constructor===Be}function $e(e,t,r,n,i){if(e.keyHash===n)return new Be(t,n,[e.entry,i]);var o,s=31&(0===r?e.keyHash:e.keyHash>>>r),a=31&(0===r?n:n>>>r);return new Le(t,1<<s|1<<a,s===a?[$e(e,t,r+5,n,i)]:(o=new Ce(t,n,i),s<a?[e,o]:[o,e]))}function Ke(e,t,r){for(var i=[],o=0;o<r.length;o++){var a=r[o],u=n(a);s(a)||(u=u.map((function(e){return ne(e)}))),i.push(u)}return We(e,t,i)}function Ye(e,t,r){return e&&e.mergeDeep&&s(t)?e.mergeDeep(t):se(e,t)?e:t}function Je(e){return function(t,r,n){if(t&&t.mergeDeepWith&&s(r))return t.mergeDeepWith(e,r);var i=e(t,r,n);return se(t,i)?t:i}}function We(e,t,r){return 0===(r=r.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var n=t?function(r,n){e.update(n,m,(function(e){return e===m?r:t(e,r,n)}))}:function(t,r){e.set(r,t)},i=0;i<r.length;i++)r[i].forEach(n)})):e.constructor(r[0])}function Ze(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function et(e,t,r,n){var i=n?e:w(e);return i[t]=r,i}De[Ne]=!0,De.delete=De.remove,De.removeIn=De.deleteIn,ke.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(se(r,i[o][0]))return i[o][1];return n},ke.prototype.update=function(e,t,r,n,i,o,s){for(var a=i===m,u=this.entries,c=0,l=u.length;c<l&&!se(n,u[c][0]);c++);var d=c<l;if(d?u[c][1]===i:a)return this;if(_(s),(a||!d)&&_(o),!a||1!==u.length){if(!d&&!a&&u.length>=tt)return function(e,t,r,n){e||(e=new v);for(var i=new Ce(e,ge(r),[r,n]),o=0;o<t.length;o++){var s=t[o];i=i.update(e,0,void 0,s[0],s[1])}return i}(e,u,n,i);var p=e&&e===this.ownerID,h=p?u:w(u);return d?a?c===l-1?h.pop():h[c]=h.pop():h[c]=[n,i]:h.push([n,i]),p?(this.entries=h,this):new ke(e,h)}},Le.prototype.get=function(e,t,r,n){void 0===t&&(t=ge(r));var i=1<<(31&(0===e?t:t>>>e)),o=this.bitmap;return 0==(o&i)?n:this.nodes[Ze(o&i-1)].get(e+5,t,r,n)},Le.prototype.update=function(e,t,r,n,i,o,s){void 0===r&&(r=ge(n));var a=31&(0===t?r:r>>>t),u=1<<a,c=this.bitmap,l=0!=(c&u);if(!l&&i===m)return this;var d=Ze(c&u-1),p=this.nodes,h=l?p[d]:void 0,f=He(h,e,t+5,r,n,i,o,s);if(f===h)return this;if(!l&&f&&p.length>=rt)return function(e,t,r,n,i){for(var o=0,s=new Array(32),a=0;0!==r;a++,r>>>=1)s[a]=1&r?t[o++]:void 0;return s[n]=i,new Me(e,o+1,s)}(e,p,c,a,f);if(l&&!f&&2===p.length&&Xe(p[1^d]))return p[1^d];if(l&&f&&1===p.length&&Xe(f))return f;var y=e&&e===this.ownerID,g=l?f?c:c^u:c|u,b=l?f?et(p,d,f,y):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,s=0;s<n;s++)s===t&&(o=1),i[s]=e[s+o];return i}(p,d,y):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),s=0,a=0;a<i;a++)a===t?(o[a]=r,s=-1):o[a]=e[a+s];return o}(p,d,f,y);return y?(this.bitmap=g,this.nodes=b,this):new Le(e,g,b)},Me.prototype.get=function(e,t,r,n){void 0===t&&(t=ge(r));var i=31&(0===e?t:t>>>e),o=this.nodes[i];return o?o.get(e+5,t,r,n):n},Me.prototype.update=function(e,t,r,n,i,o,s){void 0===r&&(r=ge(n));var a=31&(0===t?r:r>>>t),u=i===m,c=this.nodes,l=c[a];if(u&&!l)return this;var d=He(l,e,t+5,r,n,i,o,s);if(d===l)return this;var p=this.count;if(l){if(!d&&--p<nt)return function(e,t,r,n){for(var i=0,o=0,s=new Array(r),a=0,u=1,c=t.length;a<c;a++,u<<=1){var l=t[a];void 0!==l&&a!==n&&(i|=u,s[o++]=l)}return new Le(e,i,s)}(e,c,p,a)}else p++;var h=e&&e===this.ownerID,f=et(c,a,d,h);return h?(this.count=p,this.nodes=f,this):new Me(e,p,f)},Be.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(se(r,i[o][0]))return i[o][1];return n},Be.prototype.update=function(e,t,r,n,i,o,s){void 0===r&&(r=ge(n));var a=i===m;if(r!==this.keyHash)return a?this:(_(s),_(o),$e(this,e,t,r,[n,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!se(n,u[c][0]);c++);var d=c<l;if(d?u[c][1]===i:a)return this;if(_(s),(a||!d)&&_(o),a&&2===l)return new Ce(e,this.keyHash,u[1^c]);var p=e&&e===this.ownerID,h=p?u:w(u);return d?a?c===l-1?h.pop():h[c]=h.pop():h[c]=[n,i]:h.push([n,i]),p?(this.entries=h,this):new Be(e,this.keyHash,h)},Ce.prototype.get=function(e,t,r,n){return se(r,this.entry[0])?this.entry[1]:n},Ce.prototype.update=function(e,t,r,n,i,o,s){var a=i===m,u=se(n,this.entry[0]);return(u?i===this.entry[1]:a)?this:(_(s),a?void _(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new Ce(e,this.keyHash,[n,i]):(_(o),$e(this,e,t,ge(n),[n,i])))},ke.prototype.iterate=Be.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},Le.prototype.iterate=Me.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&!1===o.iterate(e,t))return!1}},Ce.prototype.iterate=function(e,t){return e(this.entry)},t(Fe,D),Fe.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,i=t.index++;if(n.entry){if(0===i)return Qe(e,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return Qe(e,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return Qe(e,o.entry);t=this._stack=Ue(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var tt=8,rt=16,nt=8;function it(e){var t=ft();if(null==e)return t;if(ot(e))return e;var r=i(e),n=r.size;return 0===n?t:(qe(n),n>0&&n<32?ht(0,n,5,null,new ut(r.toArray())):t.withMutations((function(e){e.setSize(n),r.forEach((function(t,r){return e.set(r,t)}))})))}function ot(e){return!(!e||!e[st])}t(it,he),it.of=function(){return this(arguments)},it.prototype.toString=function(){return this.__toString("List [","]")},it.prototype.get=function(e,t){if((e=j(this,e))>=0&&e<this.size){var r=gt(this,e+=this._origin);return r&&r.array[31&e]}return t},it.prototype.set=function(e,t){return function(e,t,r){if((t=j(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?bt(e,t).set(0,r):bt(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,i=e._root,o=b(g);return t>=vt(e._capacity)?n=mt(n,e.__ownerID,0,t,r,o):i=mt(i,e.__ownerID,e._level,t,r,o),o.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):ht(e._origin,e._capacity,e._level,i,n):e}(this,e,t)},it.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},it.prototype.insert=function(e,t){return this.splice(e,0,t)},it.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ft()},it.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){bt(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},it.prototype.pop=function(){return bt(this,0,-1)},it.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){bt(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},it.prototype.shift=function(){return bt(this,1)},it.prototype.merge=function(){return _t(this,void 0,arguments)},it.prototype.mergeWith=function(t){var r=e.call(arguments,1);return _t(this,t,r)},it.prototype.mergeDeep=function(){return _t(this,Ye,arguments)},it.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return _t(this,Je(t),r)},it.prototype.setSize=function(e){return bt(this,0,e)},it.prototype.slice=function(e,t){var r=this.size;return S(e,t,r)?this:bt(this,x(e,r),E(t,r))},it.prototype.__iterator=function(e,t){var r=0,n=pt(this,t);return new D((function(){var t=n();return t===dt?{value:void 0,done:!0}:k(e,r++,t)}))},it.prototype.__iterate=function(e,t){for(var r,n=0,i=pt(this,t);(r=i())!==dt&&!1!==e(r,n++,this););return n},it.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?ht(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},it.isList=ot;var st="@@__IMMUTABLE_LIST__@@",at=it.prototype;function ut(e,t){this.array=e,this.ownerID=t}at[st]=!0,at.delete=at.remove,at.setIn=De.setIn,at.deleteIn=at.removeIn=De.removeIn,at.update=De.update,at.updateIn=De.updateIn,at.mergeIn=De.mergeIn,at.mergeDeepIn=De.mergeDeepIn,at.withMutations=De.withMutations,at.asMutable=De.asMutable,at.asImmutable=De.asImmutable,at.wasAltered=De.wasAltered,ut.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&31;if(n>=this.array.length)return new ut([],e);var i,o=0===n;if(t>0){var s=this.array[n];if((i=s&&s.removeBefore(e,t-5,r))===s&&o)return this}if(o&&!i)return this;var a=yt(this,e);if(!o)for(var u=0;u<n;u++)a.array[u]=void 0;return i&&(a.array[n]=i),a},ut.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,i=r-1>>>t&31;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((n=o&&o.removeAfter(e,t-5,r))===o&&i===this.array.length-1)return this}var s=yt(this,e);return s.array.splice(i+1),n&&(s.array[i]=n),s};var ct,lt,dt={};function pt(e,t){var r=e._origin,n=e._capacity,i=vt(n),o=e._tail;return s(e._root,e._level,0);function s(e,a,u){return 0===a?function(e,s){var a=s===i?o&&o.array:e&&e.array,u=s>r?0:r-s,c=n-s;return c>32&&(c=32),function(){if(u===c)return dt;var e=t?--c:u++;return a&&a[e]}}(e,u):function(e,i,o){var a,u=e&&e.array,c=o>r?0:r-o>>i,l=1+(n-o>>i);return l>32&&(l=32),function(){for(;;){if(a){var e=a();if(e!==dt)return e;a=null}if(c===l)return dt;var r=t?--l:c++;a=s(u&&u[r],i-5,o+(r<<i))}}}(e,a,u)}}function ht(e,t,r,n,i,o,s){var a=Object.create(at);return a.size=t-e,a._origin=e,a._capacity=t,a._level=r,a._root=n,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function ft(){return ct||(ct=ht(0,0,5))}function mt(e,t,r,n,i,o){var s,a=n>>>r&31,u=e&&a<e.array.length;if(!u&&void 0===i)return e;if(r>0){var c=e&&e.array[a],l=mt(c,t,r-5,n,i,o);return l===c?e:((s=yt(e,t)).array[a]=l,s)}return u&&e.array[a]===i?e:(_(o),s=yt(e,t),void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function yt(e,t){return t&&e&&t===e.ownerID?e:new ut(e?e.array.slice():[],t)}function gt(e,t){if(t>=vt(e._capacity))return e._tail;if(t<1<<e._level+5){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&31],n-=5;return r}}function bt(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new v,i=e._origin,o=e._capacity,s=i+t,a=void 0===r?o:r<0?o+r:i+r;if(s===i&&a===o)return e;if(s>=a)return e.clear();for(var u=e._level,c=e._root,l=0;s+l<0;)c=new ut(c&&c.array.length?[void 0,c]:[],n),l+=1<<(u+=5);l&&(s+=l,i+=l,a+=l,o+=l);for(var d=vt(o),p=vt(a);p>=1<<u+5;)c=new ut(c&&c.array.length?[c]:[],n),u+=5;var h=e._tail,f=p<d?gt(e,a-1):p>d?new ut([],n):h;if(h&&p>d&&s<o&&h.array.length){for(var m=c=yt(c,n),y=u;y>5;y-=5){var g=d>>>y&31;m=m.array[g]=yt(m.array[g],n)}m.array[d>>>5&31]=h}if(a<o&&(f=f&&f.removeAfter(n,0,a)),s>=p)s-=p,a-=p,u=5,c=null,f=f&&f.removeBefore(n,0,s);else if(s>i||p<d){for(l=0;c;){var b=s>>>u&31;if(b!==p>>>u&31)break;b&&(l+=(1<<u)*b),u-=5,c=c.array[b]}c&&s>i&&(c=c.removeBefore(n,u,s-l)),c&&p<d&&(c=c.removeAfter(n,u,p-l)),l&&(s-=l,a-=l)}return e.__ownerID?(e.size=a-s,e._origin=s,e._capacity=a,e._level=u,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):ht(s,a,u,c,f)}function _t(e,t,r){for(var n=[],o=0,a=0;a<r.length;a++){var u=r[a],c=i(u);c.size>o&&(o=c.size),s(u)||(c=c.map((function(e){return ne(e)}))),n.push(c)}return o>e.size&&(e=e.setSize(o)),We(e,t,n)}function vt(e){return e<32?0:e-1>>>5<<5}function wt(e){return null==e?Tt():Ot(e)?e:Tt().withMutations((function(t){var r=n(e);qe(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function Ot(e){return Re(e)&&l(e)}function jt(e,t,r,n){var i=Object.create(wt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}function Tt(){return lt||(lt=jt(ze(),ft()))}function St(e,t,r){var n,i,o=e._map,s=e._list,a=o.get(t),u=void 0!==a;if(r===m){if(!u)return e;s.size>=32&&s.size>=2*o.size?(n=(i=s.filter((function(e,t){return void 0!==e&&a!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=i.__ownerID=e.__ownerID)):(n=o.remove(t),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(r===s.get(a)[1])return e;n=o,i=s.set(a,[t,r])}else n=o.set(t,s.size),i=s.set(s.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=i,e.__hash=void 0,e):jt(n,i)}function xt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Et(e){this._iter=e,this.size=e.size}function At(e){this._iter=e,this.size=e.size}function qt(e){this._iter=e,this.size=e.size}function Pt(e){var t=Ht(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Xt,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(2===t){var n=e.__iterator(t,r);return new D((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,r)},t}function Rt(e,t,r){var n=Ht(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var o=e.get(n,m);return o===m?i:t.call(r,o,n,e)},n.__iterateUncached=function(n,i){var o=this;return e.__iterate((function(e,i,s){return!1!==n(t.call(r,e,i,s),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=e.__iterator(2,i);return new D((function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return k(n,a,t.call(r,s[1],a,e),i)}))},n}function It(e,t){var r=Ht(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Pt(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=Xt,r.__iterate=function(t,r){var n=this;return e.__iterate((function(e,r){return t(e,r,n)}),!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function Nt(e,t,r,n){var i=Ht(e);return n&&(i.has=function(n){var i=e.get(n,m);return i!==m&&!!t.call(r,i,n,e)},i.get=function(n,i){var o=e.get(n,m);return o!==m&&t.call(r,o,n,e)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return e.__iterate((function(e,o,u){if(t.call(r,e,o,u))return a++,i(e,n?o:a-1,s)}),o),a},i.__iteratorUncached=function(i,o){var s=e.__iterator(2,o),a=0;return new D((function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(t.call(r,l,c,e))return k(i,n?c:a++,l,o)}}))},i}function Dt(e,t,r,n){var i=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r===1/0?r=i:r|=0),S(t,r,i))return e;var o=x(t,i),s=E(r,i);if(o!=o||s!=s)return Dt(e.toSeq().cacheResult(),t,r,n);var a,u=s-o;u==u&&(a=u<0?0:u);var c=Ht(e);return c.size=0===a?a:e.size&&a||void 0,!n&&Y(e)&&a>=0&&(c.get=function(t,r){return(t=j(this,t))>=0&&t<a?e.get(t+o,r):r}),c.__iterateUncached=function(t,r){var i=this;if(0===a)return 0;if(r)return this.cacheResult().__iterate(t,r);var s=0,u=!0,c=0;return e.__iterate((function(e,r){if(!u||!(u=s++<o))return c++,!1!==t(e,n?r:c-1,i)&&c!==a})),c},c.__iteratorUncached=function(t,r){if(0!==a&&r)return this.cacheResult().__iterator(t,r);var i=0!==a&&e.__iterator(t,r),s=0,u=0;return new D((function(){for(;s++<o;)i.next();if(++u>a)return{value:void 0,done:!0};var e=i.next();return n||1===t?e:k(t,u-1,0===t?void 0:e.value[1],e)}))},c}function kt(e,t,r,n){var i=Ht(e);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return e.__iterate((function(e,o,c){if(!a||!(a=t.call(r,e,o,c)))return u++,i(e,n?o:u-1,s)})),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(2,o),u=!0,c=0;return new D((function(){var e,o,l;do{if((e=a.next()).done)return n||1===i?e:k(i,c++,0===i?void 0:e.value[1],e);var d=e.value;o=d[0],l=d[1],u&&(u=t.call(r,l,o,s))}while(u);return 2===i?e:k(i,o,l,e)}))},i}function Lt(e,t){var r=a(e),i=[e].concat(t).map((function(e){return s(e)?r&&(e=n(e)):e=r?W(e):Z(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||r&&a(o)||u(e)&&u(o))return o}var c=new H(i);return r?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),c}function Mt(e,t,r){var n=Ht(e);return n.__iterateUncached=function(n,i){var o=0,a=!1;return function e(u,c){var l=this;u.__iterate((function(i,u){return(!t||c<t)&&s(i)?e(i,c+1):!1===n(i,r?u:o++,l)&&(a=!0),!a}),i)}(e,0),o},n.__iteratorUncached=function(n,i){var o=e.__iterator(n,i),a=[],u=0;return new D((function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(2===n&&(c=c[1]),t&&!(a.length<t)||!s(c))return r?e:k(n,u++,c,e);a.push(o),o=c.__iterator(n,i)}else o=a.pop()}return{value:void 0,done:!0}}))},n}function Bt(e,t,r){t||(t=$t);var n=a(e),i=0,o=e.toSeq().map((function(t,n){return[n,t,i++,r?r(t,n,e):t]})).toArray();return o.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),n?V(o):u(e)?z(o):G(o)}function Ct(e,t,r){if(t||(t=$t),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return Ft(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return Ft(t,e,r)?r:e}))}function Ft(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function Qt(e,t,n){var i=Ht(e);return i.size=new H(n).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(1,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=n.map((function(e){return e=r(e),C(i?e.reverse():e)})),s=0,a=!1;return new D((function(){var r;return a||(r=o.map((function(e){return e.next()})),a=r.some((function(e){return e.done}))),a?{value:void 0,done:!0}:k(e,s++,t.apply(null,r.map((function(e){return e.value}))))}))},i}function Ut(e,t){return Y(e)?t:e.constructor(t)}function Vt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function zt(e){return qe(e.size),O(e)}function Gt(e){return a(e)?n:u(e)?i:o}function Ht(e){return Object.create((a(e)?V:u(e)?z:G).prototype)}function Xt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):U.prototype.cacheResult.call(this)}function $t(e,t){return e>t?1:e<t?-1:0}function Kt(e){var t=C(e);if(!t){if(!Q(e))throw new TypeError("Expected iterable or array-like: "+e);t=C(r(e))}return t}function Yt(e,t){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var s=Object.keys(e);!function(e,t){try{t.forEach(er.bind(void 0,e))}catch(e){}}(i,s),i.size=s.length,i._name=t,i._keys=s,i._defaultValues=e}this._map=Pe(o)},i=n.prototype=Object.create(Jt);return i.constructor=n,n}t(wt,Pe),wt.of=function(){return this(arguments)},wt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},wt.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},wt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Tt()},wt.prototype.set=function(e,t){return St(this,e,t)},wt.prototype.remove=function(e){return St(this,e,m)},wt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},wt.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},wt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},wt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?jt(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},wt.isOrderedMap=Ot,wt.prototype[f]=!0,wt.prototype.delete=wt.prototype.remove,t(xt,V),xt.prototype.get=function(e,t){return this._iter.get(e,t)},xt.prototype.has=function(e){return this._iter.has(e)},xt.prototype.valueSeq=function(){return this._iter.valueSeq()},xt.prototype.reverse=function(){var e=this,t=It(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},xt.prototype.map=function(e,t){var r=this,n=Rt(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},xt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?zt(this):0,function(i){return e(i,t?--r:r++,n)}),t)},xt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(1,t),n=t?zt(this):0;return new D((function(){var i=r.next();return i.done?i:k(e,t?--n:n++,i.value,i)}))},xt.prototype[f]=!0,t(Et,z),Et.prototype.includes=function(e){return this._iter.includes(e)},Et.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate((function(t){return e(t,n++,r)}),t)},Et.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t),n=0;return new D((function(){var t=r.next();return t.done?t:k(e,n++,t.value,t)}))},t(At,G),At.prototype.has=function(e){return this._iter.includes(e)},At.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},At.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new D((function(){var t=r.next();return t.done?t:k(e,t.value,t.value,t)}))},t(qt,V),qt.prototype.entrySeq=function(){return this._iter.toSeq()},qt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){Vt(t);var n=s(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},qt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new D((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Vt(n);var i=s(n);return k(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}}))},Et.prototype.cacheResult=xt.prototype.cacheResult=At.prototype.cacheResult=qt.prototype.cacheResult=Xt,t(Yt,pe),Yt.prototype.toString=function(){return this.__toString(Zt(this)+" {","}")},Yt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Yt.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},Yt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Wt(this,ze()))},Yt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Zt(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:Wt(this,r)},Yt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Wt(this,t)},Yt.prototype.wasAltered=function(){return this._map.wasAltered()},Yt.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterator(e,t)},Yt.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterate(e,t)},Yt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Wt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Jt=Yt.prototype;function Wt(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function Zt(e){return e._name||e.constructor.name||"Record"}function er(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ce(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function tr(e){return null==e?ur():rr(e)&&!l(e)?e:ur().withMutations((function(t){var r=o(e);qe(r.size),r.forEach((function(e){return t.add(e)}))}))}function rr(e){return!(!e||!e[ir])}Jt.delete=Jt.remove,Jt.deleteIn=Jt.removeIn=De.removeIn,Jt.merge=De.merge,Jt.mergeWith=De.mergeWith,Jt.mergeIn=De.mergeIn,Jt.mergeDeep=De.mergeDeep,Jt.mergeDeepWith=De.mergeDeepWith,Jt.mergeDeepIn=De.mergeDeepIn,Jt.setIn=De.setIn,Jt.update=De.update,Jt.updateIn=De.updateIn,Jt.withMutations=De.withMutations,Jt.asMutable=De.asMutable,Jt.asImmutable=De.asImmutable,t(tr,fe),tr.of=function(){return this(arguments)},tr.fromKeys=function(e){return this(n(e).keySeq())},tr.prototype.toString=function(){return this.__toString("Set {","}")},tr.prototype.has=function(e){return this._map.has(e)},tr.prototype.add=function(e){return sr(this,this._map.set(e,!0))},tr.prototype.remove=function(e){return sr(this,this._map.remove(e))},tr.prototype.clear=function(){return sr(this,this._map.clear())},tr.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var r=0;r<t.length;r++)o(t[r]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},tr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.every((function(e){return e.includes(r)}))||e.remove(r)}))}))},tr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.some((function(e){return e.includes(r)}))&&e.remove(r)}))}))},tr.prototype.merge=function(){return this.union.apply(this,arguments)},tr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},tr.prototype.sort=function(e){return cr(Bt(this,e))},tr.prototype.sortBy=function(e,t){return cr(Bt(this,t,e))},tr.prototype.wasAltered=function(){return this._map.wasAltered()},tr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t,n){return e(n,n,r)}),t)},tr.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},tr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},tr.isSet=rr;var nr,ir="@@__IMMUTABLE_SET__@@",or=tr.prototype;function sr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function ar(e,t){var r=Object.create(or);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function ur(){return nr||(nr=ar(ze()))}function cr(e){return null==e?fr():lr(e)?e:fr().withMutations((function(t){var r=o(e);qe(r.size),r.forEach((function(e){return t.add(e)}))}))}function lr(e){return rr(e)&&l(e)}or[ir]=!0,or.delete=or.remove,or.mergeDeep=or.merge,or.mergeDeepWith=or.mergeWith,or.withMutations=De.withMutations,or.asMutable=De.asMutable,or.asImmutable=De.asImmutable,or.__empty=ur,or.__make=ar,t(cr,tr),cr.of=function(){return this(arguments)},cr.fromKeys=function(e){return this(n(e).keySeq())},cr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},cr.isOrderedSet=lr;var dr,pr=cr.prototype;function hr(e,t){var r=Object.create(pr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function fr(){return dr||(dr=hr(Tt()))}function mr(e){return null==e?wr():yr(e)?e:wr().unshiftAll(e)}function yr(e){return!(!e||!e[br])}pr[f]=!0,pr.__empty=fr,pr.__make=hr,t(mr,he),mr.of=function(){return this(arguments)},mr.prototype.toString=function(){return this.__toString("Stack [","]")},mr.prototype.get=function(e,t){var r=this._head;for(e=j(this,e);r&&e--;)r=r.next;return r?r.value:t},mr.prototype.peek=function(){return this._head&&this._head.value},mr.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):vr(e,t)},mr.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;qe(e.size);var t=this.size,r=this._head;return e.reverse().forEach((function(e){t++,r={value:e,next:r}})),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):vr(t,r)},mr.prototype.pop=function(){return this.slice(1)},mr.prototype.unshift=function(){return this.push.apply(this,arguments)},mr.prototype.unshiftAll=function(e){return this.pushAll(e)},mr.prototype.shift=function(){return this.pop.apply(this,arguments)},mr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):wr()},mr.prototype.slice=function(e,t){if(S(e,t,this.size))return this;var r=x(e,this.size);if(E(t,this.size)!==this.size)return he.prototype.slice.call(this,e,t);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):vr(n,i)},mr.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?vr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},mr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},mr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new D((function(){if(n){var t=n.value;return n=n.next,k(e,r++,t)}return{value:void 0,done:!0}}))},mr.isStack=yr;var gr,br="@@__IMMUTABLE_STACK__@@",_r=mr.prototype;function vr(e,t,r,n){var i=Object.create(_r);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function wr(){return gr||(gr=vr(0))}function Or(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}_r[br]=!0,_r.withMutations=De.withMutations,_r.asMutable=De.asMutable,_r.asImmutable=De.asImmutable,_r.wasAltered=De.wasAltered,r.Iterator=D,Or(r,{toArray:function(){qe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,r){e[r]=t})),e},toIndexedSeq:function(){return new Et(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new xt(this,!0)},toMap:function(){return Pe(this.toKeyedSeq())},toObject:function(){qe(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e},toOrderedMap:function(){return wt(this.toKeyedSeq())},toOrderedSet:function(){return cr(a(this)?this.valueSeq():this)},toSet:function(){return tr(a(this)?this.valueSeq():this)},toSetSeq:function(){return new At(this)},toSeq:function(){return u(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mr(a(this)?this.valueSeq():this)},toList:function(){return it(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Ut(this,Lt(this,t))},includes:function(e){return this.some((function(t){return se(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){qe(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!e.call(t,n,i,o))return r=!1,!1})),r},filter:function(e,t){return Ut(this,Nt(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return qe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){qe(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Ut(this,Rt(this,e,t))},reduce:function(e,t,r){var n,i;return qe(this.size),arguments.length<2?i=!0:n=t,this.__iterate((function(t,o,s){i?(i=!1,n=t):n=e.call(r,n,t,o,s)})),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Ut(this,It(this,!0))},slice:function(e,t){return Ut(this,Dt(this,e,t,!0))},some:function(e,t){return!this.every(Er(e),t)},sort:function(e){return Ut(this,Bt(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return O(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Pe().asMutable();return e.__iterate((function(i,o){n.update(t.call(r,i,o,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return ae(this,e)},entrySeq:function(){var e=this;if(e._cache)return new H(e._cache);var t=e.toSeq().map(xr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Er(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(T)},flatMap:function(e,t){return Ut(this,function(e,t,r){var n=Gt(e);return e.toSeq().map((function(i,o){return n(t.call(r,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Ut(this,Mt(this,e,!0))},fromEntrySeq:function(){return new qt(this)},get:function(e,t){return this.find((function(t,r){return se(r,e)}),void 0,t)},getIn:function(e,t){for(var r,n=this,i=Kt(e);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,m):m)===m)return t}return n},groupBy:function(e,t){return function(e,t,r){var n=a(e),i=(l(e)?wt():Pe()).asMutable();e.__iterate((function(o,s){i.update(t.call(r,o,s,e),(function(e){return(e=e||[]).push(n?[s,o]:o),e}))}));var o=Gt(e);return i.map((function(t){return Ut(e,o(t))}))}(this,e,t)},has:function(e){return this.get(e,m)!==m},hasIn:function(e){return this.getIn(e,m)!==m},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return se(t,e)}))},keySeq:function(){return this.toSeq().map(Sr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ct(this,e)},maxBy:function(e,t){return Ct(this,t,e)},min:function(e){return Ct(this,e?Ar(e):Rr)},minBy:function(e,t){return Ct(this,t?Ar(t):Rr,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Ut(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Ut(this,kt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Er(e),t)},sortBy:function(e,t){return Ut(this,Bt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Ut(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Ut(this,function(e,t,r){var n=Ht(e);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var s=0;return e.__iterate((function(e,i,a){return t.call(r,e,i,a)&&++s&&n(e,i,o)})),s},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var s=e.__iterator(2,i),a=!0;return new D((function(){if(!a)return{value:void 0,done:!0};var e=s.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(r,c,u,o)?2===n?e:k(n,u,c,e):(a=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Er(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),r=a(e),n=t?1:0;return function(e,t){return t=me(t,3432918353),t=me(t<<15|t>>>-15,461845907),t=me(t<<13|t>>>-13,5),t=me((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ye((t=me(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+Ir(ge(e),ge(t))|0}:function(e,t){n=n+Ir(ge(e),ge(t))|0}:t?function(e){n=31*n+ge(e)|0}:function(e){n=n+ge(e)|0}),n)}(this))}});var jr=r.prototype;jr[d]=!0,jr[N]=jr.values,jr.__toJS=jr.toArray,jr.__toStringMapper=qr,jr.inspect=jr.toSource=function(){return this.toString()},jr.chain=jr.flatMap,jr.contains=jr.includes,Or(n,{flip:function(){return Ut(this,Pt(this))},mapEntries:function(e,t){var r=this,n=0;return Ut(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Ut(this,this.toSeq().flip().map((function(n,i){return e.call(t,n,i,r)})).flip())}});var Tr=n.prototype;function Sr(e,t){return t}function xr(e,t){return[t,e]}function Er(e){return function(){return!e.apply(this,arguments)}}function Ar(e){return function(){return-e.apply(this,arguments)}}function qr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Pr(){return w(arguments)}function Rr(e,t){return e<t?1:e>t?-1:0}function Ir(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Tr[p]=!0,Tr[N]=jr.entries,Tr.__toJS=jr.toObject,Tr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+qr(e)},Or(i,{toKeyedSeq:function(){return new xt(this,!1)},filter:function(e,t){return Ut(this,Nt(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ut(this,It(this,!1))},slice:function(e,t){return Ut(this,Dt(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=x(e,e<0?this.count():this.size);var n=this.slice(0,e);return Ut(this,1===r?n:n.concat(w(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Ut(this,Mt(this,e,!1))},get:function(e,t){return(e=j(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=j(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ut(this,function(e,t){var r=Ht(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return e.__iterate((function(e,n){return(!o||!1!==r(t,o++,i))&&!1!==r(e,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=e.__iterator(1,n),s=0;return new D((function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?k(r,s++,t):k(r,s++,i.value,i)}))},r}(this,e))},interleave:function(){var e=[this].concat(w(arguments)),t=Qt(this.toSeq(),z.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Ut(this,r)},keySeq:function(){return le(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Ut(this,kt(this,e,t,!1))},zip:function(){var e=[this].concat(w(arguments));return Ut(this,Qt(this,Pr,e))},zipWith:function(e){var t=w(arguments);return t[0]=this,Ut(this,Qt(this,e,t))}}),i.prototype[h]=!0,i.prototype[f]=!0,Or(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=jr.includes,o.prototype.contains=o.prototype.includes,Or(V,n.prototype),Or(z,i.prototype),Or(G,o.prototype),Or(pe,n.prototype),Or(he,i.prototype),Or(fe,o.prototype),{Iterable:r,Seq:U,Collection:de,Map:Pe,OrderedMap:wt,List:it,Stack:mr,Set:tr,OrderedSet:cr,Record:Yt,Range:le,Repeat:ue,is:se,fromJS:ne}}()},"./node_modules/inherits/inherits_browser.js":e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},"./node_modules/is-stream/index.js":e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},"./node_modules/lodash.uniqwith/index.js":(e,t,r)=>{var n=/^\[object .+?Constructor\]$/,i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,o="object"==typeof self&&self&&self.Object===Object&&self,s=i||o||Function("return this")();function a(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,c,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function u(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function c(e){return e!=e}function l(e,t){return e.has(t)}function d(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var p,h=Array.prototype,f=Function.prototype,m=Object.prototype,y=s["__core-js_shared__"],g=(p=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",b=f.toString,_=m.hasOwnProperty,v=m.toString,w=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=h.splice,j=D(s,"Map"),T=D(s,"Set"),S=D(Object,"create");function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function E(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function q(e){var t=-1,r=e?e.length:0;for(this.__data__=new A;++t<r;)this.add(e[t])}function P(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function R(e){return!(!k(e)||(t=e,g&&g in t))&&(function(e){var t=k(e)?v.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:n).test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}x.prototype.clear=function(){this.__data__=S?S(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var t=this.__data__;if(S){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return _.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return S?void 0!==t[e]:_.call(t,e)},x.prototype.set=function(e,t){return this.__data__[e]=S&&void 0===t?"__lodash_hash_undefined__":t,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(e){var t=this.__data__,r=P(t,e);return!(r<0)&&(r==t.length-1?t.pop():O.call(t,r,1),!0)},E.prototype.get=function(e){var t=this.__data__,r=P(t,e);return r<0?void 0:t[r][1]},E.prototype.has=function(e){return P(this.__data__,e)>-1},E.prototype.set=function(e,t){var r=this.__data__,n=P(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},A.prototype.clear=function(){this.__data__={hash:new x,map:new(j||E),string:new x}},A.prototype.delete=function(e){return N(this,e).delete(e)},A.prototype.get=function(e){return N(this,e).get(e)},A.prototype.has=function(e){return N(this,e).has(e)},A.prototype.set=function(e,t){return N(this,e).set(e,t),this},q.prototype.add=q.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},q.prototype.has=function(e){return this.__data__.has(e)};var I=T&&1/d(new T([,-0]))[1]==1/0?function(e){return new T(e)}:function(){};function N(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function D(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return R(r)?r:void 0}function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,t){return e&&e.length?function(e,t,r){var n=-1,i=a,o=e.length,s=!0,c=[],p=c;if(r)s=!1,i=u;else if(o>=200){var h=t?null:I(e);if(h)return d(h);s=!1,i=l,p=new q}else p=t?[]:c;e:for(;++n<o;){var f=e[n],m=t?t(f):f;if(f=r||0!==f?f:0,s&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue e;t&&p.push(m),c.push(f)}else i(p,m,r)||(p!==c&&p.push(m),c.push(f))}return c}(e,void 0,t):[]}},"./node_modules/lru-cache/index.js":(e,t,r)=>{"use strict";const n=r("./node_modules/yallist/yallist.js"),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;const m=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(y(e,t)){if(b(e,n),!e[a])return}else r&&(e[h]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},g=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[o]-=r.length,e[p].delete(r.key),e[d].removeNode(t)}};class _{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const v=(e,t,r,n)=>{let i=r.value;y(e,i)&&(b(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,g(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[o]+=e.length})),g(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;v(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;v(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[p]=new Map,this[d]=new n,this[o]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[i])return b(this,this[p].get(e)),!1;const s=this[p].get(e).value;return this[c]&&(this[l]||this[c](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),g(this),!0}const h=new _(e,t,a,n,r);return h.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),g(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!y(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>m(this,t,!1))}}},"./node_modules/minimalistic-assert/index.js":e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},"./node_modules/rdf-string/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r("./node_modules/rdf-string/lib/TermUtil.js");Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},"./node_modules/rdf-string/lib/TermUtil.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=new(r("rdf-data-factory").DataFactory);function i(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${i(e.subject)} ${i(e.predicate)} ${i(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+i(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function o(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function s(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function a(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function u(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=a(e),n=t.namedNode(s(e));return t.literal(o(e),r||n);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),n=[];let i=0,o=0;for(let t=0;t<r.length;t++){const s=r[t];if("<"===s&&i++,">"===s){if(0===i)throw new Error("Found closing tag without opening tag in "+e);i--}" "===s&&0===i&&(n.push(r.slice(o,t)),o=t+1)}if(0!==i)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(o,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return t.quad(u(n[0]),u(n[1]),u(n[2]),n[3]?u(n[3]):void 0)}return t.namedNode(e)}}t.termToString=i,t.getLiteralValue=o,t.getLiteralType=s,t.getLiteralLanguage=a,t.stringToTerm=u,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(u(e.subject,t),u(e.predicate,t),u(e.object,t),u(e.graph,t))}},"./node_modules/rdf-terms/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("./node_modules/rdf-terms/lib/QuadTermUtil.js");t.collectNamedTerms=n.collectNamedTerms,t.everyTerms=n.everyTerms,t.filterQuadTermNames=n.filterQuadTermNames,t.filterTerms=n.filterTerms,t.forEachTerms=n.forEachTerms,t.getNamedTerms=n.getNamedTerms,t.getTerms=n.getTerms,t.getTermsNested=n.getTermsNested,t.mapTerms=n.mapTerms,t.matchPattern=n.matchPattern,t.matchPatternComplete=n.matchPatternComplete,t.QUAD_TERM_NAMES=n.QUAD_TERM_NAMES,t.reduceTerms=n.reduceTerms,t.someTerms=n.someTerms,t.TRIPLE_TERM_NAMES=n.TRIPLE_TERM_NAMES;const i=r("./node_modules/rdf-terms/lib/TermUtil.js");t.getBlankNodes=i.getBlankNodes,t.getDefaultGraphs=i.getDefaultGraphs,t.getLiterals=i.getLiterals,t.getNamedNodes=i.getNamedNodes,t.getTermsOfType=i.getTermsOfType,t.getVariables=i.getVariables,t.TERM_TYPES=i.TERM_TYPES,t.uniqTerms=i.uniqTerms},"./node_modules/rdf-terms/lib/QuadTermUtil.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new(r("rdf-data-factory").DataFactory);function i(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function o(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&a(e,t)||t.equals(e)}function s(e,t,r,n,i){return o(e.subject,t)&&o(e.predicate,r)&&o(e.object,n)&&o(e.graph,i)}function a(e,t){return s(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=i,t.getTermsNested=function e(t,r){const n=[];for(const o of i(t,r))"Quad"===o.termType?e(o,r).forEach(e=>n.push(e)):n.push(o);return n},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const i={};return e.forEach(e=>i[e.key]=e.value),t&&(i.subject=i.subject||t("subject"),i.predicate=i.predicate||t("predicate"),i.object=i.object||t("object"),i.graph=i.graph||t("graph")),(r||n).quad(i.subject,i.predicate,i.object,i.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.filterTerms=function(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r},t.filterQuadTermNames=function(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r},t.mapTerms=function(e,t,r){return(r||n).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.reduceTerms=function(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")},t.everyTerms=function(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")},t.matchTerm=o,t.matchPattern=s,t.matchPatternComplete=a},"./node_modules/rdf-terms/lib/TermUtil.js":(e,t,r)=>{"use strict";function n(e,t){return e.filter(e=>e.termType===t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=function(e){return r("./node_modules/lodash.uniqwith/index.js")(e,(e,t)=>e.equals(t))},t.getTermsOfType=n,t.getNamedNodes=function(e){return n(e,"NamedNode")},t.getBlankNodes=function(e){return n(e,"BlankNode")},t.getLiterals=function(e){return n(e,"Literal")},t.getVariables=function(e){return n(e,"Variable")},t.getDefaultGraphs=function(e){return n(e,"DefaultGraph")},t.getQuads=function(e){return n(e,"Quad")}},"./node_modules/relative-to-absolute-iri/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("./node_modules/relative-to-absolute-iri/lib/Resolve.js"))},"./node_modules/relative-to-absolute-iri/lib/Resolve.js":(e,t)=>{"use strict";function r(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!i(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!i(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map(e=>e.join("")).join("/")}function n(e,t){let n=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(n=t+3):"/"===e[0]&&"/"===e[1]&&(n=2);const i=e.indexOf("/",n);if(i<0)return e;return e.substr(0,i)+r(e.substr(i))}function i(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=function(e,t){const i=(t=t||"").indexOf("#");if(i>0&&(t=t.substr(0,i)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return n(e,t)}const o=e.indexOf(":");if(o>=0)return n(e,o);const s=t.indexOf(":");if(s<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const a=t.substr(0,s+1);if(0===e.indexOf("//"))return a+n(e,o);let u;if(t.indexOf("//",s)===s+1){if(u=t.indexOf("/",s+3),u<0)return t.length>s+3?t+"/"+n(e,o):a+n(e,o)}else if(u=t.indexOf("/",s+1),u<0)return a+n(e,o);if(0===e.indexOf("/"))return t.substr(0,u)+r(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=c+e),t.substr(0,u)+e},t.removeDotSegments=r,t.removeDotSegmentsOfPath=n},"./node_modules/spark-md5/spark-md5.js":e=>{e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],i=e[2],o=e[3];n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+t[1]-389564586|0)<<12|o>>>20)+r|0)&r|~o&n)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&r)+t[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+t[5]+1200080426|0)<<12|o>>>20)+r|0)&r|~o&n)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&r)+t[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+t[9]-1958414417|0)<<12|o>>>20)+r|0)&r|~o&n)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&r)+t[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+t[13]-40341101|0)<<12|o>>>20)+r|0)&r|~o&n)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&r)+t[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+t[6]-1069501632|0)<<9|o>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|i>>>18)+o|0)&r|o&~r)+t[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+t[10]+38016083|0)<<9|o>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|i>>>18)+o|0)&r|o&~r)+t[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+t[14]-1019803690|0)<<9|o>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|i>>>18)+o|0)&r|o&~r)+t[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+t[2]-51403784|0)<<9|o>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&r|o&~r)+t[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+t[8]-2022574463|0)<<11|o>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^r)+t[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+t[4]+1272893353|0)<<11|o>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^r)+t[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+t[0]-358537222|0)<<11|o>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^r)+t[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+t[12]-421815835|0)<<11|o>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^r)+t[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function i(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var t,i,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,n(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,r(l,o),l}function s(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var i,o,s,a,u=this.byteLength,c=t(r,u),l=u;return n!==e&&(l=t(n,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,c,i),s.set(a),o)}}(),l.prototype.append=function(e){return this.appendBinary(u(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),r=a(this._hash),e&&(r=c(r)),this.reset(),r},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var n,i,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(r(this._hash,e),s=0;s<16;s+=1)e[s]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=i,e[15]=o,r(this._hash,e)},l.hash=function(e,t){return l.hashBinary(u(e),t)},l.hashBinary=function(e,t){var r=a(o(e));return t?c(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,n,o,s,a,u=(n=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(n.byteLength+o.byteLength)).set(new Uint8Array(n)),a.set(new Uint8Array(o),n.byteLength),s?a:a.buffer),c=u.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)r(this._hash,i(u.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(u.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n[t]<<(t%4<<3);return this._finish(o,i),r=a(this._hash),e&&(r=c(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,i=new ArrayBuffer(n),o=new Uint8Array(i);for(r=0;r<n;r+=1)o[r]=e.charCodeAt(r);return t?o:i}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var n=a(function(e){var t,n,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,i(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,r(l,o),l}(new Uint8Array(e)));return t?c(n):n},l}()},"./node_modules/sparqlee/dist/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderTypes=t.isExpressionError=t.ExpressionError=t.AggregateEvaluator=t.SyncEvaluator=t.AsyncEvaluator=void 0;var n=r("./node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js");Object.defineProperty(t,"AsyncEvaluator",{enumerable:!0,get:function(){return n.AsyncEvaluator}});var i=r("./node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js");Object.defineProperty(t,"SyncEvaluator",{enumerable:!0,get:function(){return i.SyncEvaluator}});var o=r("./node_modules/sparqlee/dist/lib/evaluators/AggregateEvaluator.js");Object.defineProperty(t,"AggregateEvaluator",{enumerable:!0,get:function(){return o.AggregateEvaluator}});var s=r("./node_modules/sparqlee/dist/lib/util/Errors.js");Object.defineProperty(t,"ExpressionError",{enumerable:!0,get:function(){return s.ExpressionError}}),Object.defineProperty(t,"isExpressionError",{enumerable:!0,get:function(){return s.isExpressionError}});var a=r("./node_modules/sparqlee/dist/lib/util/Ordering.js");Object.defineProperty(t,"orderTypes",{enumerable:!0,get:function(){return a.orderTypes}})},"./node_modules/sparqlee/dist/lib/Transformation.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformExistence=t.transformAggregate=t.transformNamed=t.transformLiteral=t.transformRDFTermUnsafe=t.transformAlgebra=void 0;const n=r("./node_modules/rdf-string/index.js"),i=r("sparqlalgebrajs"),o=r("./node_modules/sparqlee/dist/lib/expressions/index.js"),s=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),a=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),u=r("./node_modules/sparqlee/dist/lib/util/Parsing.js"),c=r("./node_modules/sparqlee/dist/lib/functions/index.js"),l=r("./node_modules/sparqlee/dist/lib/util/Consts.js");function d(e){if(!e)throw new a.InvalidExpression(e);const t=i.Algebra.expressionTypes;switch(e.expressionType){case t.TERM:return p(e);case t.OPERATOR:return function(e){if(s.SpecialOperators.contains(e.operator)){const t=e.operator,r=e.args.map(e=>d(e)),n=c.specialFunctions.get(t);if(!n.checkArity(r))throw new a.InvalidArity(r,t);return new o.SpecialOperator(r,n.applyAsync,n.applySync)}{if(!s.Operators.contains(e.operator))throw new a.UnknownOperator(e.operator);const t=e.operator,r=e.args.map(e=>d(e)),n=c.regularFunctions.get(t);if(!function(e,t){if(t===1/0)return!0;if(Array.isArray(t))return t.indexOf(e.length)>=0;return e.length===t}(r,n.arity))throw new a.InvalidArity(r,t);return new o.Operator(r,n.apply)}}(e);case t.NAMED:return f(e);case t.EXISTENCE:return y(e);case t.AGGREGATE:return m(e);case t.WILDCARD:return function(e){if(!e.wildcard)throw new a.InvalidExpression(e);return new o.NamedNode(e.wildcard.value)}(e);default:throw new a.InvalidExpressionType(e)}}function p(e){if(!e.term)throw new a.InvalidExpression(e);switch(e.term.termType){case"Variable":return new o.Variable(n.termToString(e.term));case"Literal":return h(e.term);case"NamedNode":return new o.NamedNode(e.term.value);case"BlankNode":return new o.BlankNode(e.term.value);default:throw new a.InvalidTermType(e)}}function h(e){if(!e.datatype)return e.language?new o.LangStringLiteral(e.value,e.language):new o.StringLiteral(e.value);switch(e.datatype.value){case null:case void 0:case"":return e.language?new o.LangStringLiteral(e.value,e.language):new o.StringLiteral(e.value);case l.TypeURL.XSD_STRING:return new o.StringLiteral(e.value);case l.TypeURL.RDF_LANG_STRING:return new o.LangStringLiteral(e.value,e.language);case l.TypeURL.XSD_DATE_TIME:case l.TypeURL.XSD_DATE:{const t=new Date(e.value);return isNaN(t.getTime())?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.DateTimeLiteral(new Date(e.value),e.value)}case l.TypeURL.XSD_BOOLEAN:return"true"!==e.value&&"false"!==e.value&&"1"!==e.value&&"0"!==e.value?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.BooleanLiteral("true"===e.value||"1"===e.value,e.value);case l.TypeURL.XSD_INTEGER:case l.TypeURL.XSD_DECIMAL:case l.TypeURL.XSD_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_POSITIVE_INTEGER:case l.TypeURL.XSD_POSITIVE_INTEGER:case l.TypeURL.XSD_LONG:case l.TypeURL.XSD_SHORT:case l.TypeURL.XSD_BYTE:case l.TypeURL.XSD_UNSIGNED_LONG:case l.TypeURL.XSD_UNSIGNED_INT:case l.TypeURL.XSD_UNSIGNED_SHORT:case l.TypeURL.XSD_UNSIGNED_BYTE:case l.TypeURL.XSD_INT:{const t=u.parseXSDDecimal(e.value);return void 0===t?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.NumericLiteral(t,e.datatype,e.value)}case l.TypeURL.XSD_FLOAT:case l.TypeURL.XSD_DOUBLE:{const t=u.parseXSDFloat(e.value);return void 0===t?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.NumericLiteral(t,e.datatype,e.value)}default:return new o.Literal(e.value,e.datatype,e.value)}}function f(e){const t=e.name.value;if(!s.NamedOperators.contains(t))throw new a.UnknownNamedOperator(e.name.value);const r=e.name.value,n=e.args.map(e=>d(e)),i=c.namedFunctions.get(r);return new o.Named(e.name,n,i.apply)}function m(e){const t=e.aggregator;return new o.Aggregate(t,e)}function y(e){return new o.Existence(e)}t.transformAlgebra=d,t.transformRDFTermUnsafe=function(e){return p({term:e,type:"expression",expressionType:"term"})},t.transformLiteral=h,t.transformNamed=f,t.transformAggregate=m,t.transformExistence=y},"./node_modules/sparqlee/dist/lib/evaluators/AggregateEvaluator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggregators=t.AggregateEvaluator=void 0;const n=r("rdf-data-factory"),i=r("./node_modules/sparqlee/dist/lib/expressions/index.js"),o=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),s=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),a=r("./node_modules/sparqlee/dist/lib/functions/index.js"),u=r("./node_modules/sparqlee/dist/lib/functions/Helpers.js"),c=r("./node_modules/sparqlee/dist/lib/util/Parsing.js"),l=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),d=r("./node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js"),p=r("./node_modules/sparqlee/dist/lib/Transformation.js"),h=new n.DataFactory;t.AggregateEvaluator=class{constructor(e,r,n){this.throwError=!1,this.expression=e,this.evaluator=new d.SyncEvaluator(e.expression,r),this.aggregator=new t.aggregators[e.aggregator](e),this.throwError=n}static emptyValue(e,r=!1){const n=t.aggregators[e.aggregator].emptyValue();if(void 0===n&&r)throw new s.EmptyAggregateError;return n}put(e){this.init(e),this.state&&(this.put=this.__put,this.result=this.__result)}result(){return this.aggregator.constructor.emptyValue()}__put(e){try{const t=this.evaluator.evaluate(e);this.state=this.aggregator.put(this.state,t)}catch(e){this.safeThrow(e)}}__result(){return this.aggregator.result(this.state)}init(e){try{const t=this.evaluator.evaluate(e);this.state=this.aggregator.init(t)}catch(e){this.safeThrow(e)}}safeThrow(e){if(this.throwError)throw e;this.put=()=>{},this.result=()=>{}}};class f{constructor(e){this.distinct=e.distinct,this.separator=e.separator||" "}static emptyValue(){}}function m(e){if("Literal"!==e.termType)throw new Error("Term with value "+e.value+" has type "+e.termType+" and is not a numeric literal");if(!o.NumericTypeURLs.contains(e.datatype.value))throw new Error("Term datatype "+e.datatype.value+" with value "+e.value+" has type "+e.termType+" and is not a numeric literal");return{type:e.datatype.value,value:c.parseXSDFloat(e.value)}}function y(e,t){if("Literal"!==t.termType)throw new Error("Term with value "+t.value+" has type "+t.termType+" and is not a literal");const r=p.transformLiteral(t);return{type:r.typeURL.value,value:r.typedValue}}t.aggregators={count:class extends f{static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){return 1}put(e,t){return e+1}result(e){return u.number(e,l.TypeURL.XSD_INTEGER).toRDF()}},sum:class extends f{constructor(){super(...arguments),this.summer=a.regularFunctions.get(o.RegularOperator.ADDITION)}static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){const{value:t,type:r}=m(e);return new i.NumericLiteral(t,h.namedNode(r))}put(e,t){const{value:r,type:n}=m(t),o=new i.NumericLiteral(r,h.namedNode(n));return this.summer.apply([e,o])}result(e){return e.toRDF()}},min:class extends f{init(e){const{value:t}=y(null,e);if("Literal"===e.termType)return{extremeValue:t,term:e}}put(e,t){const r=y(e.term,t);return r.value<e.extremeValue&&"Literal"===t.termType?{extremeValue:r.value,term:t}:e}result(e){return e.term}},max:class extends f{init(e){const{value:t}=y(null,e);if("Literal"===e.termType)return{extremeValue:t,term:e}}put(e,t){const r=y(e.term,t);return r.value>e.extremeValue&&"Literal"===t.termType?{extremeValue:r.value,term:t}:e}result(e){return e.term}},avg:class extends f{constructor(){super(...arguments),this.summer=a.regularFunctions.get(o.RegularOperator.ADDITION),this.divider=a.regularFunctions.get(o.RegularOperator.DIVISION)}static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){const{value:t,type:r}=m(e);return{sum:new i.NumericLiteral(t,h.namedNode(r)),count:1}}put(e,t){const{value:r,type:n}=m(t),o=new i.NumericLiteral(r,h.namedNode(n));return{sum:this.summer.apply([e.sum,o]),count:e.count+1}}result(e){const t=new i.NumericLiteral(e.count,h.namedNode(o.TypeURL.XSD_INTEGER));return this.divider.apply([e.sum,t]).toRDF()}},group_concat:class extends f{static emptyValue(){return u.string("").toRDF()}init(e){return e.value}put(e,t){return e+this.separator+t.value}result(e){return u.string(e).toRDF()}},sample:class extends f{init(e){return e}put(e,t){return e}result(e){return e}}}},"./node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncEvaluator=void 0;const n=r("./node_modules/sparqlee/dist/lib/Transformation.js"),i=r("./node_modules/sparqlee/dist/lib/evaluators/RecursiveExpressionEvaluator.js");t.AsyncEvaluator=class{constructor(e,t={}){this.algExpr=e,this.config=t,this.expr=n.transformAlgebra(e);const r={now:t.now||new Date(Date.now()),bnode:t.bnode||void 0,baseIRI:t.baseIRI||void 0,exists:t.exists,aggregate:t.aggregate};this.evaluator=new i.AsyncRecursiveEvaluator(r)}async evaluate(e){return(await this.evaluator.evaluate(this.expr,e)).toRDF()}async evaluateAsEBV(e){return(await this.evaluator.evaluate(this.expr,e)).coerceEBV()}async evaluateAsInternal(e){return await this.evaluator.evaluate(this.expr,e)}}},"./node_modules/sparqlee/dist/lib/evaluators/RecursiveExpressionEvaluator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedOperation=t.SyncRecursiveEvaluator=t.AsyncRecursiveEvaluator=void 0;const n=r("./node_modules/sparqlee/dist/lib/expressions/index.js"),i=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),o=r("./node_modules/sparqlee/dist/lib/Transformation.js"),s={term:(e,t)=>e,variable(e,t){const r=t.get(e.name);if(!r)throw new i.UnboundVariableError(e.name,t);return o.transformRDFTermUnsafe(r)}};t.AsyncRecursiveEvaluator=class{constructor(e){this.context=e,this.subEvaluators={[n.ExpressionType.Term]:s.term,[n.ExpressionType.Variable]:s.variable,[n.ExpressionType.Operator]:this.evalOperator,[n.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[n.ExpressionType.Named]:this.evalNamed,[n.ExpressionType.Existence]:this.evalExistence,[n.ExpressionType.Aggregate]:this.evalAggregate}}async evaluate(e,t){const r=this.subEvaluators[e.expressionType];if(!r)throw new i.InvalidExpressionType(e);return r.bind(this)(e,t)}async evalOperator(e,t){const r=e.args.map(e=>this.evaluate(e,t)),n=await Promise.all(r);return e.apply(n)}async evalSpecialOperator(e,t){const r=this.evaluate.bind(this),n={args:e.args,mapping:t,evaluate:r,context:{now:this.context.now,baseIRI:this.context.baseIRI,bnode:this.context.bnode}};return e.applyAsync(n)}async evalNamed(e,t){const r=e.args.map(e=>this.evaluate(e,t)),n=await Promise.all(r);return e.apply(n)}async evalExistence(e,t){if(!this.context.exists)throw new i.NoExistenceHook;return new n.BooleanLiteral(await this.context.exists(e.expression,t))}async evalAggregate(e,t){if(!this.context.aggregate)throw new i.NoExistenceHook;return o.transformRDFTermUnsafe(await this.context.aggregate(e.expression))}};t.SyncRecursiveEvaluator=class{constructor(e){this.context=e,this.subEvaluators={[n.ExpressionType.Term]:s.term,[n.ExpressionType.Variable]:s.variable,[n.ExpressionType.Operator]:this.evalOperator,[n.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[n.ExpressionType.Named]:this.evalNamed,[n.ExpressionType.Existence]:this.evalExistence,[n.ExpressionType.Aggregate]:this.evalAggregate}}evaluate(e,t){const r=this.subEvaluators[e.expressionType];if(!r)throw new i.InvalidExpressionType(e);return r.bind(this)(e,t)}evalOperator(e,t){const r=e.args.map(e=>this.evaluate(e,t));return e.apply(r)}evalSpecialOperator(e,t){const r=this.evaluate.bind(this),n={args:e.args,mapping:t,evaluate:r,context:{now:this.context.now,baseIRI:this.context.baseIRI,bnode:this.context.bnode}};return e.applySync(n)}evalNamed(e,t){const r=e.args.map(e=>this.evaluate(e,t));return e.apply(r)}evalExistence(e,t){if(!this.context.exists)throw new i.NoExistenceHook;return new n.BooleanLiteral(this.context.exists(e.expression,t))}evalAggregate(e,t){if(!this.context.aggregate)throw new i.NoAggregator;return o.transformRDFTermUnsafe(this.context.aggregate(e.expression))}};class a extends Error{constructor(e){super(`Operation '${e}' is unsupported in SimpleEvaluator`)}}t.UnsupportedOperation=a},"./node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncEvaluator=void 0;const n=r("./node_modules/sparqlee/dist/lib/Transformation.js"),i=r("./node_modules/sparqlee/dist/lib/evaluators/RecursiveExpressionEvaluator.js");t.SyncEvaluator=class{constructor(e,t={}){this.algExpr=e,this.config=t,this.expr=n.transformAlgebra(e);const r={now:t.now||new Date(Date.now()),bnode:t.bnode||void 0,baseIRI:t.baseIRI||void 0,exists:t.exists,aggregate:t.aggregate};this.evaluator=new i.SyncRecursiveEvaluator(r)}evaluate(e){return this.evaluator.evaluate(this.expr,e).toRDF()}evaluateAsEBV(e){return this.evaluator.evaluate(this.expr,e).coerceEBV()}evaluateAsInternal(e){return this.evaluator.evaluate(this.expr,e)}}},"./node_modules/sparqlee/dist/lib/expressions/Aggregate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregate=void 0;const n=r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js");t.Aggregate=class{constructor(e,t){this.name=e,this.expression=t,this.expressionType=n.ExpressionType.Aggregate}}},"./node_modules/sparqlee/dist/lib/expressions/Existence.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Existence=void 0;const n=r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js");t.Existence=class{constructor(e){this.expression=e,this.expressionType=n.ExpressionType.Existence}}},"./node_modules/sparqlee/dist/lib/expressions/Expressions.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionType=void 0,function(e){e.Aggregate="aggregate",e.Existence="existence",e.Named="named",e.Operator="operator",e.SpecialOperator="specialOperator",e.Term="term",e.Variable="variable"}(t.ExpressionType||(t.ExpressionType={}))},"./node_modules/sparqlee/dist/lib/expressions/Named.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Named=void 0;const n=r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js");t.Named=class{constructor(e,t,r){this.name=e,this.args=t,this.apply=r,this.expressionType=n.ExpressionType.Named}}},"./node_modules/sparqlee/dist/lib/expressions/Operator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Operator=void 0;const n=r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js");t.Operator=class{constructor(e,t){this.args=e,this.apply=t,this.expressionType=n.ExpressionType.Operator}}},"./node_modules/sparqlee/dist/lib/expressions/SpecialOperator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpecialOperator=void 0;const n=r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js");t.SpecialOperator=class{constructor(e,t,r){this.args=e,this.applyAsync=t,this.applySync=r,this.expressionType=n.ExpressionType.SpecialOperator}}},"./node_modules/sparqlee/dist/lib/expressions/Term.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonLexicalLiteral=t.StringLiteral=t.LangStringLiteral=t.DateTimeLiteral=t.BooleanLiteral=t.NumericLiteral=t.Literal=t.BlankNode=t.NamedNode=t.Term=void 0;const n=r("rdf-data-factory"),i=r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js"),o=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),s=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),a=new n.DataFactory;class u{constructor(){this.expressionType=i.ExpressionType.Term}str(){throw new s.InvalidArgumentTypes([this],o.RegularOperator.STR)}coerceEBV(){throw new s.EBVCoercionError(this)}}t.Term=u;t.NamedNode=class extends u{constructor(e){super(),this.value=e,this.termType="namedNode"}toRDF(){return a.namedNode(this.value)}str(){return this.value}};class c extends u{constructor(e){super(),this.termType="blankNode",this.value="string"==typeof e?a.blankNode(e):e}static nextID(){return c._nextID+=1,c.nextID.toString()}toRDF(){return this.value}}t.BlankNode=c,c._nextID=0;class l extends u{constructor(e,t,r,n){super(),this.typedValue=e,this.typeURL=t,this.strValue=r,this.language=n,this.termType="literal",this.type=o.type(t.value)}toRDF(){return a.literal(this.strValue||this.str(),this.language||this.typeURL)}str(){return this.strValue||this.typedValue.toString()}}t.Literal=l;class d extends l{coerceEBV(){return!!this.typedValue}toRDF(){const e=super.toRDF();return isFinite(this.typedValue)||(e.value=e.value.replace("Infinity","INF")),e}str(){return this.strValue||d.specificFormatters[this.type](this.typedValue)}}t.NumericLiteral=d,d.specificFormatters={integer:e=>e.toFixed(),float:e=>e.toString(),decimal:e=>e.toString(),double:e=>{const t=e.toExponential(),[r,n]=t.split("e"),i=n.replace(/\+/,"");return`${r.match(/\./)?r:r+".0"}E${i}`}};t.BooleanLiteral=class extends l{constructor(e,t){super(e,o.make(o.TypeURL.XSD_BOOLEAN),t),this.typedValue=e,this.strValue=t}coerceEBV(){return!!this.typedValue}};t.DateTimeLiteral=class extends l{constructor(e,t){super(e,o.make(o.TypeURL.XSD_DATE_TIME),t),this.typedValue=e,this.strValue=t}};t.LangStringLiteral=class extends l{constructor(e,t){super(e,o.make(o.TypeURL.RDF_LANG_STRING),e,t),this.typedValue=e,this.language=t}coerceEBV(){return 0!==this.strValue.length}};t.StringLiteral=class extends l{constructor(e){super(e,o.make(o.TypeURL.XSD_STRING),e),this.typedValue=e}coerceEBV(){return 0!==this.strValue.length}};t.NonLexicalLiteral=class extends l{constructor(e,t,r,n){super(e,t,r,n),this.typedValue=void 0,this.type="nonlexical",this.shouldBeCategory=o.type(t.value)}coerceEBV(){if(o.PrimitiveNumericTypes.contains(this.shouldBeCategory)||"boolean"===this.shouldBeCategory)return!1;throw new s.EBVCoercionError(this)}}},"./node_modules/sparqlee/dist/lib/expressions/Variable.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;const n=r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js");t.Variable=class{constructor(e){this.expressionType=n.ExpressionType.Variable,this.name=e}}},"./node_modules/sparqlee/dist/lib/expressions/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("./node_modules/sparqlee/dist/lib/expressions/Expressions.js"),t),i(r("./node_modules/sparqlee/dist/lib/expressions/Variable.js"),t),i(r("./node_modules/sparqlee/dist/lib/expressions/Term.js"),t),i(r("./node_modules/sparqlee/dist/lib/expressions/Operator.js"),t),i(r("./node_modules/sparqlee/dist/lib/expressions/SpecialOperator.js"),t),i(r("./node_modules/sparqlee/dist/lib/expressions/Named.js"),t),i(r("./node_modules/sparqlee/dist/lib/expressions/Aggregate.js"),t),i(r("./node_modules/sparqlee/dist/lib/expressions/Existence.js"),t)},"./node_modules/sparqlee/dist/lib/functions/Core.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promote=t.SpecialFunction=t.NamedFunction=t.RegularFunction=t.BaseFunction=void 0;const n=r("./node_modules/immutable/dist/immutable.js"),i=r("./node_modules/sparqlee/dist/lib/util/Errors.js");class o{constructor(e,t){this.operator=e,this.apply=e=>(this.monomorph(e)||this.handleInvalidTypes(e))(e),this.arity=t.arity,this.overloads=t.overloads}monomorph(e){return this.overloads.get(s.asConcreteTypes(e))||this.overloads.get(s.asTermTypes(e))||this.overloads.get(s.asGenericTerms(e))}}t.BaseFunction=o;class s{static asConcreteTypes(e){return n.List(e.map(e=>e.type||e.termType))}static asTermTypes(e){return n.List(e.map(e=>e.termType))}static asGenericTerms(e){return n.List(Array(e.length).fill("term"))}}t.RegularFunction=class extends o{constructor(e,t){super(e,t),this.functionClass="regular"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}};t.NamedFunction=class extends o{constructor(e,t){super(e,t),this.functionClass="named"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}};t.SpecialFunction=class{constructor(e,t){var r;this.operator=e,this.functionClass="special",this.arity=t.arity,this.applySync=t.applySync,this.applyAsync=t.applyAsync,this.checkArity=t.checkArity||(r=this.arity,e=>r===1/0||(Array.isArray(r)?r.indexOf(e.length)>=0:e.length===r))}};const a={integer:{integer:"integer",decimal:"decimal",float:"float",double:"double"},decimal:{integer:"decimal",decimal:"decimal",float:"float",double:"double"},float:{integer:"float",decimal:"float",float:"float",double:"double"},double:{integer:"double",decimal:"double",float:"double",double:"double"}};t.promote=function(e,t){return a[e][t]}},"./node_modules/sparqlee/dist/lib/functions/Helpers.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeCheckLit=t.log=t.dateTime=t.langString=t.string=t.numberFromString=t.number=t.bool=t.map=t.Impl=t.Builder=t.declare=void 0;const n=r("./node_modules/immutable/dist/immutable.js"),i=r("./node_modules/sparqlee/dist/lib/expressions/index.js"),o=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),s=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),a=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),u=r("./node_modules/sparqlee/dist/lib/functions/Core.js");t.declare=function(){return new c};class c{constructor(){this.implementations=[]}collect(){return p(this.implementations)}log(){return console.log(this.implementations),this}add(e){return this.implementations.push(e),this}set(e,t){const r=n.List(e);return this.add(new d({types:r,func:t}))}copy({from:e,to:t}){const r=this.implementations.length-1,i=n.List(e);for(let e=r;e>=0;e--){const r=this.implementations[e];if(r.get("types").equals(i))return this.set(t,r.get("func"))}throw new s.UnexpectedError("Tried to copy implementation, but types not found",{from:e,to:t})}onUnary(e,t){return this.set([e],([e])=>t(e))}onUnaryTyped(e,t){return this.set([e],([e])=>t(e.typedValue))}onBinary(e,t){return this.set(e,([e,r])=>t(e,r))}onBinaryTyped(e,t){return this.set(e,([e,r])=>t(e.typedValue,r.typedValue))}onTernaryTyped(e,t){return this.set(e,([e,r,n])=>t(e.typedValue,r.typedValue,n.typedValue))}onTernary(e,t){return this.set(e,([e,r,n])=>t(e,r,n))}onQuaternaryTyped(e,t){return this.set(e,([e,r,n,i])=>t(e.typedValue,r.typedValue,n.typedValue,i.typedValue))}unimplemented(e){for(let t=0;t<=5;t++){const r=Array(t).fill("term"),n=t=>{throw new s.UnimplementedError(e)};this.set(r,n)}return this}onTerm1(e){return this.set(["term"],([t])=>e(t))}onLiteral1(e){return this.set(["literal"],([t])=>e(t))}onBoolean1(e){return this.set(["boolean"],([t])=>e(t))}onBoolean1Typed(e){return this.set(["boolean"],([t])=>e(t.typedValue))}onString1(e){return this.set(["string"],([t])=>e(t))}onString1Typed(e){return this.set(["string"],([t])=>e(t.typedValue))}onLangString1(e){return this.set(["langString"],([t])=>e(t))}onStringly1(e){return this.set(["string"],([t])=>e(t)).set(["langString"],([t])=>e(t))}onStringly1Typed(e){return this.set(["string"],([t])=>e(t.typedValue)).set(["langString"],([t])=>e(t.typedValue))}onNumeric1(e){return this.set(["integer"],([t])=>e(t)).set(["decimal"],([t])=>e(t)).set(["float"],([t])=>e(t)).set(["double"],([t])=>e(t)).invalidLexicalForm(["nonlexical"],1)}onDateTime1(e){return this.set(["date"],([t])=>e(t)).invalidLexicalForm(["nonlexical"],1)}arithmetic(e){return this.numeric(([t,r])=>{const n=u.promote(t.type,r.type),i=o.decategorize(n);return f(e(t.typedValue,r.typedValue),i)})}numberTest(e){return this.numeric(([t,r])=>h(e(t.typedValue,r.typedValue)))}stringTest(e){return this.set(["string","string"],([t,r])=>h(e(t.typedValue,r.typedValue))).invalidLexicalForm(["nonlexical","string"],1).invalidLexicalForm(["string","nonlexical"],2)}booleanTest(e){return this.set(["boolean","boolean"],([t,r])=>h(e(t.typedValue,r.typedValue))).invalidLexicalForm(["nonlexical","boolean"],1).invalidLexicalForm(["boolean","nonlexical"],2)}dateTimeTest(e){return this.set(["date","date"],([t,r])=>h(e(t.typedValue,r.typedValue))).invalidLexicalForm(["nonlexical","date"],1).invalidLexicalForm(["date","nonlexical"],2)}numeric(e){return this.set(["integer","integer"],e).set(["integer","decimal"],e).set(["integer","float"],e).set(["integer","double"],e).invalidLexicalForm(["integer","nonlexical"],2).set(["decimal","integer"],e).set(["decimal","decimal"],e).set(["decimal","float"],e).set(["decimal","double"],e).invalidLexicalForm(["decimal","nonlexical"],2).set(["float","integer"],e).set(["float","decimal"],e).set(["float","float"],e).set(["float","double"],e).invalidLexicalForm(["float","nonlexical"],2).set(["double","integer"],e).set(["double","decimal"],e).set(["double","float"],e).set(["double","double"],e).invalidLexicalForm(["double","nonlexical"],2).invalidLexicalForm(["nonlexical","integer"],1).invalidLexicalForm(["nonlexical","decimal"],1).invalidLexicalForm(["nonlexical","float"],1).invalidLexicalForm(["nonlexical","double"],1)}invalidLexicalForm(e,t){return this.set(e,e=>{throw new s.InvalidLexicalForm(e[t-1].toRDF())})}chain(e){return this.implementations=this.implementations.concat(e),this}}t.Builder=c;const l={types:[],func(){throw new s.UnexpectedError("Implementation not set yet declared as implemented")}};class d extends(n.Record(l)){constructor(e){super(e)}get(e){return super.get(e)}toPair(){return[this.get("types"),this.get("func")]}}function p(e){const t=e.map(e=>e.toPair());return n.Map(t)}function h(e){return new i.BooleanLiteral(e)}function f(e,t){return new i.NumericLiteral(e,o.make(t||a.TypeURL.XSD_FLOAT),void 0)}t.Impl=d,t.map=p,t.bool=h,t.number=f,t.numberFromString=function(e,t){const r=Number(e);return new i.NumericLiteral(r,o.make(t||a.TypeURL.XSD_FLOAT),void 0)},t.string=function(e){return new i.StringLiteral(e)},t.langString=function(e,t){return new i.LangStringLiteral(e,t)},t.dateTime=function(e,t){return new i.DateTimeLiteral(e,t)},t.log=function(e,...t){return console.log(e,t),e},t.typeCheckLit=function(e,t,r,n){if("literal"!==e.termType)throw new s.InvalidArgumentTypes(r,n);const i=e;if(!t.includes(i.type))throw new s.InvalidArgumentTypes(r,n);return i}},"./node_modules/sparqlee/dist/lib/functions/NamedFunctions.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namedDefinitions=void 0;const n=r("./node_modules/immutable/dist/immutable.js"),i=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),o=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),s=r("./node_modules/sparqlee/dist/lib/util/Parsing.js"),a=r("./node_modules/sparqlee/dist/lib/functions/Helpers.js"),u={arity:1,overloads:a.declare().onNumeric1(e=>a.string(a.number(e.typedValue).str())).onBoolean1Typed(e=>a.string(a.bool(e).str())).onTerm1(e=>a.string(e.str())).collect()},c={arity:1,overloads:a.declare().onNumeric1(e=>a.number(e.typedValue)).onBoolean1Typed(e=>a.number(e?1:0)).onUnary("string",e=>{const t=s.parseXSDFloat(e.str());if(void 0===t)throw new i.CastError(e,o.TypeURL.XSD_FLOAT);return a.number(t)}).copy({from:["string"],to:["nonlexical"]}).collect()},l={arity:1,overloads:a.declare().onNumeric1(e=>a.number(e.typedValue,o.TypeURL.XSD_DOUBLE)).onBoolean1Typed(e=>a.number(e?1:0,o.TypeURL.XSD_DOUBLE)).onUnary("string",e=>{const t=s.parseXSDFloat(e.str());if(void 0===t)throw new i.CastError(e,o.TypeURL.XSD_DOUBLE);return a.number(t,o.TypeURL.XSD_DOUBLE)}).copy({from:["string"],to:["nonlexical"]}).collect()},d={arity:1,overloads:a.declare().onNumeric1(e=>{const t=s.parseXSDDecimal(e.str());if(void 0===t)throw new i.CastError(e,o.TypeURL.XSD_DECIMAL);return a.number(t,o.TypeURL.XSD_DECIMAL)}).onString1(e=>{const t=e.str(),r=/^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(t)?s.parseXSDDecimal(t):void 0;if(void 0===r)throw new i.CastError(e,o.TypeURL.XSD_DECIMAL);return a.number(r,o.TypeURL.XSD_DECIMAL)}).copy({from:["string"],to:["nonlexical"]}).onBoolean1Typed(e=>a.number(e?1:0,o.TypeURL.XSD_DECIMAL)).collect()},p={arity:1,overloads:a.declare().onBoolean1Typed(e=>a.number(e?1:0,o.TypeURL.XSD_INTEGER)).onNumeric1(e=>{const t=s.parseXSDInteger(e.str());if(void 0===t)throw new i.CastError(e,o.TypeURL.XSD_INTEGER);return a.number(t,o.TypeURL.XSD_INTEGER)}).onString1(e=>{const t=e.str(),r=/^[0-9]+$/.test(t)?s.parseXSDInteger(t):void 0;if(void 0===r)throw new i.CastError(e,o.TypeURL.XSD_INTEGER);return a.number(r,o.TypeURL.XSD_INTEGER)}).copy({from:["integer"],to:["nonlexical"]}).collect()},h={arity:1,overloads:a.declare().onUnary("date",e=>e).onUnary("string",e=>{const t=new Date(e.str());if(isNaN(t.getTime()))throw new i.CastError(e,o.TypeURL.XSD_DATE_TIME);return a.dateTime(t,e.str())}).copy({from:["string"],to:["nonlexical"]}).collect()},f={arity:1,overloads:a.declare().onNumeric1(e=>a.bool(e.coerceEBV())).onUnary("boolean",e=>a.bool(e.coerceEBV())).onUnary("string",e=>{switch(e.str()){case"true":return a.bool(!0);case"false":return a.bool(!1);case"1":return a.bool(!0);case"0":return a.bool(!1);default:throw new i.CastError(e,o.TypeURL.XSD_BOOLEAN)}}).copy({from:["string"],to:["nonlexical"]}).collect()},m={[o.TypeURL.XSD_STRING]:u,[o.TypeURL.XSD_FLOAT]:c,[o.TypeURL.XSD_DOUBLE]:l,[o.TypeURL.XSD_DECIMAL]:d,[o.TypeURL.XSD_INTEGER]:p,[o.TypeURL.XSD_DATE_TIME]:h,[o.TypeURL.XSD_DATE]:h,[o.TypeURL.XSD_BOOLEAN]:f};t.namedDefinitions=n.Map(m)},"./node_modules/sparqlee/dist/lib/functions/RegularFunctions.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.definitions=void 0;const n=r("rdf-data-factory"),i=r("./node_modules/hash.js/lib/hash.js"),o=r("./node_modules/spark-md5/spark-md5.js"),s=r("./node_modules/decimal.js/decimal.js"),a=r("./node_modules/uuid/dist/esm-browser/index.js"),u=r("./node_modules/immutable/dist/immutable.js"),c=r("./node_modules/sparqlee/dist/lib/expressions/index.js"),l=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),d=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),p=r("./node_modules/sparqlee/dist/lib/util/Parsing.js"),h=r("./node_modules/sparqlee/dist/lib/functions/XPathFunctions.js"),f=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),m=r("./node_modules/sparqlee/dist/lib/Transformation.js"),y=r("./node_modules/sparqlee/dist/lib/functions/Helpers.js"),g=new n.DataFactory;function b(e,t){const r=e.toRDF(),n=t.toRDF(),i=r.equals(n);if("Literal"===r.termType&&"Literal"===n.termType)throw new d.RDFEqualTypeError([e,t]);return i}const _=(e,t)=>y.bool(h.matches(e,t)),v=(e,t,r)=>y.bool(h.matches(e,t,r));function w(e){return p.parseXSDDateTime(e.str())}const O={"!":{arity:1,overloads:y.declare().onTerm1(e=>y.bool(!e.coerceEBV())).collect()},UPLUS:{arity:1,overloads:y.declare().onNumeric1(e=>y.number(e.typedValue,e.typeURL.value)).collect()},UMINUS:{arity:1,overloads:y.declare().onNumeric1(e=>y.number(-e.typedValue,e.typeURL.value)).collect()},"*":{arity:2,overloads:y.declare().arithmetic((e,t)=>s.Decimal.mul(e,t).toNumber()).collect()},"/":{arity:2,overloads:y.declare().arithmetic((e,t)=>s.Decimal.div(e,t).toNumber()).onBinaryTyped(["integer","integer"],(e,t)=>{if(0===t)throw new d.ExpressionError("Integer division by 0");return y.number(s.Decimal.div(e,t).toNumber(),f.TypeURL.XSD_DECIMAL)}).collect()},"+":{arity:2,overloads:y.declare().arithmetic((e,t)=>s.Decimal.add(e,t).toNumber()).collect()},"-":{arity:2,overloads:y.declare().arithmetic((e,t)=>s.Decimal.sub(e,t).toNumber()).collect()},"=":{arity:2,overloads:y.declare().numberTest((e,t)=>e===t).stringTest((e,t)=>0===e.localeCompare(t)).booleanTest((e,t)=>e===t).dateTimeTest((e,t)=>e.getTime()===t.getTime()).set(["term","term"],([e,t])=>y.bool(b(e,t))).collect()},"!=":{arity:2,overloads:y.declare().numberTest((e,t)=>e!==t).stringTest((e,t)=>0!==e.localeCompare(t)).booleanTest((e,t)=>e!==t).dateTimeTest((e,t)=>e.getTime()!==t.getTime()).set(["term","term"],([e,t])=>y.bool(!b(e,t))).collect()},"<":{arity:2,overloads:y.declare().numberTest((e,t)=>e<t).stringTest((e,t)=>-1===e.localeCompare(t)).booleanTest((e,t)=>e<t).dateTimeTest((e,t)=>e.getTime()<t.getTime()).collect()},">":{arity:2,overloads:y.declare().numberTest((e,t)=>e>t).stringTest((e,t)=>1===e.localeCompare(t)).booleanTest((e,t)=>e>t).dateTimeTest((e,t)=>e.getTime()>t.getTime()).collect()},"<=":{arity:2,overloads:y.declare().numberTest((e,t)=>e<=t).stringTest((e,t)=>1!==e.localeCompare(t)).booleanTest((e,t)=>e<=t).dateTimeTest((e,t)=>e.getTime()<=t.getTime()).collect()},">=":{arity:2,overloads:y.declare().numberTest((e,t)=>e>=t).stringTest((e,t)=>-1!==e.localeCompare(t)).booleanTest((e,t)=>e>=t).dateTimeTest((e,t)=>e.getTime()>=t.getTime()).collect()},isiri:{arity:1,overloads:y.declare().onTerm1(e=>y.bool("namedNode"===e.termType)).collect()},isblank:{arity:1,overloads:y.declare().onTerm1(e=>y.bool("blankNode"===e.termType)).collect()},isliteral:{arity:1,overloads:y.declare().onTerm1(e=>y.bool("literal"===e.termType)).collect()},isnumeric:{arity:1,overloads:y.declare().onNumeric1(e=>y.bool(!0)).onTerm1(e=>y.bool(!1)).collect()},str:{arity:1,overloads:y.declare().onTerm1(e=>y.string(e.str())).collect()},lang:{arity:1,overloads:y.declare().onLiteral1(e=>y.string(e.language||"")).collect()},datatype:{arity:1,overloads:y.declare().onLiteral1(e=>new c.NamedNode(e.typeURL.value)).collect()},strdt:{arity:2,overloads:y.declare().onBinary(["string","namedNode"],(e,t)=>{const r=g.literal(e.typedValue,g.namedNode(t.value));return m.transformLiteral(r)}).collect()},strlang:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],(e,t)=>new c.LangStringLiteral(e,t.toLowerCase())).collect()},uuid:{arity:0,overloads:y.declare().set([],()=>new c.NamedNode("urn:uuid:"+a.v4())).collect()},struuid:{arity:0,overloads:y.declare().set([],()=>y.string(a.v4())).collect()},strlen:{arity:1,overloads:y.declare().onStringly1(e=>y.number([...e.typedValue].length,f.TypeURL.XSD_INTEGER)).collect()},substr:{arity:[2,3],overloads:y.declare().onBinaryTyped(["string","integer"],(e,t)=>y.string([...e].slice(t-1).join(""))).onBinary(["langString","integer"],(e,t)=>{const r=[...e.typedValue].slice(t.typedValue-1).join("");return y.langString(r,e.language)}).onTernaryTyped(["string","integer","integer"],(e,t,r)=>y.string([...e].slice(t-1,r).join(""))).onTernary(["langString","integer","integer"],(e,t,r)=>{const n=[...e.typedValue].slice(t.typedValue-1,r.typedValue).join("");return y.langString(n,e.language)}).collect()},ucase:{arity:1,overloads:y.declare().onString1Typed(e=>y.string(e.toUpperCase())).onLangString1(e=>y.langString(e.typedValue.toUpperCase(),e.language)).collect()},lcase:{arity:1,overloads:y.declare().onString1Typed(e=>y.string(e.toLowerCase())).onLangString1(e=>y.langString(e.typedValue.toLowerCase(),e.language)).collect()},strstarts:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],(e,t)=>y.bool(e.startsWith(t))).onBinaryTyped(["langString","string"],(e,t)=>y.bool(e.startsWith(t))).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new d.IncompatibleLanguageOperation(e,t);return y.bool(e.typedValue.startsWith(t.typedValue))}).collect()},strends:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],(e,t)=>y.bool(e.endsWith(t))).onBinaryTyped(["langString","string"],(e,t)=>y.bool(e.endsWith(t))).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new d.IncompatibleLanguageOperation(e,t);return y.bool(e.typedValue.endsWith(t.typedValue))}).collect()},contains:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],(e,t)=>y.bool(e.includes(t))).onBinaryTyped(["langString","string"],(e,t)=>y.bool(e.includes(t))).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new d.IncompatibleLanguageOperation(e,t);return y.bool(e.typedValue.includes(t.typedValue))}).collect()},strbefore:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],(e,t)=>y.string(e.substr(0,e.indexOf(t)))).onBinary(["langString","string"],(e,t)=>{const[r,n]=[e.typedValue,t.typedValue],i=e.typedValue.substr(0,r.indexOf(n));return i||!n?y.langString(i,e.language):y.string(i)}).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new d.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],i=e.typedValue.substr(0,r.indexOf(n));return i||!n?y.langString(i,e.language):y.string(i)}).collect()},strafter:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],(e,t)=>y.string(e.substr(e.indexOf(t)).substr(t.length))).onBinary(["langString","string"],(e,t)=>{const[r,n]=[e.typedValue,t.typedValue],i=r.substr(r.indexOf(n)).substr(n.length);return i||!n?y.langString(i,e.language):y.string(i)}).onBinary(["langString","langString"],(e,t)=>{if(e.language!==t.language)throw new d.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],i=r.substr(r.indexOf(n)).substr(n.length);return i||!n?y.langString(i,e.language):y.string(i)}).collect()},encode_for_uri:{arity:1,overloads:y.declare().onStringly1Typed(e=>y.string(encodeURI(e))).collect()},langmatches:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],(e,t)=>y.bool(h.langMatches(e,t))).collect()},regex:{arity:[2,3],overloads:y.declare().onBinaryTyped(["string","string"],_).onBinaryTyped(["langString","string"],_).onTernaryTyped(["string","string","string"],v).onTernaryTyped(["langString","string","string"],v).collect()},replace:{arity:[3,4],overloads:y.declare().onTernaryTyped(["string","string","string"],(e,t,r)=>y.string(h.replace(e,t,r))).set(["langString","string","string"],([e,t,r])=>{const n=h.replace(e.typedValue,t.typedValue,r.typedValue);return y.langString(n,e.language)}).onQuaternaryTyped(["string","string","string","string"],(e,t,r,n)=>y.string(h.replace(e,t,r,n))).set(["langString","string","string","string"],([e,t,r,n])=>{const i=h.replace(e.typedValue,t.typedValue,r.typedValue,n.typedValue);return y.langString(i,e.language)}).collect()},abs:{arity:1,overloads:y.declare().onNumeric1(e=>y.number(Math.abs(e.typedValue),e.typeURL.value)).collect()},round:{arity:1,overloads:y.declare().onNumeric1(e=>y.number(Math.round(e.typedValue),e.typeURL.value)).collect()},ceil:{arity:1,overloads:y.declare().onNumeric1(e=>y.number(Math.ceil(e.typedValue),e.typeURL.value)).collect()},floor:{arity:1,overloads:y.declare().onNumeric1(e=>y.number(Math.floor(e.typedValue),e.typeURL.value)).collect()},rand:{arity:0,overloads:y.declare().set([],()=>y.number(Math.random(),f.TypeURL.XSD_DOUBLE)).collect()},year:{arity:1,overloads:y.declare().onDateTime1(e=>y.number(Number(w(e).year),f.TypeURL.XSD_INTEGER)).collect()},month:{arity:1,overloads:y.declare().onDateTime1(e=>y.number(Number(w(e).month),f.TypeURL.XSD_INTEGER)).collect()},day:{arity:1,overloads:y.declare().onDateTime1(e=>y.number(Number(w(e).day),f.TypeURL.XSD_INTEGER)).collect()},hours:{arity:1,overloads:y.declare().onDateTime1(e=>y.number(Number(w(e).hours),f.TypeURL.XSD_INTEGER)).collect()},minutes:{arity:1,overloads:y.declare().onDateTime1(e=>y.number(Number(w(e).minutes),f.TypeURL.XSD_INTEGER)).collect()},seconds:{arity:1,overloads:y.declare().onDateTime1(e=>y.number(Number(w(e).seconds),f.TypeURL.XSD_DECIMAL)).collect()},timezone:{arity:1,overloads:y.declare().onDateTime1(e=>{const t=h.formatDayTimeDuration(w(e).timezone);if(!t)throw new d.InvalidTimezoneCall(e.strValue);return new c.Literal(t,l.make(f.TypeURL.XSD_DAYTIME_DURATION),t)}).collect()},tz:{arity:1,overloads:y.declare().onDateTime1(e=>y.string(w(e).timezone)).collect()},md5:{arity:1,overloads:y.declare().onString1Typed(e=>y.string(o.hash(e))).collect()},sha1:{arity:1,overloads:y.declare().onString1Typed(e=>y.string(i.sha1().update(e).digest("hex"))).collect()},sha256:{arity:1,overloads:y.declare().onString1Typed(e=>y.string(i.sha256().update(e).digest("hex"))).collect()},sha384:{arity:1,overloads:y.declare().onString1Typed(e=>y.string(i.sha384().update(e).digest("hex"))).collect()},sha512:{arity:1,overloads:y.declare().onString1Typed(e=>y.string(i.sha512().update(e).digest("hex"))).collect()}};t.definitions=u.Map(O)},"./node_modules/sparqlee/dist/lib/functions/SpecialFunctions.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specialDefinitions=void 0;const n=r("./node_modules/immutable/dist/immutable.js"),i=r("./node_modules/relative-to-absolute-iri/index.js"),o=r("./node_modules/uuid/dist/esm-browser/index.js"),s=r("./node_modules/sparqlee/dist/lib/expressions/index.js"),a=r("./node_modules/sparqlee/dist/lib/util/Consts.js"),u=r("./node_modules/sparqlee/dist/lib/util/Errors.js"),c=r("./node_modules/sparqlee/dist/lib/functions/Helpers.js"),l=r("./node_modules/sparqlee/dist/lib/functions/index.js");function d({args:e,mapping:t}){const r=e[0];if(r.expressionType!==s.ExpressionType.Variable)throw new u.InvalidArgumentTypes(e,a.SpecialOperator.BOUND);const n=t.has(r.name)&&!!t.get(r.name);return c.bool(n)}function p(e){return e.length>0&&e.every(t=>t.language===e[0].language)}const h={arity:1,applyAsync:async({args:e,evaluate:t,mapping:r,context:n})=>f(await t(e[0],r),n.baseIRI,e),applySync:({args:e,evaluate:t,mapping:r,context:n})=>f(t(e[0],r),n.baseIRI,e)};function f(e,t,r){const n="namedNode"!==e.termType?c.typeCheckLit(e,["string"],r,a.SpecialOperator.IRI):e,o=i.resolve(n.str(),t||"");return new s.NamedNode(o)}function m(e){return new s.BlankNode(e||o.v4())}const y={bound:{arity:1,applyAsync:async({args:e,mapping:t})=>d({args:e,mapping:t}),applySync:({args:e,mapping:t})=>d({args:e,mapping:t})},if:{arity:3,async applyAsync({args:e,mapping:t,evaluate:r}){const n=await r(e[0],t);return r(n.coerceEBV()?e[1]:e[2],t)},applySync({args:e,mapping:t,evaluate:r}){const n=r(e[0],t);return r(n.coerceEBV()?e[1]:e[2],t)}},coalesce:{arity:1/0,async applyAsync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return await r(i,t)}catch(e){n.push(e)}throw new u.CoalesceError(n)},applySync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return r(i,t)}catch(e){n.push(e)}throw new u.CoalesceError(n)}},"&&":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{const e=await r(n,t);if(!e.coerceEBV())return c.bool(!1);const o=(await r(i,t)).coerceEBV();return c.bool(o)}catch(e){if((await r(i,t)).coerceEBV())throw e;return c.bool(!1)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{const e=r(n,t);if(!e.coerceEBV())return c.bool(!1);const o=r(i,t).coerceEBV();return c.bool(o)}catch(e){if(r(i,t).coerceEBV())throw e;return c.bool(!1)}}},"||":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{const e=await r(n,t);if(e.coerceEBV())return c.bool(!0);const o=(await r(i,t)).coerceEBV();return c.bool(o)}catch(e){if(!(await r(i,t)).coerceEBV())throw e;return c.bool(!0)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{const e=r(n,t);if(e.coerceEBV())return c.bool(!0);const o=r(i,t).coerceEBV();return c.bool(o)}catch(e){if(!r(i,t).coerceEBV())throw e;return c.bool(!0)}}},sameterm:{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map(e=>r(e,t)),o=await n,s=await i;return c.bool(o.toRDF().equals(s.toRDF()))},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map(e=>r(e,t));return c.bool(n.toRDF().equals(i.toRDF()))}},in:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync({args:e,mapping:t,evaluate:r,context:n}){const[i,...o]=e;return async function e(t,{args:r,mapping:n,evaluate:i,context:o},s){if(0===r.length){return s.every(e=>!e)?c.bool(!1):Promise.reject(new u.InError(s))}try{const u=await i(r.shift(),n);return!0===l.regularFunctions.get(a.RegularOperator.EQUAL).apply([t,u]).typedValue?c.bool(!0):e(t,{args:r,mapping:n,evaluate:i,context:o},[...s,!1])}catch(a){return e(t,{args:r,mapping:n,evaluate:i,context:o},[...s,a])}}(await r(i,t),{args:o,mapping:t,evaluate:r,context:n},[])},applySync({args:e,mapping:t,evaluate:r,context:n}){const[i,...o]=e;return function e(t,{args:r,mapping:n,evaluate:i,context:o},s){if(0===r.length){if(!s.every(e=>!e))throw new u.InError(s);c.bool(!1)}try{const u=i(r.shift(),n);return!0===l.regularFunctions.get(a.RegularOperator.EQUAL).apply([t,u]).typedValue?c.bool(!0):e(t,{args:r,mapping:n,evaluate:i,context:o},[...s,!1])}catch(a){return e(t,{args:r,mapping:n,evaluate:i,context:o},[...s,a])}}(r(i,t),{args:o,mapping:t,evaluate:r,context:n},[])}},notin:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync(e){const t=l.specialFunctions.get(a.SpecialOperator.IN),r=await t.applyAsync(e);return c.bool(!r.typedValue)},applySync(e){const t=l.specialFunctions.get(a.SpecialOperator.IN).applySync(e);return c.bool(!t.typedValue)}},concat:{arity:1/0,async applyAsync({args:e,evaluate:t,mapping:r}){const n=e.map(async e=>t(e,r)).map(async t=>c.typeCheckLit(await t,["string","langString"],e,a.SpecialOperator.CONCAT)),i=await Promise.all(n),o=i.map(e=>e.typedValue).join(""),s=p(i)?i[0].language:void 0;return s?c.langString(o,s):c.string(o)},applySync({args:e,evaluate:t,mapping:r}){const n=e.map(e=>t(e,r)).map(t=>c.typeCheckLit(t,["string","langString"],e,a.SpecialOperator.CONCAT)),i=n.map(e=>e.typedValue).join(""),o=p(n)?n[0].language:void 0;return o?c.langString(i,o):c.string(i)}},now:{arity:0,applyAsync:async({context:e})=>new s.DateTimeLiteral(e.now,e.now.toISOString()),applySync:({context:e})=>new s.DateTimeLiteral(e.now,e.now.toISOString())},iri:h,uri:h,BNODE:{arity:1/0,checkArity:e=>0===e.length||1===e.length,async applyAsync({args:e,evaluate:t,mapping:r,context:n}){const i=1===e.length?await t(e[0],r):void 0,o=i?c.typeCheckLit(i,["string"],e,a.SpecialOperator.BNODE).str():void 0;if(n.bnode){const e=await n.bnode(o);return new s.BlankNode(e)}return m(o)},applySync({args:e,evaluate:t,mapping:r,context:n}){const i=1===e.length?t(e[0],r):void 0,o=i?c.typeCheckLit(i,["string"],e,a.SpecialOperator.BNODE).str():void 0;if(n.bnode){const e=n.bnode(o);return new s.BlankNode(e)}return m(o)}}};t.specialDefinitions=n.Map(y)},"./node_modules/sparqlee/dist/lib/functions/XPathFunctions.js":(e,t)=>{"use strict";function r(e){return"*"===e}function n(e,t){return new RegExp(`/${e}/`,"i").test(`/${t}/`)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDayTimeDuration=t.langMatches=t.replace=t.matches=void 0,t.matches=function(e,t,r){return new RegExp(t,r).test(e)},t.replace=function(e,t,r,n){let i=new RegExp(t,n);if(!i.global){i=new RegExp(t,(n||"")+"g")}return e.replace(i,r)},t.langMatches=function(e,t){const i=e.split("-"),o=t.split("-");if(!n(o[0],i[0])&&!r(i[0]))return!1;let s=1,a=1;for(;a<o.length;)if(r(o[a]))a++;else{if(s===i.length)return!1;if(n(o[a],i[s]))s++,a++;else{if(1===i[s].length)return!1;s++}}return!0},t.formatDayTimeDuration=function(e){if(e){if("Z"===e[0])return"PT0S";{const[t,r,n,i,o,s]=e,a="0"!==r?r:"",u=a||"0"!==n?n:"",c="0"!==o?o:"",l=c||"0"!==s?s:"";return`${"-"===t?"-":""}PT${`${a+u?a+u+"H":""}${c+l?c+l+"M":""}`}`}}}},"./node_modules/sparqlee/dist/lib/functions/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.namedFunctions=t.specialFunctions=t.regularFunctions=void 0;const o=r("./node_modules/sparqlee/dist/lib/functions/Core.js"),s=r("./node_modules/sparqlee/dist/lib/functions/NamedFunctions.js"),a=r("./node_modules/sparqlee/dist/lib/functions/RegularFunctions.js"),u=r("./node_modules/sparqlee/dist/lib/functions/SpecialFunctions.js");i(r("./node_modules/sparqlee/dist/lib/functions/Core.js"),t),t.regularFunctions=a.definitions.map((e,t)=>new o.RegularFunction(t,e)).toMap(),t.specialFunctions=u.specialDefinitions.map((e,t)=>new o.SpecialFunction(t,e)).toMap(),t.namedFunctions=s.namedDefinitions.map((e,t)=>new o.NamedFunction(t,e)).toMap()},"./node_modules/sparqlee/dist/lib/util/Consts.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedOperators=t.SetFunctions=t.SetFunction=t.Operators=t.SpecialOperators=t.RegularOperators=t.SpecialOperator=t.RegularOperator=t.decategorize=t.type=t.PrimitiveNumericTypes=t.commonTerms=t.DerivedIntegerTypeURLs=t.NumericTypeURLs=t.DerivedIntegerTypeURL=t.NumericTypeURL=t.make=t.TypeURL=t.EVB_ERR_STR=t.FALSE_STR=t.TRUE_STR=void 0;const n=r("rdf-data-factory"),i=r("./node_modules/immutable/dist/immutable.js"),o=new n.DataFactory;var s,a,u;t.TRUE_STR='"true"^^xsd:boolean',t.FALSE_STR='"false"^^xsd:boolean',t.EVB_ERR_STR='"not an dateTime"^^xsd:dateTime',function(e){e.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",e.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",e.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",e.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",e.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",e.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",e.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"}(s=t.TypeURL||(t.TypeURL={})),t.make=function(e){return o.namedNode(e)},function(e){e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger"}(a=t.NumericTypeURL||(t.NumericTypeURL={})),function(e){e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger"}(u=t.DerivedIntegerTypeURL||(t.DerivedIntegerTypeURL={})),t.NumericTypeURLs=i.Set(Object.values(a)),t.DerivedIntegerTypeURLs=i.Set(Object.values(u)),t.commonTerms={true:o.literal("true",o.namedNode(s.XSD_BOOLEAN)),false:o.literal("false",o.namedNode(s.XSD_BOOLEAN))},t.PrimitiveNumericTypes=i.Set(["integer","decimal","float","double"]),t.type=function(e){switch(e){case null:case void 0:case"":case s.XSD_ANY_URI:case s.XSD_STRING:return"string";case s.RDF_LANG_STRING:return"langString";case s.XSD_DATE_TIME:return"date";case s.XSD_BOOLEAN:return"boolean";case s.XSD_DECIMAL:return"decimal";case s.XSD_FLOAT:return"float";case s.XSD_DOUBLE:return"double";case s.XSD_INTEGER:case s.XSD_NON_POSITIVE_INTEGER:case s.XSD_NEGATIVE_INTEGER:case s.XSD_LONG:case s.XSD_INT:case s.XSD_SHORT:case s.XSD_BYTE:case s.XSD_NON_NEGATIVE_INTEGER:case s.XSD_UNSIGNED_LONG:case s.XSD_UNSIGNED_INT:case s.XSD_UNSIGNED_SHORT:case s.XSD_UNSIGNED_BYTE:case s.XSD_POSITIVE_INTEGER:return"integer";default:return"other"}};const c=i.Map([["integer",s.XSD_INTEGER],["float",s.XSD_FLOAT],["double",s.XSD_DOUBLE],["decimal",s.XSD_DECIMAL]]);var l,d,p;t.decategorize=function(e){return c.get(e)},function(e){e.NOT="!",e.UMINUS="UMINUS",e.UPLUS="UPLUS",e.EQUAL="=",e.NOT_EQUAL="!=",e.LT="<",e.GT=">",e.LTE="<=",e.GTE=">=",e.MULTIPLICATION="*",e.DIVISION="/",e.ADDITION="+",e.SUBTRACTION="-",e.IS_IRI="isiri",e.IS_BLANK="isblank",e.IS_LITERAL="isliteral",e.IS_NUMERIC="isnumeric",e.STR="str",e.LANG="lang",e.DATATYPE="datatype",e.STRDT="strdt",e.STRLANG="strlang",e.UUID="uuid",e.STRUUID="struuid",e.STRLEN="strlen",e.SUBSTR="substr",e.UCASE="ucase",e.LCASE="lcase",e.STRSTARTS="strstarts",e.STRENDS="strends",e.CONTAINS="contains",e.STRBEFORE="strbefore",e.STRAFTER="strafter",e.ENCODE_FOR_URI="encode_for_uri",e.LANG_MATCHES="langmatches",e.REGEX="regex",e.REPLACE="replace",e.ABS="abs",e.ROUND="round",e.CEIL="ceil",e.FLOOR="floor",e.RAND="rand",e.YEAR="year",e.MONTH="month",e.DAY="day",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.TIMEZONE="timezone",e.TZ="tz",e.MD5="md5",e.SHA1="sha1",e.SHA256="sha256",e.SHA384="sha384",e.SHA512="sha512"}(l=t.RegularOperator||(t.RegularOperator={})),function(e){e.BOUND="bound",e.IF="if",e.COALESCE="coalesce",e.LOGICAL_OR="||",e.LOGICAL_AND="&&",e.SAME_TERM="sameterm",e.IN="in",e.NOT_IN="notin",e.CONCAT="concat",e.NOW="now",e.IRI="iri",e.URI="uri",e.BNODE="BNODE"}(d=t.SpecialOperator||(t.SpecialOperator={})),t.RegularOperators=i.Set(Object.values(l)),t.SpecialOperators=i.Set(Object.values(d)),t.Operators=t.RegularOperators.union(t.SpecialOperators),function(e){e.COUNT="count",e.SUM="sum",e.MIN="min",e.MAX="max",e.AVG="avg",e.GROUP_CONCAT="group_concat",e.SAMPLE="sample"}(p=t.SetFunction||(t.SetFunction={})),t.SetFunctions=i.Set(Object.values(p)),t.NamedOperators=i.Set([s.XSD_STRING,s.XSD_FLOAT,s.XSD_DOUBLE,s.XSD_DECIMAL,s.XSD_INTEGER,s.XSD_DATE_TIME,s.XSD_DATE,s.XSD_BOOLEAN])},"./node_modules/sparqlee/dist/lib/util/Errors.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoExistenceHook=t.NoAggregator=t.UnknownNamedOperator=t.UnknownOperator=t.InvalidTermType=t.InvalidExpressionType=t.InvalidExpression=t.InvalidArity=t.UnimplementedError=t.UnexpectedError=t.EmptyAggregateError=t.IncompatibleLanguageOperation=t.InvalidTimezoneCall=t.CastError=t.InvalidArgumentTypes=t.InError=t.CoalesceError=t.RDFEqualTypeError=t.EBVCoercionError=t.UnboundVariableError=t.InvalidLexicalForm=t.isExpressionError=t.ExpressionError=void 0;class r extends Error{}t.ExpressionError=r,t.isExpressionError=function(e){return e instanceof r};t.InvalidLexicalForm=class extends r{constructor(e){super(`Invalid lexical form '${h(e)}'`),this.arg=e}};t.UnboundVariableError=class extends r{constructor(e,t){super(`Unbound variable '${h(e)}'`),this.variable=e,this.bindings=t}};t.EBVCoercionError=class extends r{constructor(e){super(`Cannot coerce term to EBV '${h(e)}'`),this.arg=e}};t.RDFEqualTypeError=class extends r{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}};t.CoalesceError=class extends r{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}};t.InError=class extends r{constructor(e){super("Some argument to IN errorred and none where equal. "+e.map(e=>`(${e.toString()}) `).join("and ")),this.errors=e}};t.InvalidArgumentTypes=class extends r{constructor(e,t){super(`Argument types not valid for operator: '${h(t)}' with '${h(e)}`),this.args=e,this.op=t}};t.CastError=class extends r{constructor(e,t){super(`Invalid cast: '${h(e)}' to '${h(t)}'`),this.arg=e}};t.InvalidTimezoneCall=class extends r{constructor(e){super(`TIMEZONE call on ${e} which has no timezone`),this.dateString=e}};t.IncompatibleLanguageOperation=class extends r{constructor(e,t){super(`Operation on incompatible language literals '${h(e)}' and '${h(t)}'`),this.arg1=e,this.arg2=t}};t.EmptyAggregateError=class extends r{constructor(){super("Empty aggregate expression")}};class n extends Error{constructor(e,t){super(`Programmer Error '${e}'`),this.payload=t}}t.UnexpectedError=n;class i extends Error{constructor(e){super(`Unimplemented feature '${e}!'`)}}t.UnimplementedError=i;class o extends Error{constructor(e,t){super(`The number of args does not match the arity of the operator '${h(t)}'.`),this.args=e,this.op=t}}t.InvalidArity=o;class s extends Error{constructor(e){super(`Invalid SPARQL Expression '${h(e)}'`)}}t.InvalidExpression=s;class a extends Error{constructor(e){super(`Invalid expression type for SPARQL Expression '${h(e)}'`),this.expr=e}}t.InvalidExpressionType=a;class u extends Error{constructor(e){super(`Invalid term type for term '${h(e)}'`),this.term=e}}t.InvalidTermType=u;class c extends Error{constructor(e){super("Unknown operator: '"+h(e))}}t.UnknownOperator=c;class l extends Error{constructor(e){super(`Unknown named operator: '${h(e)}'`)}}t.UnknownNamedOperator=l;class d extends Error{constructor(e){super(`Aggregate expression ${h(e)} found, but no aggregate hook provided.`)}}t.NoAggregator=d;class p extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}function h(e){return JSON.stringify(e)}t.NoExistenceHook=p},"./node_modules/sparqlee/dist/lib/util/Ordering.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.order=t.orderTypes=void 0;const n=r("./node_modules/sparqlee/dist/lib/Transformation.js");function i(e,t,r){return e.typedValue===t.typedValue?0:e.typedValue>t.typedValue===r?1:-1}t.orderTypes=function(e,t,r){if(e&&"Literal"===e.termType&&t&&"Literal"===t.termType){return i(n.transformLiteral(e),n.transformLiteral(t),r)}return 0},t.order=i},"./node_modules/sparqlee/dist/lib/util/Parsing.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXSDDateTime=t.parseXSDInteger=t.parseXSDDecimal=t.parseXSDFloat=void 0,t.parseXSDFloat=function(e){const t=Number(e);return isNaN(t)?"NaN"===e?NaN:"INF"===e?1/0:"-INF"===e?-1/0:void 0:t},t.parseXSDDecimal=function(e){const t=Number(e);return isNaN(t)?void 0:t},t.parseXSDInteger=function(e){const t=parseInt(e,10);return isNaN(t)?void 0:t},t.parseXSDDateTime=function(e){const t=e.indexOf("T"),r=t>=0?e.substr(0,t):e,[n,i,o]=r.split("-");let s="",a="",u="",c="";if(t>=0){const r=e.substr(t+1),[n,i]=r.split(/[\+\-Z]/);[s,a,u]=n.split(":");const o=new RegExp(/([\+\-Z].*)/).exec(r);c=o?o[0]:""}else s="00",a="00",u="00",c="";return{year:n,month:i,day:o,hours:s,minutes:a,seconds:u,timezone:c}}},"./node_modules/uuid/dist/esm-browser/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{v1:()=>n.Z,v3:()=>i.Z,v4:()=>o.Z,v5:()=>s.Z,NIL:()=>a.Z,version:()=>u.Z,validate:()=>c.Z,stringify:()=>l.Z,parse:()=>d.Z});var n=r("./node_modules/uuid/dist/esm-browser/v1.js"),i=r("./node_modules/uuid/dist/esm-browser/v3.js"),o=r("./node_modules/uuid/dist/esm-browser/v4.js"),s=r("./node_modules/uuid/dist/esm-browser/v5.js"),a=r("./node_modules/uuid/dist/esm-browser/nil.js"),u=r("./node_modules/uuid/dist/esm-browser/version.js"),c=r("./node_modules/uuid/dist/esm-browser/validate.js"),l=r("./node_modules/uuid/dist/esm-browser/stringify.js"),d=r("./node_modules/uuid/dist/esm-browser/parse.js")},"./node_modules/uuid/dist/esm-browser/md5.js":(e,t,r)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,n,o,s){return i((a=i(i(t,e),i(n,s)))<<(u=o)|a>>>32-u,r);var a,u}function s(e,t,r,n,i,s,a){return o(t&r|~t&n,e,t,i,s,a)}function a(e,t,r,n,i,s,a){return o(t&n|r&~n,e,t,i,s,a)}function u(e,t,r,n,i,s,a){return o(t^r^n,e,t,i,s,a)}function c(e,t,r,n,i,s,a){return o(r^(t|~n),e,t,i,s,a)}r.d(t,{Z:()=>l});const l=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n=0;n<r;n+=8){var i=e[n>>5]>>>n%32&255,o=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;for(var r=1732584193,o=-271733879,l=-1732584194,d=271733878,p=0;p<e.length;p+=16){var h=r,f=o,m=l,y=d;r=s(r,o,l,d,e[p],7,-680876936),d=s(d,r,o,l,e[p+1],12,-389564586),l=s(l,d,r,o,e[p+2],17,606105819),o=s(o,l,d,r,e[p+3],22,-1044525330),r=s(r,o,l,d,e[p+4],7,-176418897),d=s(d,r,o,l,e[p+5],12,1200080426),l=s(l,d,r,o,e[p+6],17,-1473231341),o=s(o,l,d,r,e[p+7],22,-45705983),r=s(r,o,l,d,e[p+8],7,1770035416),d=s(d,r,o,l,e[p+9],12,-1958414417),l=s(l,d,r,o,e[p+10],17,-42063),o=s(o,l,d,r,e[p+11],22,-1990404162),r=s(r,o,l,d,e[p+12],7,1804603682),d=s(d,r,o,l,e[p+13],12,-40341101),l=s(l,d,r,o,e[p+14],17,-1502002290),o=s(o,l,d,r,e[p+15],22,1236535329),r=a(r,o,l,d,e[p+1],5,-165796510),d=a(d,r,o,l,e[p+6],9,-1069501632),l=a(l,d,r,o,e[p+11],14,643717713),o=a(o,l,d,r,e[p],20,-373897302),r=a(r,o,l,d,e[p+5],5,-701558691),d=a(d,r,o,l,e[p+10],9,38016083),l=a(l,d,r,o,e[p+15],14,-660478335),o=a(o,l,d,r,e[p+4],20,-405537848),r=a(r,o,l,d,e[p+9],5,568446438),d=a(d,r,o,l,e[p+14],9,-1019803690),l=a(l,d,r,o,e[p+3],14,-187363961),o=a(o,l,d,r,e[p+8],20,1163531501),r=a(r,o,l,d,e[p+13],5,-1444681467),d=a(d,r,o,l,e[p+2],9,-51403784),l=a(l,d,r,o,e[p+7],14,1735328473),o=a(o,l,d,r,e[p+12],20,-1926607734),r=u(r,o,l,d,e[p+5],4,-378558),d=u(d,r,o,l,e[p+8],11,-2022574463),l=u(l,d,r,o,e[p+11],16,1839030562),o=u(o,l,d,r,e[p+14],23,-35309556),r=u(r,o,l,d,e[p+1],4,-1530992060),d=u(d,r,o,l,e[p+4],11,1272893353),l=u(l,d,r,o,e[p+7],16,-155497632),o=u(o,l,d,r,e[p+10],23,-1094730640),r=u(r,o,l,d,e[p+13],4,681279174),d=u(d,r,o,l,e[p],11,-358537222),l=u(l,d,r,o,e[p+3],16,-722521979),o=u(o,l,d,r,e[p+6],23,76029189),r=u(r,o,l,d,e[p+9],4,-640364487),d=u(d,r,o,l,e[p+12],11,-421815835),l=u(l,d,r,o,e[p+15],16,530742520),o=u(o,l,d,r,e[p+2],23,-995338651),r=c(r,o,l,d,e[p],6,-198630844),d=c(d,r,o,l,e[p+7],10,1126891415),l=c(l,d,r,o,e[p+14],15,-1416354905),o=c(o,l,d,r,e[p+5],21,-57434055),r=c(r,o,l,d,e[p+12],6,1700485571),d=c(d,r,o,l,e[p+3],10,-1894986606),l=c(l,d,r,o,e[p+10],15,-1051523),o=c(o,l,d,r,e[p+1],21,-2054922799),r=c(r,o,l,d,e[p+8],6,1873313359),d=c(d,r,o,l,e[p+15],10,-30611744),l=c(l,d,r,o,e[p+6],15,-1560198380),o=c(o,l,d,r,e[p+13],21,1309151649),r=c(r,o,l,d,e[p+4],6,-145523070),d=c(d,r,o,l,e[p+11],10,-1120210379),l=c(l,d,r,o,e[p+2],15,718787259),o=c(o,l,d,r,e[p+9],21,-343485551),r=i(r,h),o=i(o,f),l=i(l,m),d=i(d,y)}return[r,o,l,d]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(n(t)),i=0;i<t;i+=8)r[i>>5]|=(255&e[i/8])<<i%32;return r}(e),8*e.length))}},"./node_modules/uuid/dist/esm-browser/nil.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n="00000000-0000-0000-0000-000000000000"},"./node_modules/uuid/dist/esm-browser/parse.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r("./node_modules/uuid/dist/esm-browser/validate.js");const i=function(e){if(!(0,n.Z)(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},"./node_modules/uuid/dist/esm-browser/regex.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},"./node_modules/uuid/dist/esm-browser/rng.js":(e,t,r)=>{"use strict";var n;r.d(t,{Z:()=>o});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}},"./node_modules/uuid/dist/esm-browser/sha1.js":(e,t,r)=>{"use strict";function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function i(e,t){return e<<t|e>>>32-t}r.d(t,{Z:()=>o});const o=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var s=0;s<o.length;++s)e.push(o.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,u=Math.ceil(a/16),c=new Array(u),l=0;l<u;++l){for(var d=new Uint32Array(16),p=0;p<16;++p)d[p]=e[64*l+4*p]<<24|e[64*l+4*p+1]<<16|e[64*l+4*p+2]<<8|e[64*l+4*p+3];c[l]=d}c[u-1][14]=8*(e.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<u;++h){for(var f=new Uint32Array(80),m=0;m<16;++m)f[m]=c[h][m];for(var y=16;y<80;++y)f[y]=i(f[y-3]^f[y-8]^f[y-14]^f[y-16],1);for(var g=r[0],b=r[1],_=r[2],v=r[3],w=r[4],O=0;O<80;++O){var j=Math.floor(O/20),T=i(g,5)+n(j,b,_,v)+w+t[j]+f[O]>>>0;w=v,v=_,_=i(b,30)>>>0,b=g,g=T}r[0]=r[0]+g>>>0,r[1]=r[1]+b>>>0,r[2]=r[2]+_>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},"./node_modules/uuid/dist/esm-browser/stringify.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});for(var n=r("./node_modules/uuid/dist/esm-browser/validate.js"),i=[],o=0;o<256;++o)i.push((o+256).toString(16).substr(1));const s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,n.Z)(r))throw TypeError("Stringified UUID is invalid");return r}},"./node_modules/uuid/dist/esm-browser/v1.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n,i,o=r("./node_modules/uuid/dist/esm-browser/rng.js"),s=r("./node_modules/uuid/dist/esm-browser/stringify.js"),a=0,u=0;const c=function(e,t,r){var c=t&&r||0,l=t||new Array(16),d=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var h=e.random||(e.rng||o.Z)();null==d&&(d=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var f=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:u+1,y=f-a+(m-u)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||f>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,u=m,i=p;var g=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var b=f/4294967296*1e4&268435455;l[c++]=b>>>8&255,l[c++]=255&b,l[c++]=b>>>24&15|16,l[c++]=b>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var _=0;_<6;++_)l[c+_]=d[_];return t||(0,s.Z)(l)}},"./node_modules/uuid/dist/esm-browser/v3.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r("./node_modules/uuid/dist/esm-browser/v35.js"),i=r("./node_modules/uuid/dist/esm-browser/md5.js");const o=(0,n.ZP)("v3",48,i.Z)},"./node_modules/uuid/dist/esm-browser/v35.js":(e,t,r)=>{"use strict";r.d(t,{ZP:()=>o});var n=r("./node_modules/uuid/dist/esm-browser/stringify.js"),i=r("./node_modules/uuid/dist/esm-browser/parse.js");function o(e,t,r){function o(e,o,s,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof o&&(o=(0,i.Z)(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+e.length);if(u.set(o),u.set(e,o.length),(u=r(u))[6]=15&u[6]|t,u[8]=63&u[8]|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=u[c];return s}return(0,n.Z)(u)}try{o.name=e}catch(e){}return o.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o}},"./node_modules/uuid/dist/esm-browser/v4.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r("./node_modules/uuid/dist/esm-browser/rng.js"),i=r("./node_modules/uuid/dist/esm-browser/stringify.js");const o=function(e,t,r){var o=(e=e||{}).random||(e.rng||n.Z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=o[s];return t}return(0,i.Z)(o)}},"./node_modules/uuid/dist/esm-browser/v5.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r("./node_modules/uuid/dist/esm-browser/v35.js"),i=r("./node_modules/uuid/dist/esm-browser/sha1.js");const o=(0,n.ZP)("v5",80,i.Z)},"./node_modules/uuid/dist/esm-browser/validate.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r("./node_modules/uuid/dist/esm-browser/regex.js");const i=function(e){return"string"==typeof e&&n.Z.test(e)}},"./node_modules/uuid/dist/esm-browser/version.js":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r("./node_modules/uuid/dist/esm-browser/validate.js");const i=function(e){if(!(0,n.Z)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},"./node_modules/yallist/iterator.js":e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},"./node_modules/yallist/yallist.js":(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var s=[];for(n=0;o&&n<t;n++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<r.length;n++)o=i(this,o,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r("./node_modules/yallist/iterator.js")(n)}catch(e){}},"./require-empty.js":()=>{},asynciterator:e=>{"use strict";e.exports=__webpack_require__(9)},"rdf-data-factory":e=>{"use strict";e.exports=__webpack_require__(4)},sparqlalgebrajs:e=>{"use strict";e.exports=__webpack_require__(71)},sparqljs:e=>{"use strict";e.exports=__webpack_require__(5)}},__cmncwpk_module_cache__={};function __cmncwpk_require__(e){var t=__cmncwpk_module_cache__[e];if(void 0!==t)return t.exports;var r=__cmncwpk_module_cache__[e]={exports:{}};return __cmncwpk_modules__[e].call(r.exports,r,r.exports,__cmncwpk_require__),r.exports}__cmncwpk_require__.d=(e,t)=>{for(var r in t)__cmncwpk_require__.o(t,r)&&!__cmncwpk_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__cmncwpk_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__cmncwpk_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__cmncwpk_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __cmncwpk_exports__={};(()=>{var exports=__cmncwpk_exports__;(()=>{const isNode=void 0!==process&&null!=process.versions&&null!=process.versions.node;if(isNode&&"undefined"==typeof crypto){const crypto=eval("require('crypto')");__cmncwpk_require__.g.crypto={},__cmncwpk_require__.g.crypto.getRandomValues=e=>(crypto.randomFillSync(e),e)}})(),exports.newEngine=()=>__cmncwpk_require__("./engine.js")})(),module.exports=__cmncwpk_exports__})()}).call(this,__webpack_require__(13))},function(e,t,r){e.exports=r(94)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Quadstore=void 0;const n=r(8),i=r(18),o=r(9),s=r(3),a=r(54),u=r(57),c=r(4),l=r(59),d=r(20),p=e.alloc(32);t.Quadstore=class{constructor(e){this.dataFactory=e.dataFactory||new c.DataFactory,this.db=e.backend,this.indexes=[],this.id=s.nanoid(),(e.indexes||s.defaultIndexes).forEach(e=>this._addIndex(e)),this.comunica=e.comunica,this.prefixes=e.prefixes||{expandTerm:e=>e,compactIri:e=>e}}ensureReady(){if("open"!==this.db.status)throw new Error(`Store is not ready (status: "${this.db.status}"). Did you call store.open()?`)}ensureComunica(){if(!this.comunica)throw new Error("SPARQL feature are disabled as no Comunica engine was passed to the Quadstore() constructor");return this.comunica}waitForStatus(e,t=200){return new Promise((r,n)=>{const i=setTimeout(()=>{clearInterval(o),clearTimeout(i),n(new Error(`Timeout while waiting for status "${e}"`))},t),o=setInterval(()=>{this.db.status===e&&(clearInterval(o),clearTimeout(i),r())},10)})}async open(){switch(this.db.status){case"closing":await this.waitForStatus("closed");case"new":case"closed":await s.pFromCallback(e=>{this.db.open(e)});break;case"opening":await this.waitForStatus("open")}}async close(){switch(this.db.status){case"opening":await this.waitForStatus("open");case"open":case"new":await s.pFromCallback(e=>{this.db.close(e)});break;case"closing":await this.waitForStatus("closed")}}toString(){return this.toJSON()}toJSON(){return`[object ${this.constructor.name}::${this.id}]`}_addIndex(e){const t=e.map(e=>e.charAt(0).toUpperCase()).join("");this.indexes.push({terms:e,prefix:t+s.separator})}async clear(){if("function"==typeof this.db.clear)return new Promise((e,t)=>{this.db.clear(r=>{r?t(r):e()})});await this.delStream((await this.getStream({})).iterator,{batchSize:20})}match(e,t,r,n,i=s.emptyObject){if(e&&"Literal"===e.termType)return new o.EmptyIterator;const a={subject:e,predicate:t,object:r,graph:n};return new o.TransformIterator(this.getStream(a,i).then(e=>e.iterator))}async countQuads(e,t,r,n,i=s.emptyObject){if(e&&"Literal"===e.termType)return 0;const o={subject:e,predicate:t,object:r,graph:n};return(await this.getApproximateSize(o,i)).approximateSize}import(e){const t=new i.EventEmitter;return this.putStream(e,{}).then(()=>{t.emit("end")}).catch(e=>{t.emit("error",e)}),t}remove(e){const t=new i.EventEmitter;return this.delStream(e,{}).then(()=>t.emit("end")).catch(e=>t.emit("error",e)),t}removeMatches(e,t,r,n,i=s.emptyObject){const o=this.match(e,t,r,n,i);return this.remove(o)}deleteGraph(e){return this.removeMatches(void 0,void 0,void 0,e)}async getApproximateSize(e,t=s.emptyObject){return await this.ensureReady(),await a.getApproximateSize(this,e,t)}async sparql(e,t=s.emptyObject){return this.ensureReady(),await u.sparql(this,this.ensureComunica(),e,t)}async put(e,t=s.emptyObject){this.ensureReady();let r=this.db.batch();return t.scope&&(e=t.scope.parseQuad(e,r)),r=this.indexes.reduce((t,r)=>{const n=d.quadWriter.write(r.prefix,p,e,r.terms,this.prefixes);return t.put(n,d.copyBuffer(p,0,d.quadWriter.writtenValueBytes))},r),await this.writeBatch(r,t),{type:n.ResultType.VOID}}async multiPut(e,t=s.emptyObject){this.ensureReady();let r=this.db.batch();return r=e.reduce((e,n)=>(t.scope&&(n=t.scope.parseQuad(n,r)),this.indexes.reduce((e,t)=>{const r=d.quadWriter.write(t.prefix,p,n,t.terms,this.prefixes);return e.put(r,d.copyBuffer(p,0,d.quadWriter.writtenValueBytes))},e)),r),await this.writeBatch(r,t),{type:n.ResultType.VOID}}async del(e,t=s.emptyObject){this.ensureReady();const r=this.indexes.reduce((t,r)=>{const n=d.quadWriter.write(r.prefix,p,e,r.terms,this.prefixes);return t.del(n)},this.db.batch());return await this.writeBatch(r,t),{type:n.ResultType.VOID}}async multiDel(e,t=s.emptyObject){this.ensureReady();const r=e.reduce((e,t)=>this.indexes.reduce((e,r)=>{const n=d.quadWriter.write(r.prefix,p,t,r.terms,this.prefixes);return e.del(n)},e),this.db.batch());return await this.writeBatch(r,t),{type:n.ResultType.VOID}}async patch(e,t,r=s.emptyObject){this.ensureReady();const i=this.indexes.reduce((r,n)=>{const i=d.quadWriter.write(n.prefix,p,e,n.terms,this.prefixes);r.del(i);const o=d.quadWriter.write(n.prefix,p,t,n.terms,this.prefixes);return r.put(o,d.copyBuffer(p,0,d.quadWriter.writtenValueBytes))},this.db.batch());return await this.writeBatch(i,r),{type:n.ResultType.VOID}}async multiPatch(e,t,r=s.emptyObject){this.ensureReady();let i=this.db.batch();return i=e.reduce((e,t)=>this.indexes.reduce((e,r)=>{const n=d.quadWriter.write(r.prefix,p,t,r.terms,this.prefixes);return e.del(n)},e),i),i=t.reduce((e,t)=>this.indexes.reduce((e,r)=>{const n=d.quadWriter.write(r.prefix,p,t,r.terms,this.prefixes);return e.put(n,d.copyBuffer(p,0,d.quadWriter.writtenValueBytes))},e),i),await this.writeBatch(i,r),{type:n.ResultType.VOID}}async writeBatch(e,t){t.preWrite&&await t.preWrite(e),await s.pFromCallback(t=>{e.write(t)})}async get(e,t=s.emptyObject){this.ensureReady();const r=await this.getStream(e,t),n=await s.streamToArray(r.iterator);return{type:r.type,items:n}}async getStream(e,t=s.emptyObject){return this.ensureReady(),await a.getStream(this,e,t)}async putStream(e,t=s.emptyObject){this.ensureReady();const r=t.batchSize||1;return 1===r?await s.consumeOneByOne(e,e=>this.put(e,t)):await s.consumeInBatches(e,r,e=>this.multiPut(e,t)),{type:n.ResultType.VOID}}async delStream(e,t=s.emptyObject){this.ensureReady();const r=t.batchSize||1;return 1===r?await s.consumeOneByOne(e,e=>this.del(e)):await s.consumeInBatches(e,r,e=>this.multiDel(e)),{type:n.ResultType.VOID}}async sparqlStream(e,t=s.emptyObject){return this.ensureReady(),await u.sparqlStream(this,this.ensureComunica(),e,t)}async initScope(){return await this.ensureReady(),await l.Scope.init(this)}async loadScope(e){return await this.ensureReady(),await l.Scope.load(this,e)}async deleteScope(e){await this.ensureReady(),await l.Scope.delete(this,e)}async deleteAllScopes(){await this.ensureReady(),await l.Scope.delete(this)}}}).call(this,r(2).Buffer)},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,d=a>0?s-4:s;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+d],d+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=f,s/=256,c-=8);e[r+h-f]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(51),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(1))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,s,a,u=1,c={},l=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},n=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(f,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},p.clearImmediate=h}function h(e){delete c[e]}function f(e){if(l)setTimeout(f,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(1),r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;t.flatMap=(e,t)=>e.length<1?[]:(e=>e.reduce((e,t)=>e.concat(t)))(e.map(t))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pReduce=void 0;t.pReduce=(e,t,r)=>new Promise((n,i)=>{const o=e[Symbol.iterator]();let s=0;const a=async e=>{const r=o.next();if(r.done)n(e);else try{const n=await Promise.all([e,r.value]);a(t(n[0],n[1],s++))}catch(e){i(e)}};a(r)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApproximateSize=t.getStream=void 0;const n=r(8),i=r(19),o=r(20),s=(e,t,r)=>{const n=o.writePattern(e,t.prefix,t.terms,r);return!!n&&{[n.gte?"gte":"gt"]:n.gt,[n.lte?"lte":"lt"]:n.lt,keys:!0,values:!0,keyAsBuffer:!1,valueAsBuffer:!0}},a=(e,t,r)=>{for(let n,i,o=0;o<t.length;o+=1)if(n=t[o],i=s(e,n,r),i)return[n,i];throw new Error("No index found for pattern "+JSON.stringify(e,null,2))};t.getStream=async(e,t,r)=>{const{dataFactory:s,prefixes:u,indexes:c}=e,[l,d]=a(t,c,u),p=new i.LevelIterator(e.db.iterator(d),(e,t)=>o.quadReader.read(e,l.prefix.length,t,0,l.terms,s,u));return{type:n.ResultType.QUADS,iterator:p}};t.getApproximateSize=async(e,t,r)=>{if(!e.db.approximateSize)return{type:n.ResultType.APPROXIMATE_SIZE,approximateSize:1/0};const{indexes:i,prefixes:o}=e,[,s]=a(t,i,o),u=s.gte||s.gt,c=s.lte||s.lt;return new Promise((t,r)=>{e.db.approximateSize(u,c,(e,i)=>{e?r(e):t({type:n.ResultType.APPROXIMATE_SIZE,approximateSize:Math.max(1,i)})})})}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.quadReader=t.quadWriter=void 0;const s=o(r(21)),a=r(22),u=r(3),c=r(23);t.quadWriter={writtenValueBytes:0,write(e,t,r,n,i){let o=e,l=0;for(let e,d=0;d<n.length;d+=1){switch(e=r[n[d]],e.termType){case"NamedNode":t.writeUInt16LE(0,l),l+=2,o+=c.namedNodeWriter.write(t,l,e,i),l+=c.namedNodeWriter.writtenValueBytes;break;case"BlankNode":t.writeUInt16LE(1,l),l+=2,o+=c.blankNodeWriter.write(t,l,e),l+=c.blankNodeWriter.writtenValueBytes;break;case"DefaultGraph":t.writeUInt16LE(6,l),l+=2,o+=c.defaultGraphWriter.write(t,l,e),l+=c.defaultGraphWriter.writtenValueBytes;break;case"Literal":if(e.language)t.writeUInt16LE(4,l),l+=2,o+=c.langStringLiteralWriter.write(t,l,e,u.separator),l+=c.langStringLiteralWriter.writtenValueBytes;else if(e.datatype)switch(e.datatype.value){case s.string:t.writeUInt16LE(3,l),l+=2,o+=c.stringLiteralWriter.write(t,l,e),l+=c.stringLiteralWriter.writtenValueBytes;break;case s.integer:case s.double:case s.decimal:case s.nonPositiveInteger:case s.negativeInteger:case s.long:case s.int:case s.short:case s.byte:case s.nonNegativeInteger:case s.unsignedLong:case s.unsignedInt:case s.unsignedShort:case s.unsignedByte:case s.positiveInteger:t.writeUInt16LE(5,l),l+=2,o+=c.numericLiteralWriter.write(t,l,e,u.separator,a.encode(e.value),!1),l+=c.numericLiteralWriter.writtenValueBytes;break;case s.dateTime:t.writeUInt16LE(5,l),l+=2,o+=c.numericLiteralWriter.write(t,l,e,u.separator,a.encode(new Date(e.value).valueOf()),!1),l+=c.numericLiteralWriter.writtenValueBytes;break;default:t.writeUInt16LE(2,l),l+=2,o+=c.genericLiteralWriter.write(t,l,e,u.separator),l+=c.genericLiteralWriter.writtenValueBytes}else t.writeUInt16LE(3,l),l+=2,o+=c.stringLiteralWriter.write(t,l,e),l+=c.stringLiteralWriter.writtenValueBytes}o+=u.separator}return this.writtenValueBytes=l,o}},t.quadReader={subject:null,predicate:null,object:null,graph:null,read(e,t,r,n,i,o,s){for(let a,l,d=0;d<i.length;d+=1){a=i[d];const p=r.readUInt16LE(n);switch(n+=2,p){case 0:l=c.namedNodeReader.read(e,t,r,n,o,s),t+=c.namedNodeReader.readKeyChars,n+=c.namedNodeReader.readValueBytes;break;case 1:l=c.blankNodeReader.read(e,t,r,n,o),t+=c.blankNodeReader.readKeyChars,n+=c.blankNodeReader.readValueBytes;break;case 2:l=c.genericLiteralReader.read(e,t,r,n,o,u.separator),t+=c.genericLiteralReader.readKeyChars,n+=c.genericLiteralReader.readValueBytes;break;case 3:l=c.stringLiteralReader.read(e,t,r,n,o),t+=c.stringLiteralReader.readKeyChars,n+=c.stringLiteralReader.readValueBytes;break;case 4:l=c.langStringLiteralReader.read(e,t,r,n,o,u.separator),t+=c.langStringLiteralReader.readKeyChars,n+=c.langStringLiteralReader.readValueBytes;break;case 5:l=c.numericLiteralReader.read(e,t,r,n,o,u.separator),t+=c.numericLiteralReader.readKeyChars,n+=c.numericLiteralReader.readValueBytes;break;case 6:l=c.defaultGraphReader.read(e,t,r,n,o),t+=c.defaultGraphReader.readKeyChars,n+=c.defaultGraphReader.readValueBytes;break;default:throw new Error(`Unexpected encoded term type "${p}"`)}this[a]=l,t+=u.separator.length}return o.quad(this.subject,this.predicate,this.object,this.graph)}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.writePattern=void 0;const s=o(r(21)),a=r(22),u=r(3),c=r(23),l={write(e){if(e.language)return c.langStringLiteralWriter.write(void 0,void 0,e,u.separator);if(e.datatype)switch(e.datatype.value){case s.string:return c.stringLiteralWriter.write(void 0,void 0,e);case s.integer:case s.double:case s.decimal:case s.nonPositiveInteger:case s.negativeInteger:case s.long:case s.int:case s.short:case s.byte:case s.nonNegativeInteger:case s.unsignedLong:case s.unsignedInt:case s.unsignedShort:case s.unsignedByte:case s.positiveInteger:return c.numericLiteralWriter.write(void 0,void 0,e,u.separator,a.encode(e.value),!0);case s.dateTime:return c.numericLiteralWriter.write(void 0,void 0,e,u.separator,a.encode(new Date(e.value).valueOf()),!0);default:return c.genericLiteralWriter.write(void 0,void 0,e,u.separator)}return c.stringLiteralWriter.write(void 0,void 0,e)}};t.writePattern=(e,t,r,n)=>{let i=t,o=t,s=!0,a=!0,d=!1,p=Object.entries(e).filter(([e,t])=>t).length;if(0===p)return o+=u.boundary,{gt:i,lt:o,gte:s,lte:a};for(let t=0;t<r.length&&p>0;t+=1){const h=e[r[t]];if(!h)return!1;if(d)return!1;switch(h.termType){case"Range":d=!0,h.gt?(i+=l.write(h.gt),s=!1):h.gte&&(i+=l.write(h.gte),s=!0),h.lt?(o+=l.write(h.lt),a=!1):h.lte&&(o+=l.write(h.lte),a=!0);break;case"Literal":d=!0,i+=l.write(h),s=!0,o+=l.write(h),a=!0;break;case"NamedNode":i+=c.namedNodeWriter.write(void 0,void 0,h,n),s=!0,o+=c.namedNodeWriter.write(void 0,void 0,h,n),a=!0;break;case"BlankNode":i+=c.blankNodeWriter.write(void 0,void 0,h),s=!0,o+=c.blankNodeWriter.write(void 0,void 0,h),a=!0;break;case"DefaultGraph":i+=c.defaultGraphWriter.write(void 0,void 0,h),s=!0,o+=c.defaultGraphWriter.write(void 0,void 0,h),a=!0}p-=1,p>0&&t<r.length-1&&(i+=u.separator,o+=u.separator)}return o+=a?d?u.boundary:u.separator+u.boundary:u.separator,s?d||(i+=u.separator):i+=d?u.boundary:u.separator+u.boundary,{gt:i,lt:o,gte:s,lte:a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sparqlStream=t.sparql=void 0;const n=r(8),i=r(3);t.sparql=async(e,r,o,s=i.emptyObject)=>{const a=await t.sparqlStream(e,r,o,s);switch(a.type){case n.ResultType.BINDINGS:{const e=await i.streamToArray(a.iterator);return{...a,items:e}}case n.ResultType.QUADS:{const e=await i.streamToArray(a.iterator);return{...a,items:e}}case n.ResultType.BOOLEAN:case n.ResultType.VOID:return a;default:throw new Error(`Unexpected result type "${a.type}"`)}};t.sparqlStream=async(e,t,r,o=i.emptyObject)=>{const s=await t.query(r,{sources:[e],source:e,baseIRI:o.baseIRI,destination:e});switch(s.type){case"boolean":return{type:n.ResultType.BOOLEAN,value:await s.booleanResult};case"bindings":return{type:n.ResultType.BINDINGS,iterator:s.bindingsStream.map(e=>e.toObject()),variables:s.variables};case"quads":return{type:n.ResultType.QUADS,iterator:s.quadStream};case"update":return await s.updateResult,{type:n.ResultType.VOID};default:throw new Error(`The Comunica engine returned results of unsupported type "${s.type}"`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(25),i=r(26),o=r(27),s=r(14),a=r(28),u=r(29);let c=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${c++}_`}namedNode(e){return new s.NamedNode(e)}blankNode(e){return new n.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new o.Literal(e,t)}variable(e){return new u.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new a.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(o.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scope=void 0;const n=r(19),i=r(3);class o{constructor(e,t,r){this.blankNodes=r,this.factory=e,this.id=t}static async init(e){return new o(e.dataFactory,i.nanoid(),new Map)}static async load(e,t){const r=o.getLevelIteratorOpts(!1,!0,t),s=new n.LevelIterator(e.db.iterator(r),(e,t)=>t),a=new Map,{dataFactory:u}=e;return await i.consumeOneByOne(s,e=>{const{originalLabel:t,randomLabel:r}=JSON.parse(e);a.set(t,u.blankNode(r))}),new o(u,t,a)}static async delete(e,t){const r=e.db.batch(),s=o.getLevelIteratorOpts(!0,!1,t),a=new n.LevelIterator(e.db.iterator(s),(e,t)=>e);await i.consumeOneByOne(a,e=>{r.del(e)}),await i.pFromCallback(e=>{r.write(e)})}static getLevelIteratorOpts(e,t,r){const n=r?`SCOPE${i.separator}${r}${i.separator}`:"SCOPE"+i.separator;return{keys:e,values:t,keyAsBuffer:!1,valueAsBuffer:!1,gte:n,lte:`${n}${i.boundary}`}}static addMappingToLevelBatch(e,t,r,n){t.put(`SCOPE${i.separator}${e}${i.separator}${r}`,JSON.stringify({originalLabel:r,randomLabel:n}))}parseBlankNode(e,t){let r=this.blankNodes.get(e.value);return r||(r=this.factory.blankNode(i.nanoid()),this.blankNodes.set(e.value,r),o.addMappingToLevelBatch(this.id,t,e.value,r.value)),r}parseSubject(e,t){switch(e.termType){case"BlankNode":return this.parseBlankNode(e,t);default:return e}}parseObject(e,t){switch(e.termType){case"BlankNode":return this.parseBlankNode(e,t);default:return e}}parseGraph(e,t){switch(e.termType){case"BlankNode":return this.parseBlankNode(e,t);default:return e}}parseQuad(e,t){return this.factory.quad(this.parseSubject(e.subject,t),e.predicate,this.parseObject(e.object,t),this.parseGraph(e.graph,t))}}t.Scope=o},function(e,t,r){"use strict";const n=r(61),i=r(62),o=r(63),s=r(31),a=r(33),u=r(34).getCallback,c=r(34).getOptions,l=Object.prototype.hasOwnProperty,d=["lt","lte","gt","gte"];function p(e){this.status="new",this.supports=n(e,{status:!0})}function h(e,t){const r={};for(const n in t){if(!l.call(t,n))continue;if("start"===n||"end"===n)throw new Error('Legacy range options ("start" and "end") have been removed');let i=t[n];f(n)&&(i=e._serializeKey(i)),r[n]=i}return r}function f(e){return-1!==d.indexOf(e)}p.prototype.open=function(e,t){const r=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"==typeof e&&null!==e||(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,e=>{if(e)return this.status=r,t(e);this.status="open",t()})},p.prototype._open=function(e,t){this._nextTick(t)},p.prototype.close=function(e){const t=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close(r=>{if(r)return this.status=t,e(r);this.status="closed",e()})},p.prototype._close=function(e){this._nextTick(e)},p.prototype.get=function(e,t,r){if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");const n=this._checkKey(e);if(n)return this._nextTick(r,n);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),t.asBuffer=!1!==t.asBuffer,this._get(e,t,r)},p.prototype._get=function(e,t,r){this._nextTick((function(){r(new Error("NotFound"))}))},p.prototype.getMany=function(e,t,r){if(r=u(t,r),r=o.fromCallback(r),t=c(t),function(e,t){if(!e.isOperational())return e._nextTick(t,new Error("Database is not open")),!0;return!1}(this,r))return r.promise;if(!Array.isArray(e))return this._nextTick(r,new Error("getMany() requires an array argument")),r.promise;if(0===e.length)return this._nextTick(r,null,[]),r.promise;"boolean"!=typeof t.asBuffer&&(t={...t,asBuffer:!0});const n=new Array(e.length);for(let t=0;t<e.length;t++){const i=e[t],o=this._checkKey(i);if(o)return this._nextTick(r,o),r.promise;n[t]=this._serializeKey(i)}return this._getMany(n,t,r),r.promise},p.prototype._getMany=function(e,t,r){this._nextTick(r,null,new Array(e.length).fill(void 0))},p.prototype.put=function(e,t,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");const i=this._checkKey(e)||this._checkValue(t);if(i)return this._nextTick(n,i);e=this._serializeKey(e),t=this._serializeValue(t),"object"==typeof r&&null!==r||(r={}),this._put(e,t,r,n)},p.prototype._put=function(e,t,r,n){this._nextTick(n)},p.prototype.del=function(e,t,r){if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");const n=this._checkKey(e);if(n)return this._nextTick(r,n);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),this._del(e,t,r)},p.prototype._del=function(e,t,r){this._nextTick(r)},p.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return this._nextTick(r,new Error("batch(array) requires an array argument"));if(0===e.length)return this._nextTick(r);"object"==typeof t&&null!==t||(t={});const n=new Array(e.length);for(let t=0;t<e.length;t++){if("object"!=typeof e[t]||null===e[t])return this._nextTick(r,new Error("batch(array) element must be an object and not `null`"));const i=Object.assign({},e[t]);if("put"!==i.type&&"del"!==i.type)return this._nextTick(r,new Error("`type` must be 'put' or 'del'"));const o=this._checkKey(i.key);if(o)return this._nextTick(r,o);if(i.key=this._serializeKey(i.key),"put"===i.type){const e=this._checkValue(i.value);if(e)return this._nextTick(r,e);i.value=this._serializeValue(i.value)}n[t]=i}this._batch(n,t,r)},p.prototype._batch=function(e,t,r){this._nextTick(r)},p.prototype.clear=function(e,t){if("function"==typeof e)t=e;else if("function"!=typeof t)throw new Error("clear() requires a callback argument");(e=h(this,e)).reverse=!!e.reverse,e.limit="limit"in e?e.limit:-1,this._clear(e,t)},p.prototype._clear=function(e,t){e.keys=!0,e.values=!1,e.keyAsBuffer=!0,e.valueAsBuffer=!0;const r=this._iterator(e),n={},i=e=>{if(e)return r.end((function(){t(e)}));r.next((e,o)=>e?i(e):void 0===o?r.end(t):void this._del(o,n,i))};i()},p.prototype._setupIteratorOptions=function(e){return(e=h(this,e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},p.prototype.iterator=function(e){return"object"==typeof e&&null!==e||(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},p.prototype._iterator=function(e){return new s(this)},p.prototype._chainedBatch=function(){return new a(this)},p.prototype._serializeKey=function(e){return e},p.prototype._serializeValue=function(e){return e},p.prototype._checkKey=function(e){return null==e?new Error("key cannot be `null` or `undefined`"):i(e)&&0===e.length?new Error("key cannot be an empty Buffer"):""===e?new Error("key cannot be an empty String"):Array.isArray(e)&&0===e.length?new Error("key cannot be an empty Array"):void 0},p.prototype._checkValue=function(e){if(null==e)return new Error("value cannot be `null` or `undefined`")},p.prototype.isOperational=function(){return"open"===this.status||this._isOperational()},p.prototype._isOperational=function(){return!1},p.prototype._nextTick=r(15),e.exports=p},function(e,t,r){"use strict";function n(e){return!!e&&Object.assign({},e)}e.exports=function(...e){const t=e.reduce((e,t)=>Object.assign(e,t),{});return Object.assign(t,{bufferKeys:t.bufferKeys||!1,snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,getMany:t.getMany||!1,keyIterator:t.keyIterator||!1,valueIterator:t.valueIterator||!1,iteratorNextv:t.iteratorNextv||!1,iteratorAll:t.iteratorAll||!1,status:t.status||!1,idempotentOpen:t.idempotentOpen||!1,passiveOpen:t.passiveOpen||!1,serialize:t.serialize||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,openCallback:t.openCallback||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:n(t.encodings),events:n(t.events),additionalMethods:Object.assign({},t.additionalMethods)})}},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){"use strict";var n=r(64);t.fromCallback=function(e,t){if(void 0===e){var r=new Promise((function(t,r){e=function(e,n){e?r(e):t(n)}}));e[void 0!==t?t:"promise"]=r}else if("function"!=typeof e)throw new TypeError("Callback must be a function");return e},t.fromPromise=function(e,t){if(void 0===t)return e;e.then((function(e){n(()=>t(null,e))})).catch((function(e){n(()=>t(e))}))}},function(e,t){e.exports="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)},function(e,t,r){
/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=function(e,t,r){if("number"!=typeof t)throw new Error("second argument must be a Number");let i,o,s,a,u,c,l=!0;Array.isArray(e)?(i=[],s=o=e.length):(a=Object.keys(e),i={},s=o=a.length);function d(e){function t(){r&&r(e,i),r=null}l?n(t):t()}function p(t,r,n){if(i[t]=n,r&&(u=!0),0==--s||r)d(r);else if(!u&&c<o){let t;a?(t=a[c],c+=1,e[t]((function(e,r){p(t,e,r)}))):(t=c,c+=1,e[t]((function(e,r){p(t,e,r)})))}}c=t,s?a?a.some((function(r,n){return e[r]((function(e,t){p(r,e,t)})),n===t-1})):e.some((function(e,r){return e((function(e,t){p(r,e,t)})),r===t-1})):d(null);l=!1};const n=r(32)},function(e,t,r){"use strict";const n=r(16),i=r(30).AbstractIterator,o=r(35),s=r(36),a=function(){};function u(e,t,r){if(i.call(this,e),this._limit=r.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=r.keys,this._values=r.values,this._keyAsBuffer=r.keyAsBuffer,this._valueAsBuffer=r.valueAsBuffer,0===this._limit)return void(this._completed=!0);let n;try{n=o(r)}catch(e){return void(this._completed=!0)}this.createIterator(t,n,r.reverse)}e.exports=u,n(u,i),u.prototype.createIterator=function(e,t,r){const n=this.db.db.transaction([e],"readonly");n.objectStore(e).openCursor(t,r?"prev":"next").onsuccess=e=>{const t=e.target.result;t&&this.onItem(t)},this._transaction=n,n.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},n.oncomplete=()=>{this.onComplete()}},u.prototype.onItem=function(e){this._cache.push(e.key,e.value),(this._limit<=0||++this._count<this._limit)&&e.continue(),this.maybeNext()},u.prototype.onAbort=function(e){this._aborted=!0,this._error=e,this.maybeNext()},u.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},u.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},u.prototype._next=function(e){if(this._aborted){const t=this._error;this._error=null,this._nextTick(e,t)}else if(this._cache.length>0){let t=this._cache.shift(),r=this._cache.shift();t=this._keys&&void 0!==t?this._deserializeKey(t,this._keyAsBuffer):void 0,r=this._values&&void 0!==r?this._deserializeValue(r,this._valueAsBuffer):void 0,this._nextTick(e,null,t,r)}else this._completed?this._nextTick(e):this._callback=e},u.prototype._deserializeKey=s,u.prototype._deserializeValue=s,u.prototype._end=function(e){if(this._aborted||this._completed)return this._nextTick(e,this._error);this.onItem=a,this.onAbort=e,this.onComplete=e}},function(e,t,r){(function(e){function r(e){return void 0!==e&&""!==e}function n(e,t){return Object.hasOwnProperty.call(e,t)}function i(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(t,r){if(e.isBuffer(t)){for(var n=Math.min(t.length,r.length),i=0;i<n;i++){var o=t[i]-r[i];if(o)return o}return t.length-r.length}return t<r?-1:t>r?1:0};var o=t.lowerBoundKey=function(e){return i(e,"gt")||i(e,"gte")||i(e,"min")||(e.reverse?i(e,"end"):i(e,"start"))||void 0},s=t.lowerBound=function(e,t){var r=o(e);return r?e[r]:t},a=t.lowerBoundInclusive=function(e){return!n(e,"gt")},u=t.upperBoundInclusive=function(e){return!n(e,"lt")},c=t.lowerBoundExclusive=function(e){return!a(e)},l=t.upperBoundExclusive=function(e){return!u(e)},d=t.upperBoundKey=function(e){return i(e,"lt")||i(e,"lte")||i(e,"max")||(e.reverse?i(e,"start"):i(e,"end"))||void 0},p=t.upperBound=function(e,t){var r=d(e);return r?e[r]:t};function h(e){return e}t.start=function(e,t){return e.reverse?p(e,t):s(e,t)},t.end=function(e,t){return e.reverse?s(e,t):p(e,t)},t.startInclusive=function(e){return e.reverse?u(e):a(e)},t.endInclusive=function(e){return e.reverse?a(e):u(e)},t.toLtgt=function(e,r,i,o,s){r=r||{},i=i||h;var a=arguments.length>3,u=t.lowerBoundKey(e),c=t.upperBoundKey(e);return u?"gt"===u?r.gt=i(e.gt,!1):r.gte=i(e[u],!1):a&&(r.gte=i(o,!1)),c?"lt"===c?r.lt=i(e.lt,!0):r.lte=i(e[c],!0):a&&(r.lte=i(s,!0)),null!=e.reverse&&(r.reverse=!!e.reverse),n(r,"max")&&delete r.max,n(r,"min")&&delete r.min,n(r,"start")&&delete r.start,n(r,"end")&&delete r.end,r},t.contains=function(e,n,i){i=i||t.compare;var o=s(e);if(r(o)&&((a=i(n,o))<0||0===a&&c(e)))return!1;var a,u=p(e);if(r(u)&&((a=i(n,u))>0||0===a&&l(e)))return!1;return!0},t.filter=function(e,r){return function(n){return t.contains(e,n,r)}}}).call(this,r(2).Buffer)},function(e,t,r){"use strict";(function(t){const n=r(2).Buffer,i=function(){if(t.TextEncoder){const e=new TextEncoder("utf-8");return e.encode.bind(e)}return n.from}();e.exports=function(e,t){return t?n.isBuffer(e)?e:i(String(e)):String(e)}}).call(this,r(1))},function(e,t,r){"use strict";const n=r(2).Buffer;t.test=function(e){return function(t){try{return t.cmp(e,0),!0}catch(e){return!1}}},t.bufferKeys=t.test(n.alloc(0))},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){if(0===n.limit)return e._nextTick(i);const o=e.db.transaction([t],"readwrite"),s=o.objectStore(t);let a=0;o.oncomplete=function(){i()},o.onabort=function(){i(o.error||new Error("aborted by user"))};const u=s.openKeyCursor?"openKeyCursor":"openCursor",c=n.reverse?"prev":"next";s[u](r,c).onsuccess=function(e){const t=e.target.result;t&&(s.delete(t.key).onsuccess=function(){(n.limit<=0||++a<n.limit)&&t.continue()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const n=r(72);t.translate=n.default;const i=r(10);t.Algebra=i;const o=r(11);t.Factory=o.default;const s=r(80);Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return s.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return s.toSparqlJs}});const a=r(17);t.Util=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10),i=r(11),o=r(17),s=r(79),a=r(12),u=r(5).Parser,c=n.types;let l,d=new Set,p=0,h=!1;function f(e,t,r){if(d=new Set,p=0,h=t,!e.type)return l.createProject(l.createBgp([]),[]);if("query"!==e.type&&"update"!==e.type)throw new Error("Translate only works on complete query or update objects.");let n,i=new Set(Object.keys(function e(t){let r={};if(m(t))r[a.termToString(t)]=!0,d.add(t);else if(n=t,null!==n&&"object"==typeof n)if("bind"===t.type)e(t.expression),Object.assign(r,e(t.variable));else if("SELECT"===t.queryType){let n=e(t.where);for(let i of t.variables)o.default.isWildcard(i)?Object.assign(r,n):i.variable?Object.assign(r,e(i.variable)):Object.assign(r,e(i));if(t.group)for(let n of t.group)Object.assign(r,e(n))}else for(let n of Object.keys(t))Object.assign(r,e(t[n]));var n;return r}(e)).map(l.createTerm.bind(l)));if("query"===e.type){n=y({type:"group",patterns:e.where||[]}),n=function(e,t,r){let n=[],i={};if(e.variables=E(e.variables,i),e.having=E(e.having,i),e.order=E(e.order,i),e.group||Object.keys(i).length>0){let r=Object.keys(i).map(e=>function(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: "+JSON.stringify(e));let r=g(e);return r.variable=t,r}(i[e],l.createTerm(e))),n=[];if(e.group)for(let r of e.group)if(r.expression.type){const e=r.variable?r.variable:v();t=l.createExtend(t,e,g(r.expression)),n.push(e)}else n.push(r.expression);t=l.createGroup(t,n,r)}if(e.having)for(let r of e.having)t=l.createFilter(t,g(r));e.values&&(t=l.createJoin(t,x(e)));let s=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some(e=>e&&o.default.isWildcard(e)))s=r;else for(let t of e.variables)m(t)||!t.variable?s.add(t):t.variable&&(s.add(t.variable),n.push(t));for(let e of n)t=l.createExtend(t,e.variable,g(e.expression));e.order&&(t=l.createOrderBy(t,e.order.map(e=>{let t=g(e.expression);return e.descending&&(t=l.createOperatorExpression(c.DESC,[t])),t})));"SELECT"===e.queryType&&(t=l.createProject(t,Array.from(s)));e.distinct&&(t=l.createDistinct(t));e.reduced&&(t=l.createReduced(t));"CONSTRUCT"===e.queryType?t=l.createConstruct(t,e.template.map(w)):"ASK"===e.queryType?t=l.createAsk(t):"DESCRIBE"===e.queryType&&(t=l.createDescribe(t,Array.from(s)));(e.offset||e.limit)&&(t=l.createSlice(t,e.offset,e.limit));e.from&&(t=l.createFrom(t,e.from.default,e.from.named));return t}(e,n,i)}else"update"===e.type&&(n=1===(s=e).updates.length?A(s.updates[0]):l.createCompositeUpdate(s.updates.map(A)));var s;return r&&(n=function e(t,r){const n={},i=Array.from(r).reduce((e,t)=>(e[t.value]=!0,e),{});return o.default.mapOperation(t,{deleteinsert:e=>({result:e,recurse:!1}),path:(e,t)=>({result:t.createPath(s(e.subject),e.predicate,s(e.object),s(e.graph)),recurse:!1}),pattern:(e,t)=>({result:t.createPattern(s(e.subject),s(e.predicate),s(e.object),s(e.graph)),recurse:!1}),construct:t=>({result:l.createConstruct(e(t.input,r),t.template),recurse:!1})});function s(e){if("BlankNode"===e.termType){let t=n[e.value];return t||(t=o.default.createUniqueVariable(e.value,i,l.dataFactory),i[t.value]=!0,n[e.value]=t),t}return e}}(n,i)),n}function m(e){return e&&"Variable"===e.termType}function y(e){let t,r=[],n=[];if(e.patterns)for(let t of e.patterns)("filter"===t.type?r:n).push(t);if("bgp"===e.type)return function(e){let t=[],r=[];for(let n of e.triples)if("path"===n.predicate.type){let e=b(n);for(let n of e)n.type===c.PATH?(t.length>0&&r.push(l.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(w(n));t.length>0&&r.push(l.createBgp(t));return 1===r.length?r[0]:r.reduce((e,t)=>l.createJoin(e,t))}(e);if("union"===e.type)t=n.map(e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),y(e))).reduce((e,t)=>l.createUnion(e,t));else{if("graph"===e.type)return function(e){e.type="group";let t=y(e);t=h?j(t,e.name):l.createGraph(t,e.name);return t}(e);if("group"===e.type)t=n.reduce(T,l.createBgp([]));else if("values"===e.type)t=x(e);else{if("query"!==e.type)throw new Error("Unexpected type: "+e.type);t=f(e,h,!1)}}if(r.length>0){let e=r.map(e=>g(e.expression));e.length>0&&(t=l.createFilter(t,e.reduce((e,t)=>l.createOperatorExpression("&&",[e,t]))))}return t}function g(e){if(o.default.isTerm(e)||"Quad"===e.termType)return l.createTermExpression(e);if(o.default.isWildcard(e))return l.createWildcardExpression();if(e.aggregation)return l.createAggregateExpression(e.aggregation,g(e.expression),e.distinct,e.separator);if(e.function)return l.createNamedExpression(e.function,e.args.map(g));if(e.operator)return"exists"===e.operator||"notexists"===e.operator?l.createExistenceExpression("notexists"===e.operator,y(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),l.createOperatorExpression(e.operator,e.args.map(g)));throw new Error("Unknown expression: "+JSON.stringify(e))}function b(e){return function e(t,r,n){if(r.type===c.LINK)return[l.createPattern(t,r.iri,n)];if(r.type===c.INV)return e(n,r.path,t);if(r.type===c.SEQ){let i=v(),o=e(t,r.left,i),s=e(i,r.right,n);return o.concat(s)}return[l.createPath(t,r,n)]}(e.subject,_(e.predicate),e.object)}function _(e){if(o.default.isTerm(e)&&"NamedNode"===e.termType)return l.createLink(e);if("^"===e.pathType)return l.createInv(_(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="path"===e.items[0].type&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(o.default.isTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: "+JSON.stringify(e));n.push(e.items[0])}let i=l.createNps(r),s=l.createInv(l.createNps(n));return 0===n.length?i:0===r.length?s:l.createAlt(i,s)}if("/"===e.pathType)return e.items.map(_).reduce((e,t)=>l.createSeq(e,t));if("|"===e.pathType)return e.items.map(_).reduce((e,t)=>l.createAlt(e,t));if("*"===e.pathType)return l.createZeroOrMorePath(_(e.items[0]));if("+"===e.pathType)return l.createOneOrMorePath(_(e.items[0]));if("?"===e.pathType)return l.createZeroOrOnePath(_(e.items[0]));throw new Error("Unable to translate path expression "+JSON.stringify(e))}function v(){let e="?var"+p++;return d.has(e)?v():(d.add(e),l.createTerm(e))}function w(e){return l.createPattern(e.subject,e.predicate,e.object,e.graph)}t.default=function(e,t){if(t=t||{},l=new i.default(t.dataFactory),"string"==typeof e){let r=new u(t);r._resetBlanks(),e=r.parse(e)}return f(e,t.quads,t.blankToVariable)};let O=Object.keys(c).map(e=>c[e]);function j(e,t,r){if(e.type===c.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");const t=e;e=j(t.input,t.name)}else if(e.type===c.BGP)e.patterns=e.patterns.map(e=>(r&&(e.subject.equals(t)&&(e.subject=r),e.predicate.equals(t)&&(e.predicate=r),e.object.equals(t)&&(e.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t),e));else if(e.type===c.PATH){const n=e;r&&(n.subject.equals(t)&&(n.subject=r),n.object.equals(t)&&(n.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t)}else if(e.type!==c.PROJECT||r)if(e.type!==c.EXTEND||r)for(let n of Object.keys(e))Array.isArray(e[n])?e[n]=e[n].map(e=>j(e,t,r)):O.indexOf(e[n].type)>=0?e[n]=j(e[n],t,r):r&&m(e[n])&&e[n].equals(t)&&(e[n]=r);else{const n=e;n.variable.equals(t)&&(r=v()),n.input=j(n.input,t,r)}else{const n=e;n.variables.some(e=>e.equals(t))||(r=v()),n.input=j(n.input,t,r)}return e}function T(e,t){if("optional"===t.type){let r=y({type:"group",patterns:t.patterns});if(r.type===c.FILTER){let t=r;e=l.createLeftJoin(e,t.input,t.expression)}else e=l.createLeftJoin(e,r)}else if("minus"===t.type){let r=y({type:"group",patterns:t.patterns});e=l.createMinus(e,r)}else if("bind"===t.type)e=l.createExtend(e,t.variable,g(t.expression));else if("service"===t.type){t.type="group",e=S(e,l.createService(y(t),t.name,t.silent))}else{e=S(e,y(t))}return e}function S(e,t){return e.type===c.BGP&&t.type===c.BGP?e=l.createBgp([].concat(e.patterns,t.patterns)):e.type===c.BGP&&0===e.patterns.length?e=t:t.type===c.BGP&&0===t.patterns.length||(e=l.createJoin(e,t)),e}function x(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(l.createTerm.bind(l)),r=e.values.map(e=>{let t=Object.keys(e);t=t.filter(t=>void 0!==e[t]);let r={};for(let n of t)r[n]=e[n];return r});return l.createValues(t,r)}function E(e,t){if(!e)return e;if("aggregate"===e.type){let r,n=!1;for(let i of Object.keys(t))if(s(t[i],e)){r=l.createTerm(i),n=!0;break}return n||(r=v(),t[a.termToString(r)]=e),r}return e.expression?e.expression=E(e.expression,t):e.args?E(e.args,t):Array.isArray(e)&&e.forEach((r,n)=>e[n]=E(r,t)),e}function A(e){if("insertdelete"===e.updateType||"deletewhere"===e.updateType||"delete"===e.updateType||"insert"===e.updateType)return function(e){if(!h)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let t,r=[],n=[];e.delete&&(r=o.default.flatten(e.delete.map(t=>q(t,e.graph))));e.insert&&(n=o.default.flatten(e.insert.map(t=>q(t,e.graph))));e.where&&e.where.length>0?(t=y({type:"group",patterns:e.where}),e.using?t=l.createFrom(t,e.using.default,e.using.named):e.graph&&(t=j(t,e.graph))):"deletewhere"===e.updateType&&r.length>0&&(t=l.createBgp(r));return l.createDeleteInsert(r.length>0?r:void 0,n.length>0?n:void 0,t)}(e);if("load"===e.type)return function(e){return l.createLoad(e.source,e.destination,e.silent)}(e);if("clear"===e.type||"create"===e.type||"drop"===e.type)return function(e){let t;t=e.graph.all?"ALL":e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.name;switch(e.type){case"clear":return l.createClear(t,e.silent);case"create":return l.createCreate(t,e.silent);case"drop":return l.createDrop(t,e.silent)}}(e);if("add"===e.type||"copy"===e.type||"move"===e.type)return function(e){const t=e.source.default?"DEFAULT":e.source.name,r=e.destination.default?"DEFAULT":e.destination.name;switch(e.type){case"copy":return l.createCopy(t,r,e.silent);case"move":return l.createMove(t,r,e.silent);case"add":return l.createAdd(t,r,e.silent)}}(e);throw new Error("Unknown update type "+e.updateType)}function q(e,t){let r=t;"graph"===e.type&&(r=e.name);let n=e.triples;return r&&(n=n.map(e=>Object.assign(e,{graph:r}))),n.map(w)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=new(r(4).DataFactory);function i(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${i(e.subject)} ${i(e.predicate)} ${i(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+i(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function o(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function s(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function a(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function u(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=a(e),n=t.namedNode(s(e));return t.literal(o(e),r||n);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),n=[];let i=0,o=0;for(let t=0;t<r.length;t++){const s=r[t];if("<"===s&&i++,">"===s){if(0===i)throw new Error("Found closing tag without opening tag in "+e);i--}" "===s&&0===i&&(n.push(r.slice(o,t)),o=t+1)}if(0!==i)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(o,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return t.quad(u(n[0]),u(n[1]),u(n[2]),n[3]?u(n[3]):void 0)}return t.namedNode(e)}}t.termToString=i,t.getLiteralValue=o,t.getLiteralType=s,t.getLiteralLanguage=a,t.stringToTerm=u,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(u(e.subject,t),u(e.predicate,t),u(e.object,t),u(e.graph,t))}},function(e,t,r){(function(e,n){var i=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],n=[2,209],i=[107,117,120,122,123,132,133,138,322,323,324,325,326],o=[1,20],s=[1,29],a=[6,90],u=[45,46,58],c=[45,58],l=[1,58],d=[1,60],p=[1,56],h=[1,59],f=[1,65],m=[1,66],y=[26,34,35],g=[13,16,312],b=[119,141,320,327],_=[13,16,119,141,312],v=[1,88],w=[1,92],O=[1,94],j=[119,141,320,321,327],T=[13,16,119,141,312,321],S=[1,100],x=[2,251],E=[1,99],A=[13,16,34,35,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],q=[6,45,46,58,68,75,78,86,88,90],P=[6,13,16,34,45,46,58,68,75,78,86,88,90,312],R=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,330,331,333,334,335,336,337,338,339,340],I=[34,35,45,46,58],N=[13,16,34,35,87,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,340,341,342,343,344,345],D=[2,454],k=[1,123],L=[1,117],M=[1,124],B=[1,125],C=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],F=[2,310],Q=[1,142],U=[1,140],V=[6,191],z=[2,327],G=[2,315],H=[45,135],X=[6,48,78,86,88,90],$=[2,255],K=[1,156],Y=[1,158],J=[6,48,75,78,86,88,90],W=[2,253],Z=[1,164],ee=[1,176],te=[1,174],re=[1,184],ne=[1,182],ie=[1,175],oe=[1,180],se=[1,181],ae=[1,185],ue=[1,186],ce=[1,189],le=[1,190],de=[1,191],pe=[1,192],he=[1,193],fe=[1,194],me=[1,195],ye=[1,196],ge=[1,197],be=[1,198],_e=[1,199],ve=[6,68,75,78,86,88,90],we=[37,38,191,250,278],Oe=[37,38,191,250,254,278],je=[37,38,191,250,254,258,273,278,295,306,307,308,309,310,311,334,335,336,337,338,339,340],Te=[26,37,38,191,250,254,258,273,278,295,306,307,308,309,310,311,331,334,335,336,337,338,339,340],Se=[1,229],xe=[1,230],Ee=[1,232],Ae=[1,233],qe=[1,234],Pe=[1,235],Re=[1,237],Ie=[1,238],Ne=[2,461],De=[1,240],ke=[1,241],Le=[1,242],Me=[1,248],Be=[1,243],Ce=[1,244],Fe=[1,245],Qe=[1,246],Ue=[1,247],Ve=[13,16,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],ze=[48,93],Ge=[34,38],He=[6,116,191],Xe=[48,119],$e=[6,48,86,88,90],Ke=[2,339],Ye=[2,331],Je=[1,293],We=[1,295],Ze=[48,119,328],et=[13,16,34,195,312],tt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],rt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340],nt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,273,278,295,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340],it=[13,16,34,35,87,219,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,334,340,341,342,343,344,345],ot=[1,329],st=[1,330],at=[1,332],ut=[1,331],ct=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344,345],lt=[1,340],dt=[1,339],pt=[35,93],ht=[1,353],ft=[1,354],mt=[1,367],yt=[6,48,90],gt=[6,13,16,35,48,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,340,341,342,343,344,345],bt=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,226,231,245,246,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,340,341,342,343,344,345],_t=[46,48,90,119,167,168,170,173,174],vt=[1,386],wt=[1,387],Ot=[1,393],jt=[1,392],Tt=[48,119,191,227,328],St=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],xt=[13,16,34,35,38,48,87,93,119,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Et=[13,16,26,34,35,87,219,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,334,340,341,342,343,344,345],At=[13,16,38,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],qt=[35,48],Pt=[2,330],Rt=[1,451],It=[1,448],Nt=[1,449],Dt=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,329,331,334,335,336,337,338,339,340,341,342,343,344,345],kt=[13,16,35,195,219,224,312],Lt=[2,387],Mt=[1,469],Bt=[46,48,90,119,167,168,170,173,174,328],Ct=[13,16,34,35,195,219,224,312],Ft=[6,13,16,34,35,48,75,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,340,341,342,343,344,345],Qt=[13,16,34,35,38,48,87,93,119,191,195,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Ut=[6,13,16,34,35,48,81,83,86,88,90,275,276,277,279,281,282,284,285,288,290,312,340,341,342,343,344,345],Vt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],zt=[13,16,34,312],Gt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Ht=[2,342],Xt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$t=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Kt=[2,337],Yt=[13,16,35,195,219,312],Jt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Wt=[13,16,38,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Zt=[46,48,90,119,167,168,170,173,174,191,227,328],er=[13,16,34,38,48,87,100,195,231,235,299,300,301,302,303,304,305,306,307,308,309,310,311,312],tr=[13,16,34,35,48,87,93,119,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],rr=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331],nr=[13,16,26,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331,333,334],ir=[1,630],or=[1,631],sr=[2,325],ar=[13,16,38,195,224,312],ur={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,ObjectListPath:198,ObjectListPath_repetition0:199,GraphNodePath:200,TriplesSameSubjectPath_group0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,PropertyListPathNotEmpty_group0:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmpty_repetition1:207,PropertyListPathNotEmptyTail:208,PropertyListPathNotEmptyTail_group0:209,Path:210,Path_repetition0:211,PathSequence:212,PathSequence_repetition0:213,PathEltOrInverse:214,PathElt:215,PathPrimary:216,PathElt_option0:217,PathEltOrInverse_option0:218,"!":219,PathNegatedPropertySet:220,PathOneInPropertySet:221,PathNegatedPropertySet_repetition0:222,PathNegatedPropertySet_option0:223,"^":224,TriplesNode_repetition_plus0:225,"[":226,"]":227,TriplesNodePath_repetition_plus0:228,GraphNode_group0:229,GraphNodePath_group0:230,"<<":231,VarTriple_group0:232,VarTriple_group1:233,VarTriple_group2:234,">>":235,VarTriple_group3:236,VarTriple_group4:237,ConstTriple_group0:238,ConstTriple_group1:239,ConstTriple_group2:240,ConstTriple_group3:241,ConstTriple_group4:242,VarOrTerm:243,Term:244,BLANK_NODE_LABEL:245,ANON:246,ConditionalAndExpression:247,Expression_repetition0:248,ExpressionTail:249,"||":250,RelationalExpression:251,ConditionalAndExpression_repetition0:252,ConditionalAndExpressionTail:253,"&&":254,AdditiveExpression:255,RelationalExpression_group0:256,RelationalExpression_option0:257,IN:258,MultiplicativeExpression:259,AdditiveExpression_repetition0:260,AdditiveExpressionTail:261,AdditiveExpressionTail_group0:262,NumericLiteralPositive:263,AdditiveExpressionTail_repetition0:264,NumericLiteralNegative:265,AdditiveExpressionTail_repetition1:266,UnaryExpression:267,MultiplicativeExpression_repetition0:268,MultiplicativeExpressionTail:269,MultiplicativeExpressionTail_group0:270,UnaryExpression_option0:271,PrimaryExpression:272,"-":273,Aggregate:274,FUNC_ARITY0:275,FUNC_ARITY1:276,FUNC_ARITY2:277,",":278,IF:279,BuiltInCall_group0:280,BOUND:281,BNODE:282,BuiltInCall_option0:283,EXISTS:284,COUNT:285,Aggregate_option0:286,Aggregate_group0:287,FUNC_AGGREGATE:288,Aggregate_option1:289,GROUP_CONCAT:290,Aggregate_option2:291,Aggregate_option3:292,GroupConcatSeparator:293,SEPARATOR:294,"=":295,String:296,LANGTAG:297,"^^":298,DECIMAL:299,DOUBLE:300,BOOLEAN:301,STRING_LITERAL1:302,STRING_LITERAL2:303,STRING_LITERAL_LONG1:304,STRING_LITERAL_LONG2:305,INTEGER_POSITIVE:306,DECIMAL_POSITIVE:307,DOUBLE_POSITIVE:308,INTEGER_NEGATIVE:309,DECIMAL_NEGATIVE:310,DOUBLE_NEGATIVE:311,PNAME_LN:312,QueryOrUpdate_group0_option0:313,Prologue_repetition0_group0:314,SelectClauseBase_option0_group0:315,DISTINCT:316,REDUCED:317,DescribeQuery_group0_repetition_plus0_group0:318,DescribeQuery_group0_repetition_plus0:319,NAMED:320,SILENT:321,CLEAR:322,DROP:323,ADD:324,MOVE:325,COPY:326,ALL:327,".":328,UNION:329,"|":330,"/":331,PathElt_option0_group0:332,"?":333,"+":334,"!=":335,"<":336,">":337,"<=":338,">=":339,NOT:340,CONCAT:341,COALESCE:342,SUBSTR:343,REGEX:344,REPLACE:345,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",219:"!",224:"^",226:"[",227:"]",231:"<<",235:">>",245:"BLANK_NODE_LABEL",246:"ANON",250:"||",254:"&&",258:"IN",273:"-",275:"FUNC_ARITY0",276:"FUNC_ARITY1",277:"FUNC_ARITY2",278:",",279:"IF",281:"BOUND",282:"BNODE",284:"EXISTS",285:"COUNT",288:"FUNC_AGGREGATE",290:"GROUP_CONCAT",294:"SEPARATOR",295:"=",297:"LANGTAG",298:"^^",299:"DECIMAL",300:"DOUBLE",301:"BOOLEAN",302:"STRING_LITERAL1",303:"STRING_LITERAL2",304:"STRING_LITERAL_LONG1",305:"STRING_LITERAL_LONG2",306:"INTEGER_POSITIVE",307:"DECIMAL_POSITIVE",308:"DOUBLE_POSITIVE",309:"INTEGER_NEGATIVE",310:"DECIMAL_NEGATIVE",311:"DOUBLE_NEGATIVE",312:"PNAME_LN",316:"DISTINCT",317:"REDUCED",320:"NAMED",321:"SILENT",322:"CLEAR",323:"DROP",324:"ADD",325:"MOVE",326:"COPY",327:"ALL",328:".",329:"UNION",330:"|",331:"/",333:"?",334:"+",335:"!=",336:"<",337:">",338:"<=",339:">=",340:"NOT",341:"CONCAT",342:"COALESCE",343:"SUBSTR",344:"REGEX",345:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[198,2],[164,2],[164,2],[202,4],[208,1],[208,3],[210,2],[212,2],[215,2],[214,2],[216,1],[216,1],[216,2],[216,3],[220,1],[220,1],[220,4],[221,1],[221,1],[221,2],[221,2],[185,3],[185,3],[203,3],[203,3],[197,1],[197,1],[200,1],[200,1],[39,9],[39,5],[99,9],[99,5],[243,1],[243,1],[244,1],[244,1],[244,1],[244,1],[244,1],[36,2],[249,2],[247,2],[253,2],[251,1],[251,3],[251,4],[255,2],[261,2],[261,2],[261,2],[259,2],[269,2],[267,2],[267,2],[267,2],[272,1],[272,1],[272,1],[272,1],[272,1],[272,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[274,5],[274,5],[274,6],[293,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[296,1],[296,1],[296,1],[296,1],[263,1],[263,1],[263,1],[265,1],[265,1],[265,1],[60,1],[60,1],[60,1],[313,0],[313,1],[5,1],[5,1],[314,1],[314,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[315,1],[315,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[318,1],[318,1],[319,1],[319,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[199,0],[199,3],[201,1],[201,1],[204,0],[204,1],[205,1],[205,1],[206,0],[206,3],[207,0],[207,2],[209,1],[209,1],[211,0],[211,3],[213,0],[213,3],[332,1],[332,1],[332,1],[217,0],[217,1],[218,0],[218,1],[222,0],[222,3],[223,0],[223,1],[225,1],[225,2],[228,1],[228,2],[229,1],[229,1],[230,1],[230,1],[232,1],[232,1],[233,1],[233,1],[234,1],[234,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[241,1],[241,1],[242,1],[242,1],[248,0],[248,2],[252,0],[252,2],[256,1],[256,1],[256,1],[256,1],[256,1],[256,1],[257,0],[257,1],[260,0],[260,2],[262,1],[262,1],[264,0],[264,2],[266,0],[266,2],[268,0],[268,2],[270,1],[270,1],[271,0],[271,1],[280,1],[280,1],[280,1],[280,1],[280,1],[283,0],[283,1],[286,0],[286,1],[287,1],[287,1],[289,0],[289,1],[291,0],[291,1],[292,0],[292,1]],performAction:function(e,t,r,n,i,o,s){var a,u,c,l,d=o.length-1;switch(i){case 1:if(o[d-1]=o[d-1]||{},tn.base&&(o[d-1].base=tn.base),tn.base="",o[d-1].prefixes=tn.prefixes,tn.prefixes=null,"update"===o[d-1].type){const e={};for(const t of o[d-1].updates)if("insert"===t.updateType){const r={};for(const e of t.insert)if("bgp"===e.type||"graph"===e.type)for(const t of e.triples)"BlankNode"===t.subject.termType&&(r[t.subject.value]=!0),"BlankNode"===t.predicate.termType&&(r[t.predicate.value]=!0),"BlankNode"===t.object.termType&&(r[t.object.value]=!0);for(const t of Object.keys(r)){if(e[t])throw new Error("Detected reuse blank node across different INSERT DATA clauses");e[t]=!0}}}return o[d-1];case 3:this.$=Tr(o[d-1],o[d],{type:"query"});break;case 4:tn.base=xr(o[d]);break;case 5:tn.prefixes||(tn.prefixes={}),o[d-1]=o[d-1].substr(0,o[d-1].length-1),o[d]=xr(o[d]),tn.prefixes[o[d-1]]=o[d];break;case 6:this.$=Tr(o[d-3],Ir(o[d-2]),o[d-1],o[d]);break;case 7:if(!tn.skipValidation){if($r(o[d-3].variables.map(e=>Hr(e.expression))).some(e=>"count"===e.aggregation&&!(e.expression instanceof cr))||o[d].group)for(const e of o[d-3].variables)if("Variable"===e.termType){if(!o[d].group||!o[d].group.map(e=>Gr(e)).includes(Gr(e)))throw Error("Projection of ungrouped variable (?"+Gr(e)+")")}else if(0===Hr(e.expression).length){const t=Xr(e.expression);for(const e of t)if(!o[d].group||!o[d].group.map||!o[d].group.map(e=>Gr(e)).includes(Gr(e)))throw Error("Use of ungrouped variable in projection of operation (?"+Gr(e)+")")}}const e=o[d-1].where.filter(e=>"query"===e.type);if(e.length>0){const t=o[d-3].variables.filter(e=>e.variable&&e.variable.value).map(e=>e.variable.value),r=$r(e.map(e=>e.variables)).map(e=>e.value||e.variable.value);for(const e of t)if(r.indexOf(e)>=0)throw Error("Target id of 'AS' (?"+e+") already used in subquery")}this.$=Tr(o[d-3],Ir(o[d-2]),o[d-1],o[d]);break;case 8:this.$=Tr(o[d-1],{variables:[new cr]});break;case 9:const t=function(e){const t=e.slice().sort(),r=[];for(let e=0;e<t.length-1;e++)t[e+1]==t[e]&&r.push(t[e]);return r}(o[d].map(e=>e.value||e.variable.value));if(t.length>0)throw Error("Two or more of the resulting columns have the same name (?"+t[0]+")");this.$=Tr(o[d-1],{variables:o[d]});break;case 10:this.$=Tr({queryType:"SELECT"},o[d]&&(o[d-1]=wr(o[d]),o[d]={},o[d][o[d-1]]=!0,o[d]));break;case 11:case 12:this.$=Tr(o[d-3],o[d-2],o[d-1],o[d],{type:"query"});break;case 13:case 100:case 137:case 165:this.$=Er(o[d]);break;case 14:case 28:this.$=qr(o[d-3],{variable:Er(o[d-1])});break;case 15:this.$=Jr(qr(o[d-3],{variable:Er(o[d-1])}));break;case 16:this.$=Tr({queryType:"CONSTRUCT",template:o[d-3]},Ir(o[d-2]),o[d-1],o[d]);break;case 17:this.$=Tr({queryType:"CONSTRUCT",template:o[d-2]=o[d-2]?o[d-2].triples:[]},Ir(o[d-5]),{where:[{type:"bgp",triples:jr([],o[d-2])}]},o[d]);break;case 18:this.$=Tr({queryType:"DESCRIBE",variables:"*"===o[d-3]?[new cr]:o[d-3].map(Er)},Ir(o[d-2]),o[d-1],o[d]);break;case 19:this.$=Tr({queryType:"ASK"},Ir(o[d-2]),o[d-1],o[d]);break;case 20:case 61:this.$={iri:o[d],named:!!o[d-1]};break;case 21:this.$={where:o[d].patterns};break;case 22:this.$=Tr(o[d-1],o[d]);break;case 23:this.$=Tr(o[d-2],o[d-1],o[d]);break;case 24:this.$={group:o[d]};break;case 25:case 26:case 32:case 34:this.$=qr(o[d]);break;case 27:this.$=qr(o[d-1]);break;case 29:case 35:this.$=qr(Er(o[d]));break;case 30:this.$={having:o[d]};break;case 31:this.$={order:o[d]};break;case 33:this.$=qr(o[d],{descending:!0});break;case 36:this.$={limit:Nr(o[d])};break;case 37:this.$={offset:Nr(o[d])};break;case 38:this.$={limit:Nr(o[d-2]),offset:Nr(o[d])};break;case 39:this.$={limit:Nr(o[d]),offset:Nr(o[d-2])};break;case 40:this.$={type:"values",values:o[d]};break;case 41:this.$=o[d-1].map((function(e){var t={};return t[o[d-3]]=e,t}));break;case 42:this.$=o[d-1].map((function(){return{}}));break;case 43:var p=o[d-4].length;o[d-4]=o[d-4].map(Er),this.$=o[d-1].map((function(e){if(e.length!==p)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<p;r++)t["?"+o[d-4][r].value]=e[r];return t}));break;case 46:this.$=Jr(o[d]);break;case 47:this.$=void 0;break;case 48:case 92:case 117:case 166:this.$=o[d-1];break;case 49:this.$={type:"update",updates:Or(o[d-2],o[d-1])};break;case 50:this.$=Tr({type:"load",silent:!!o[d-2],source:o[d-1]},o[d]&&{destination:o[d]});break;case 51:this.$={type:wr(o[d-2]),silent:!!o[d-1],graph:o[d]};break;case 52:this.$={type:wr(o[d-4]),silent:!!o[d-3],source:o[d-2],destination:o[d]};break;case 53:this.$={type:"create",silent:!!o[d-2],graph:{type:"graph",name:o[d]}};break;case 54:this.$={updateType:"insert",insert:Wr(o[d])};break;case 55:this.$={updateType:"delete",delete:Zr(Wr(o[d]))};break;case 56:this.$={updateType:"deletewhere",delete:Zr(o[d])};break;case 57:this.$=Tr({updateType:"insertdelete"},o[d-5],{insert:o[d-4]||[]},{delete:o[d-3]||[]},Ir(o[d-2],"using"),{where:o[d].patterns});break;case 58:this.$=Tr({updateType:"insertdelete"},o[d-5],{delete:o[d-4]||[]},{insert:o[d-3]||[]},Ir(o[d-2],"using"),{where:o[d].patterns});break;case 59:this.$=Zr(o[d]);break;case 60:case 63:case 157:case 180:this.$=o[d];break;case 62:this.$={graph:o[d]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:o[d]};break;case 67:this.$={},this.$[wr(o[d])]=!0;break;case 68:this.$=o[d-2]?Sr(o[d-1],[o[d-2]]):Sr(o[d-1]);break;case 69:var h=Tr(o[d-3]||{triples:[]},{type:"graph",name:Er(o[d-5])});this.$=o[d]?[h,o[d]]:[h];break;case 70:case 75:this.$={type:"bgp",triples:Sr(o[d-2],[o[d-1]])};break;case 71:this.$={type:"group",patterns:[o[d-1]]};break;case 72:for(const e of o[d-1].filter(e=>"bind"===e.type)){const t=o[d-1].indexOf(e),r=new Set;for(const e of o[d-1].slice(0,t))"group"!==e.type&&"bgp"!==e.type||Yr(e).forEach(e=>r.add(e));if(r.has(e.variable.value))throw Error("Variable used to bind is already bound (?"+e.variable.value+")")}this.$={type:"group",patterns:o[d-1]};break;case 73:this.$=o[d-1]?Sr([o[d-1]],o[d]):Sr(o[d]);break;case 74:this.$=o[d]?[o[d-2],o[d]]:o[d-2];break;case 76:o[d-1].length?this.$={type:"union",patterns:Sr(o[d-1].map(Dr),[Dr(o[d])])}:this.$=o[d];break;case 77:this.$=Tr(o[d],{type:"optional"});break;case 78:this.$=Tr(o[d],{type:"minus"});break;case 79:this.$=Tr(o[d],{type:"graph",name:Er(o[d-1])});break;case 80:this.$=Tr(o[d],{type:"service",name:Er(o[d-1]),silent:!!o[d-2]});break;case 81:this.$={type:"filter",expression:o[d]};break;case 82:this.$={type:"bind",variable:Er(o[d-1]),expression:o[d-3]};break;case 83:this.$=Jr({type:"bind",variable:Er(o[d-1]),expression:o[d-3]});break;case 88:this.$={type:"functionCall",function:o[d-1],args:[]};break;case 89:this.$={type:"functionCall",function:o[d-5],args:Or(o[d-2],o[d-1]),distinct:!!o[d-3]};break;case 90:case 108:case 119:case 209:case 217:case 219:case 231:case 233:case 243:case 247:case 267:case 269:case 273:case 277:case 300:case 306:case 317:case 327:case 333:case 339:case 343:case 353:case 355:case 359:case 367:case 371:case 373:case 381:case 383:case 387:case 389:case 398:case 430:case 432:case 442:case 446:case 448:case 450:this.$=[];break;case 91:this.$=Or(o[d-2],o[d-1]);break;case 93:this.$=Sr(o[d-2],[o[d-1]]);break;case 94:case 105:this.$=o[d].map((function(e){return Tr(Lr(o[d-1]),e)}));break;case 95:this.$=jr(o[d].map((function(e){return Tr(Lr(o[d-1].entity),e)})),o[d-1].triples);break;case 97:this.$=Sr([o[d-1]],o[d]);break;case 98:this.$=Sr(o[d]);break;case 99:this.$=zr(o[d-1],o[d]);break;case 102:case 115:case 122:this.$=tn.factory.namedNode(dr);break;case 103:case 104:this.$=Or(o[d-1],o[d]);break;case 106:this.$=o[d]?jr(o[d].map((function(e){return Tr(Lr(o[d-1].entity),e)})),o[d-1].triples):o[d-1].triples;break;case 107:this.$=zr(Er(o[d-3]),Or(o[d-2],o[d-1]),o[d]);break;case 109:this.$=zr(Er(o[d-1]),o[d]);break;case 110:this.$=o[d-1].length?Pr("|",Or(o[d-1],o[d])):o[d];break;case 111:this.$=o[d-1].length?Pr("/",Or(o[d-1],o[d])):o[d];break;case 112:this.$=o[d]?Pr(o[d],[o[d-1]]):o[d-1];break;case 113:this.$=o[d-1]?Pr(o[d-1],[o[d]]):o[d];break;case 116:case 123:this.$=Pr(o[d-1],[o[d]]);break;case 120:this.$=Pr("|",Or(o[d-2],o[d-1]));break;case 124:this.$=Pr(o[d-1],[tn.factory.namedNode(dr)]);break;case 125:case 127:this.$=function(e){var t=Mr(),r=t,n=[],i=[];e.forEach((function(e){n.push(e.entity),jr(i,e.triples)}));for(var o=0,s=0,a=n.length,u=Array(2*a);o<a;)u[s++]=Lr(r,tn.factory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),n[o]),u[s++]=Lr(r,tn.factory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),r=++o<a?Mr():tn.factory.namedNode(pr));return{entity:t,triples:jr(u,i)}}(o[d-1]);break;case 126:case 128:this.$=(c=o[d-1],{entity:l=Mr(),triples:c.map((function(e){return Tr(Lr(l),e)}))});break;case 129:case 131:this.$={entity:o[d],triples:[]};break;case 133:case 135:this.$=Jr(tn.factory.quad(o[d-4],o[d-3],o[d-2],Er(o[d-6])));break;case 134:case 136:this.$=Jr(tn.factory.quad(o[d-3],o[d-2],o[d-1]));break;case 141:this.$=Mr(o[d].replace(/^(_:)/,""));break;case 142:this.$=Mr();break;case 143:this.$=tn.factory.namedNode(pr);break;case 144:case 146:case 151:case 155:this.$=Rr(o[d-1],o[d]);break;case 145:this.$=["||",o[d]];break;case 147:this.$=["&&",o[d]];break;case 149:this.$=Ar(o[d-1],[o[d-2],o[d]]);break;case 150:this.$=Ar(o[d-2]?"notin":"in",[o[d-3],o[d]]);break;case 152:case 156:this.$=[o[d-1],o[d]];break;case 153:this.$=["+",Rr(o[d-1],o[d])];break;case 154:var f=kr(o[d-1].value.replace("-",""),o[d-1].datatype);this.$=["-",Rr(f,o[d])];break;case 158:this.$=Ar(o[d-1],[o[d]]);break;case 159:this.$=Ar("UMINUS",[o[d]]);break;case 168:this.$=Ar(wr(o[d-1]));break;case 169:this.$=Ar(wr(o[d-3]),[o[d-1]]);break;case 170:this.$=Ar(wr(o[d-5]),[o[d-3],o[d-1]]);break;case 171:this.$=Ar(wr(o[d-7]),[o[d-5],o[d-3],o[d-1]]);break;case 172:this.$=Ar(wr(o[d-1]),o[d]);break;case 173:this.$=Ar("bound",[Er(o[d-1])]);break;case 174:this.$=Ar(o[d-1],[]);break;case 175:this.$=Ar(o[d-3],[o[d-1]]);break;case 176:this.$=Ar(o[d-2]?"notexists":"exists",[Dr(o[d])]);break;case 177:case 178:this.$=qr(o[d-1],{type:"aggregate",aggregation:wr(o[d-4]),distinct:!!o[d-2]});break;case 179:this.$=qr(o[d-2],{type:"aggregate",aggregation:wr(o[d-5]),distinct:!!o[d-3],separator:o[d-1]||" "});break;case 181:this.$=kr(o[d]);break;case 182:this.$=(a=o[d-1],u=wr(o[d].substr(1)),tn.factory.literal(a,u));break;case 183:this.$=kr(o[d-2],o[d]);break;case 184:case 197:this.$=kr(o[d],fr);break;case 185:case 198:this.$=kr(o[d],mr);break;case 186:case 199:this.$=kr(wr(o[d]),yr);break;case 189:this.$=kr(o[d].toLowerCase(),gr);break;case 190:case 191:this.$=Vr(o[d],1);break;case 192:case 193:this.$=Vr(o[d],3);break;case 194:this.$=kr(o[d].substr(1),fr);break;case 195:this.$=kr(o[d].substr(1),mr);break;case 196:this.$=kr(o[d].substr(1).toLowerCase(),yr);break;case 200:this.$=tn.factory.namedNode(xr(o[d]));break;case 201:var m=o[d].indexOf(":"),y=o[d].substr(0,m),g=tn.prefixes[y];if(!g)throw new Error("Unknown prefix: "+y);var b=xr(g+o[d].substr(m+1));this.$=tn.factory.namedNode(b);break;case 202:if(o[d]=o[d].substr(0,o[d].length-1),!(o[d]in tn.prefixes))throw new Error("Unknown prefix: "+o[d]);b=xr(tn.prefixes[o[d]]);this.$=tn.factory.namedNode(b);break;case 210:case 218:case 220:case 222:case 232:case 234:case 240:case 244:case 248:case 262:case 264:case 266:case 268:case 270:case 272:case 274:case 276:case 301:case 307:case 318:case 334:case 368:case 384:case 403:case 405:case 431:case 433:case 443:case 447:case 449:case 451:o[d-1].push(o[d]);break;case 221:case 239:case 261:case 263:case 265:case 271:case 275:case 402:case 404:this.$=[o[d]];break;case 278:o[d-3].push(o[d-2]);break;case 328:case 340:case 344:case 354:case 356:case 360:case 372:case 374:case 382:case 388:case 390:case 399:o[d-2].push(o[d-1])}},table:[e(t,n,{3:1,4:2,7:3}),{1:[3]},e(i,[2,277],{5:4,8:5,313:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,203],28:o,41:[1,16],50:[1,17],55:[1,18]}),e([6,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],[2,2],{314:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,205]},{6:[2,206]},{6:[2,215],10:27,89:28,90:s},{6:[2,204]},e(a,[2,211]),e(a,[2,212]),e(a,[2,213]),e(a,[2,214]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,302],133:[2,296],137:45,138:[1,46],322:[1,40],323:[1,41],324:[1,42],325:[1,43],326:[1,44]},e(u,[2,217],{19:47}),e(u,[2,219],{23:48}),e(c,[2,233],{42:49,44:50,46:[1,51]}),{13:l,16:d,26:[1,54],34:p,51:52,60:57,312:h,318:55,319:53},e(u,[2,247],{56:61}),{26:[1,62],27:63,33:64,34:f,35:m},e(y,[2,225],{29:67,315:68,316:[1,69],317:[1,70]}),e(t,[2,210]),e(t,[2,207]),e(t,[2,208]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,216]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,279],106:77,191:[1,78]},e(g,[2,281],{108:79,321:[1,80]}),e(b,[2,287],{111:81,321:[1,82]}),e(_,[2,292],{114:83,321:[1,84]}),{118:85,119:[2,294],321:[1,86]},{46:v,121:87},{46:v,121:89},{46:v,121:90},{125:91,133:w},{129:93,132:O},e(j,[2,285]),e(j,[2,286]),e(T,[2,289]),e(T,[2,290]),e(T,[2,291]),{132:[2,303],133:[2,297]},{13:l,16:d,60:95,312:h},{20:96,45:S,46:x,57:97,58:E,61:98},{20:101,45:S,46:x,57:102,58:E,61:98},e(u,[2,231],{43:103}),{45:[1,104],57:105,58:E},e(A,[2,359],{179:106,180:107,181:108,48:[2,357]}),e(q,[2,243],{52:109}),e(q,[2,241],{60:57,318:110,13:l,16:d,34:p,312:h}),e(q,[2,242]),e(P,[2,239]),e(P,[2,237]),e(P,[2,238]),e(R,[2,200]),e(R,[2,201]),e(R,[2,202]),{20:111,45:S,46:x,57:112,58:E,61:98},e(u,[2,8]),e(u,[2,9],{33:113,34:f,35:m}),e(I,[2,221]),e(I,[2,13]),e(N,D,{36:114,39:115,247:116,251:118,255:119,259:120,267:121,271:122,219:k,231:L,273:M,334:B}),e(y,[2,10]),e(y,[2,226]),e(y,[2,223]),e(y,[2,224]),e(t,[2,4]),{13:[1,126]},e(C,[2,40]),{46:[1,127]},{46:[1,128]},{34:[1,130],95:129},{6:[2,49]},e(t,n,{7:3,4:131}),{13:l,16:d,60:132,312:h},e(g,[2,282]),{112:133,119:[1,134],141:[1,136],143:135,320:[1,137],327:[1,138]},e(b,[2,288]),e(g,F,{115:139,142:141,119:Q,141:U}),e(_,[2,293]),{119:[1,143]},{119:[2,295]},e(V,[2,54]),e(A,z,{144:144,151:145,152:146,48:G,119:G}),e(V,[2,55]),e(V,[2,56]),e(H,[2,298],{126:147,129:148,132:O}),{46:v,121:149},e(H,[2,304],{130:150,125:151,133:w}),{46:v,121:152},e([132,133],[2,62]),e(X,$,{21:153,64:154,74:155,75:K}),e(u,[2,218]),{46:Y,62:157},e(g,[2,249],{59:159,320:[1,160]}),{46:[2,252]},e(J,W,{24:161,63:162,67:163,68:Z}),e(u,[2,220]),{20:165,45:S,46:x,57:166,58:E,61:98},{46:[1,167]},e(c,[2,234]),{48:[1,168]},{48:[2,358]},{13:l,16:d,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:169,183:170,185:171,226:ie,231:L,243:172,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(ve,[2,245],{61:98,53:200,57:201,20:202,45:S,46:x,58:E}),e(P,[2,240]),e(J,W,{63:162,67:163,24:203,68:Z}),e(u,[2,248]),e(I,[2,222]),{37:[1,204]},{37:[1,205]},e(we,[2,430],{248:206}),{13:l,16:d,34:ee,39:209,60:178,87:re,93:ne,98:179,119:[1,207],231:L,236:208,243:210,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(Oe,[2,432],{252:211}),e(Oe,[2,148],{256:212,257:213,258:[2,440],295:[1,214],335:[1,215],336:[1,216],337:[1,217],338:[1,218],339:[1,219],340:[1,220]}),e(je,[2,442],{260:221}),e(Te,[2,450],{268:222}),{13:l,16:d,34:Se,35:xe,60:226,72:225,73:227,82:224,87:re,98:228,263:187,265:188,272:223,274:231,275:Ee,276:Ae,277:qe,279:Pe,280:236,281:Re,282:Ie,283:239,284:Ne,285:De,288:ke,290:Le,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue},{13:l,16:d,34:Se,35:xe,60:226,72:225,73:227,82:224,87:re,98:228,263:187,265:188,272:249,274:231,275:Ee,276:Ae,277:qe,279:Pe,280:236,281:Re,282:Ie,283:239,284:Ne,285:De,288:ke,290:Le,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue},{13:l,16:d,34:Se,35:xe,60:226,72:225,73:227,82:224,87:re,98:228,263:187,265:188,272:250,274:231,275:Ee,276:Ae,277:qe,279:Pe,280:236,281:Re,282:Ie,283:239,284:Ne,285:De,288:ke,290:Le,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue},e(N,[2,455]),e(t,[2,5]),e(Ve,[2,267],{92:251}),e(ze,[2,269],{94:252}),{34:[1,254],38:[1,253]},e(Ge,[2,271]),e(i,[2,278],{6:[2,280]}),e(V,[2,283],{109:255,139:256,140:[1,257]}),e(V,[2,51]),{13:l,16:d,60:258,312:h},e(V,[2,67]),e(V,[2,312]),e(V,[2,313]),e(V,[2,314]),{116:[1,259]},e(He,[2,64]),{13:l,16:d,60:260,312:h},e(g,[2,311]),{13:l,16:d,60:261,312:h},e(Xe,[2,317],{145:262}),e(Xe,[2,316]),{13:l,16:d,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:263,183:170,185:171,226:ie,231:L,243:172,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(H,[2,300],{127:264}),e(H,[2,299]),e([45,132,135],[2,60]),e(H,[2,306],{131:265}),e(H,[2,305]),e([45,133,135],[2,59]),e(a,[2,6]),e($e,[2,257],{65:266,77:267,78:[1,268]}),e(X,[2,256]),{13:l,16:d,35:xe,60:274,72:272,73:273,76:269,82:271,84:270,274:231,275:Ee,276:Ae,277:qe,279:Pe,280:236,281:Re,282:Ie,283:239,284:Ne,285:De,288:ke,290:Le,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue},e([6,48,68,75,78,86,88,90],[2,21]),e(A,Ke,{25:19,30:275,155:276,18:277,22:278,156:279,162:280,163:281,28:o,46:Ye,48:Ye,90:Ye,119:Ye,167:Ye,168:Ye,170:Ye,173:Ye,174:Ye}),{13:l,16:d,60:282,312:h},e(g,[2,250]),e(a,[2,7]),e(X,$,{64:154,74:155,21:283,75:K}),e(J,[2,254]),{69:[1,284]},e(J,W,{63:162,67:163,24:285,68:Z}),e(u,[2,232]),e(A,z,{152:146,47:286,151:287,48:[2,235]}),e(u,[2,92]),{48:[2,361],182:288,328:[1,289]},{13:l,16:d,34:Je,60:294,184:290,188:291,193:292,195:We,312:h},e(Ze,[2,365],{188:291,193:292,60:294,186:296,187:297,184:298,13:l,16:d,34:Je,195:We,312:h}),e(et,[2,363]),e(et,[2,364]),{13:l,16:d,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:300,225:299,226:ie,229:301,231:L,243:303,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},{13:l,16:d,34:Je,60:294,184:305,188:291,193:292,195:We,312:h},e(tt,[2,137]),e(tt,[2,138]),e(tt,[2,139]),e(tt,[2,140]),e(tt,[2,141]),e(tt,[2,142]),e(tt,[2,143]),e(rt,[2,181],{297:[1,306],298:[1,307]}),e(rt,[2,184]),e(rt,[2,185]),e(rt,[2,186]),e(rt,[2,187]),e(rt,[2,188]),e(rt,[2,189]),e(nt,[2,190]),e(nt,[2,191]),e(nt,[2,192]),e(nt,[2,193]),e(rt,[2,194]),e(rt,[2,195]),e(rt,[2,196]),e(rt,[2,197]),e(rt,[2,198]),e(rt,[2,199]),e(J,W,{63:162,67:163,24:308,68:Z}),e(q,[2,244]),e(ve,[2,246]),e(a,[2,19]),{34:[1,309]},{34:[1,310]},e([37,38,191,278],[2,144],{249:311,250:[1,312]}),{13:l,16:d,34:[1,314],60:315,232:313,312:h},{13:l,16:d,34:Je,60:294,193:316,195:We,312:h},e(et,[2,416]),e(et,[2,417]),e(we,[2,146],{253:317,254:[1,318]}),e(N,D,{259:120,267:121,271:122,255:319,219:k,273:M,334:B}),{258:[1,320]},e(it,[2,434]),e(it,[2,435]),e(it,[2,436]),e(it,[2,437]),e(it,[2,438]),e(it,[2,439]),{258:[2,441]},e([37,38,191,250,254,258,278,295,335,336,337,338,339,340],[2,151],{261:321,262:322,263:323,265:324,273:[1,326],306:fe,307:me,308:ye,309:ge,310:be,311:_e,334:[1,325]}),e(je,[2,155],{269:327,270:328,26:ot,331:st}),e(Te,[2,157]),e(Te,[2,160]),e(Te,[2,161]),e(Te,[2,162],{35:at,93:ut}),e(Te,[2,163]),e(Te,[2,164]),e(Te,[2,165]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:333,219:k,273:M,334:B}),e(ct,[2,167]),{93:[1,334]},{35:[1,335]},{35:[1,336]},{35:[1,337]},{35:lt,93:dt,177:338},{35:[1,341]},{35:[1,343],93:[1,342]},{284:[1,344]},{35:[1,345]},{35:[1,346]},{35:[1,347]},e(pt,[2,456]),e(pt,[2,457]),e(pt,[2,458]),e(pt,[2,459]),e(pt,[2,460]),{284:[2,462]},e(Te,[2,158]),e(Te,[2,159]),{13:l,16:d,48:[1,348],60:350,87:re,97:349,98:351,99:352,100:ht,231:ft,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},{48:[1,355],93:[1,356]},{46:[1,357]},e(Ge,[2,272]),e(V,[2,50]),e(V,[2,284]),{119:[1,358]},e(V,[2,66]),e(g,F,{142:141,115:359,119:Q,141:U}),e(He,[2,65]),e(V,[2,53]),{48:[1,360],119:[1,362],146:361},e(Xe,[2,329],{154:363,328:[1,364]}),{45:[1,365],134:366,135:mt},{45:[1,368],134:369,135:mt},e(yt,[2,259],{66:370,85:371,86:[1,372],88:[1,373]}),e($e,[2,258]),{69:[1,374]},e(X,[2,30],{274:231,280:236,283:239,82:271,72:272,73:273,60:274,84:375,13:l,16:d,35:xe,275:Ee,276:Ae,277:qe,279:Pe,281:Re,282:Ie,284:Ne,285:De,288:ke,290:Le,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue}),e(gt,[2,263]),e(bt,[2,85]),e(bt,[2,86]),e(bt,[2,87]),{35:at,93:ut},{48:[1,376]},{48:[1,377]},{20:378,45:S,46:x,61:98},{20:379,45:S,46:x,61:98},e(_t,[2,333],{157:380}),e(_t,[2,332]),{13:l,16:d,34:ee,35:vt,39:385,60:178,87:re,93:ne,98:179,164:381,201:382,203:383,226:wt,231:L,243:384,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(q,[2,20]),e(yt,[2,22]),{13:l,16:d,34:Ot,35:jt,60:274,70:388,71:389,72:390,73:391,274:231,275:Ee,276:Ae,277:qe,279:Pe,280:236,281:Re,282:Ie,283:239,284:Ne,285:De,288:ke,290:Le,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue},e(a,[2,16]),{48:[1,394]},{48:[2,236]},{48:[2,93]},e(A,[2,360],{48:[2,362]}),e(Ze,[2,94]),e(Tt,[2,367],{189:395}),e(A,[2,371],{194:396,196:397}),e(A,[2,100]),e(A,[2,101]),e(A,[2,102]),e(Ze,[2,95]),e(Ze,[2,96]),e(Ze,[2,366]),{13:l,16:d,34:ee,35:te,38:[1,398],39:304,60:178,87:re,93:ne,98:179,185:302,197:399,226:ie,229:301,231:L,243:303,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(St,[2,402]),e(xt,[2,129]),e(xt,[2,130]),e(xt,[2,406]),e(xt,[2,407]),{227:[1,400]},e(rt,[2,182]),{13:l,16:d,60:401,312:h},e(a,[2,18]),{38:[1,402]},{38:[1,403]},e(we,[2,431]),e(N,D,{251:118,255:119,259:120,267:121,271:122,247:404,219:k,273:M,334:B}),{46:[1,405]},{46:[2,410]},{46:[2,411]},{13:l,16:d,34:ee,39:407,60:178,87:re,93:ne,98:179,231:L,237:406,243:408,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(Oe,[2,433]),e(N,D,{255:119,259:120,267:121,271:122,251:409,219:k,273:M,334:B}),e(Oe,[2,149]),{35:lt,93:dt,177:410},e(je,[2,443]),e(N,D,{267:121,271:122,259:411,219:k,273:M,334:B}),e(Te,[2,446],{264:412}),e(Te,[2,448],{266:413}),e(it,[2,444]),e(it,[2,445]),e(Te,[2,451]),e(N,D,{271:122,267:414,219:k,273:M,334:B}),e(it,[2,452]),e(it,[2,453]),e(ct,[2,88]),e(it,[2,351],{175:415,316:[1,416]}),{38:[1,417]},e(ct,[2,168]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:418,219:k,273:M,334:B}),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:419,219:k,273:M,334:B}),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:420,219:k,273:M,334:B}),e(ct,[2,172]),e(ct,[2,90]),e(it,[2,355],{178:421}),{34:[1,422]},e(ct,[2,174]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:423,219:k,273:M,334:B}),{46:Y,62:424},e(Et,[2,463],{286:425,316:[1,426]}),e(it,[2,467],{289:427,316:[1,428]}),e(it,[2,469],{291:429,316:[1,430]}),e(C,[2,41]),e(Ve,[2,268]),e(At,[2,44]),e(At,[2,45]),e(At,[2,46]),e(At,[2,47]),{13:l,16:d,60:178,87:re,93:ne,98:179,99:433,119:[1,431],231:ft,241:432,244:434,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(C,[2,42]),e(ze,[2,270]),e(qt,[2,273],{96:435}),{13:l,16:d,60:436,312:h},e(V,[2,52]),e([6,45,132,133,135,191],[2,68]),e(Xe,[2,318]),{13:l,16:d,34:[1,438],60:439,147:437,312:h},e(Xe,[2,70]),e(A,[2,328],{48:Pt,119:Pt}),{46:Y,62:440},e(H,[2,301]),e(g,[2,308],{136:441,320:[1,442]}),{46:Y,62:443},e(H,[2,307]),e(yt,[2,23]),e(yt,[2,260]),{87:[1,444]},{87:[1,445]},{13:l,16:d,34:Rt,35:xe,60:274,72:272,73:273,79:446,80:447,81:It,82:271,83:Nt,84:450,274:231,275:Ee,276:Ae,277:qe,279:Pe,280:236,281:Re,282:Ie,283:239,284:Ne,285:De,288:ke,290:Le,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue},e(gt,[2,264]),e(Dt,[2,71]),e(Dt,[2,72]),e(X,$,{64:154,74:155,21:452,75:K}),e(J,W,{63:162,67:163,24:453,68:Z}),{46:[2,343],48:[2,73],89:463,90:s,119:[1,459],158:454,159:455,166:456,167:[1,457],168:[1,458],170:[1,460],173:[1,461],174:[1,462]},e(_t,[2,341],{165:464,328:[1,465]}),e(kt,Lt,{202:466,205:467,210:468,211:470,34:Mt}),e(Bt,[2,377],{205:467,210:468,211:470,204:471,202:472,13:Lt,16:Lt,35:Lt,195:Lt,219:Lt,224:Lt,312:Lt,34:Mt}),e(Ct,[2,375]),e(Ct,[2,376]),{13:l,16:d,34:ee,35:vt,39:478,60:178,87:re,93:ne,98:179,200:474,203:476,226:wt,228:473,230:475,231:L,243:477,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(kt,Lt,{205:467,210:468,211:470,202:479,34:Mt}),e(J,[2,24],{274:231,280:236,283:239,60:274,72:390,73:391,71:480,13:l,16:d,34:Ot,35:jt,275:Ee,276:Ae,277:qe,279:Pe,281:Re,282:Ie,284:Ne,285:De,288:ke,290:Le,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue}),e(Ft,[2,261]),e(Ft,[2,25]),e(Ft,[2,26]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:481,219:k,273:M,334:B}),e(Ft,[2,29]),e(J,W,{63:162,67:163,24:482,68:Z}),e([48,119,227,328],[2,97],{190:483,191:[1,484]}),e(Tt,[2,99]),{13:l,16:d,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:485,226:ie,229:301,231:L,243:303,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(Qt,[2,125]),e(St,[2,403]),e(Qt,[2,126]),e(rt,[2,183]),e(I,[2,14]),e(I,[2,15]),e(we,[2,145]),{13:l,16:d,34:ee,39:487,60:178,87:re,93:ne,98:179,231:L,233:486,243:488,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},{235:[1,489]},{235:[2,418]},{235:[2,419]},e(Oe,[2,147]),e(Oe,[2,150]),e(je,[2,152]),e(je,[2,153],{270:328,269:490,26:ot,331:st}),e(je,[2,154],{270:328,269:491,26:ot,331:st}),e(Te,[2,156]),e(it,[2,353],{176:492}),e(it,[2,352]),e([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344,345],[2,166]),{38:[1,493]},{278:[1,494]},{278:[1,495]},e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:496,219:k,273:M,334:B}),{38:[1,497]},{38:[1,498]},e(ct,[2,176]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,287:499,36:501,26:[1,500],219:k,273:M,334:B}),e(Et,[2,464]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:502,219:k,273:M,334:B}),e(it,[2,468]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:503,219:k,273:M,334:B}),e(it,[2,470]),{13:l,16:d,34:[1,505],60:506,238:504,312:h},{13:l,16:d,34:Je,60:294,193:507,195:We,312:h},e(et,[2,426]),e(et,[2,427]),{35:[1,510],48:[1,508],101:509},e(V,[2,63]),{46:[1,511]},{46:[2,319]},{46:[2,320]},e(V,[2,57]),{13:l,16:d,60:512,312:h},e(g,[2,309]),e(V,[2,58]),e(yt,[2,36],{88:[1,513]}),e(yt,[2,37],{86:[1,514]}),e($e,[2,31],{274:231,280:236,283:239,82:271,72:272,73:273,60:274,84:450,80:515,13:l,16:d,34:Rt,35:xe,81:It,83:Nt,275:Ee,276:Ae,277:qe,279:Pe,281:Re,282:Ie,284:Ne,285:De,288:ke,290:Le,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue}),e(Ut,[2,265]),{35:xe,82:516},{35:xe,82:517},e(Ut,[2,34]),e(Ut,[2,35]),{31:518,48:[2,227],89:519,90:s},{32:520,48:[2,229],89:521,90:s},e(_t,[2,334]),e(Vt,[2,335],{160:522,328:[1,523]}),{46:Y,62:524},{46:Y,62:525},{46:Y,62:526},{13:l,16:d,34:[1,528],60:529,169:527,312:h},e(zt,[2,347],{171:530,321:[1,531]}),{13:l,16:d,35:xe,60:274,72:272,73:273,82:271,84:532,274:231,275:Ee,276:Ae,277:qe,279:Pe,280:236,281:Re,282:Ie,283:239,284:Ne,285:De,288:ke,290:Le,312:h,340:Me,341:Be,342:Ce,343:Fe,344:Qe,345:Ue},{35:[1,533]},e(Gt,[2,84]),e(_t,[2,75]),e(A,[2,340],{46:Ht,48:Ht,90:Ht,119:Ht,167:Ht,168:Ht,170:Ht,173:Ht,174:Ht}),e(Bt,[2,105]),e(A,[2,381],{206:534}),e(A,[2,379]),e(A,[2,380]),e(kt,[2,389],{212:535,213:536}),e(Bt,[2,106]),e(Bt,[2,378]),{13:l,16:d,34:ee,35:vt,38:[1,537],39:478,60:178,87:re,93:ne,98:179,200:538,203:476,226:wt,230:475,231:L,243:477,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(St,[2,404]),e(Xt,[2,131]),e(Xt,[2,132]),e(Xt,[2,408]),e(Xt,[2,409]),{227:[1,539]},e(Ft,[2,262]),{37:[1,541],38:[1,540]},e(a,[2,17]),e(Tt,[2,368]),e(Tt,[2,369],{193:292,60:294,192:542,188:543,13:l,16:d,34:Je,195:We,312:h}),e(Tt,[2,103],{278:[1,544]}),{13:l,16:d,34:Je,60:294,193:545,195:We,312:h},e(et,[2,412]),e(et,[2,413]),e($t,[2,134]),e(Te,[2,447]),e(Te,[2,449]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:546,219:k,273:M,334:B}),e(ct,[2,169]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:547,219:k,273:M,334:B}),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:548,219:k,273:M,334:B}),{38:[1,549],278:[1,550]},e(ct,[2,173]),e(ct,[2,175]),{38:[1,551]},{38:[2,465]},{38:[2,466]},{38:[1,552]},{38:[2,471],191:[1,555],292:553,293:554},{46:[1,556]},{46:[2,420]},{46:[2,421]},{13:l,16:d,60:178,87:re,93:ne,98:179,99:558,231:ft,242:557,244:559,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(C,[2,43]),e(qt,[2,274]),{13:l,16:d,60:350,87:re,97:561,98:351,99:352,100:ht,102:560,231:ft,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(A,z,{152:146,148:562,151:563,48:[2,321]}),e(H,[2,61]),{87:[1,564]},{87:[1,565]},e(Ut,[2,266]),e(Ut,[2,32]),e(Ut,[2,33]),{48:[2,11]},{48:[2,228]},{48:[2,12]},{48:[2,230]},e(A,Ke,{163:281,161:566,162:567,46:Kt,48:Kt,90:Kt,119:Kt,167:Kt,168:Kt,170:Kt,173:Kt,174:Kt}),e(Vt,[2,336]),e(Gt,[2,76],{329:[1,568]}),e(Gt,[2,77]),e(Gt,[2,78]),{46:Y,62:569},{46:[2,345]},{46:[2,346]},{13:l,16:d,34:[1,571],60:572,172:570,312:h},e(zt,[2,348]),e(Gt,[2,81]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:573,39:574,219:k,231:L,273:M,334:B}),{13:l,16:d,34:ee,35:vt,39:478,60:178,87:re,93:ne,98:179,200:575,203:476,226:wt,230:475,231:L,243:477,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(St,[2,110],{330:[1,576]}),e(Yt,[2,396],{214:577,218:578,224:[1,579]}),e(Jt,[2,127]),e(St,[2,405]),e(Jt,[2,128]),e(Ft,[2,27]),{34:[1,580]},e(Tt,[2,98]),e(Tt,[2,370]),e(A,[2,372]),{13:l,16:d,34:ee,39:582,60:178,87:re,93:ne,98:179,231:L,234:581,243:583,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},{38:[1,584],278:[1,585]},{38:[1,586]},{278:[1,587]},e(ct,[2,91]),e(it,[2,356]),e(ct,[2,177]),e(ct,[2,178]),{38:[1,588]},{38:[2,472]},{294:[1,589]},{13:l,16:d,60:178,87:re,93:ne,98:179,99:591,231:ft,239:590,244:592,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},{235:[1,593]},{235:[2,428]},{235:[2,429]},{13:l,16:d,38:[1,594],60:350,87:re,97:595,98:351,99:352,100:ht,231:ft,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(Wt,[2,275]),{48:[1,596]},{48:[2,322]},e(yt,[2,38]),e(yt,[2,39]),e(_t,[2,74]),e(_t,[2,338]),{46:[2,344]},e(Gt,[2,79]),{46:Y,62:597},{46:[2,349]},{46:[2,350]},{37:[1,598]},{37:[1,599]},e(Zt,[2,383],{207:600,278:[1,601]}),e(kt,[2,388]),e([13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330],[2,111],{331:[1,602]}),{13:l,16:d,35:[1,608],60:605,195:[1,606],215:603,216:604,219:[1,607],312:h},e(Yt,[2,397]),{38:[1,609]},{48:[1,610]},{48:[2,414]},{48:[2,415]},e(ct,[2,89]),e(it,[2,354]),e(ct,[2,170]),e(N,D,{247:116,251:118,255:119,259:120,267:121,271:122,36:611,219:k,273:M,334:B}),e(ct,[2,179]),{295:[1,612]},{13:l,16:d,34:Je,60:294,193:613,195:We,312:h},e(et,[2,422]),e(et,[2,423]),e(er,[2,136]),e(qt,[2,48]),e(Wt,[2,276]),e(tr,[2,323],{149:614,328:[1,615]}),e(Gt,[2,80]),{34:[1,616]},{34:[1,617]},e([46,48,90,119,167,168,170,173,174,227,328],[2,107],{208:618,191:[1,619]}),e(A,[2,382]),e(kt,[2,390]),e(rr,[2,113]),e(rr,[2,394],{217:620,332:621,26:[1,623],333:[1,622],334:[1,624]}),e(nr,[2,114]),e(nr,[2,115]),{13:l,16:d,35:[1,628],60:629,93:[1,627],195:ir,220:625,221:626,224:or,312:h},e(kt,Lt,{211:470,210:632}),e(Ft,[2,28]),{235:[1,633]},{38:[1,634]},{296:635,302:le,303:de,304:pe,305:he},{13:l,16:d,60:178,87:re,93:ne,98:179,99:637,231:ft,240:636,244:638,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},e(A,z,{152:146,150:639,151:640,48:sr,119:sr}),e(tr,[2,324]),{38:[1,641]},{38:[1,642]},e(Zt,[2,384]),e(Zt,[2,108],{211:470,209:643,210:644,13:Lt,16:Lt,35:Lt,195:Lt,219:Lt,224:Lt,312:Lt,34:[1,645]}),e(rr,[2,112]),e(rr,[2,395]),e(rr,[2,391]),e(rr,[2,392]),e(rr,[2,393]),e(nr,[2,116]),e(nr,[2,118]),e(nr,[2,119]),e(ar,[2,398],{222:646}),e(nr,[2,121]),e(nr,[2,122]),{13:l,16:d,60:647,195:[1,648],312:h},{38:[1,649]},e($t,[2,133]),e(ct,[2,171]),{38:[2,180]},{48:[1,650]},{48:[2,424]},{48:[2,425]},e(Xe,[2,69]),e(Xe,[2,326]),e(Gt,[2,82]),e(Gt,[2,83]),e(A,[2,373],{198:651,199:652}),e(A,[2,385]),e(A,[2,386]),{13:l,16:d,38:[2,400],60:629,195:ir,221:654,223:653,224:or,312:h},e(nr,[2,123]),e(nr,[2,124]),e(nr,[2,117]),{235:[1,655]},e(Zt,[2,109]),{13:l,16:d,34:ee,35:vt,39:478,60:178,87:re,93:ne,98:179,200:656,203:476,226:wt,230:475,231:L,243:477,244:177,245:oe,246:se,263:187,265:188,296:183,299:ae,300:ue,301:ce,302:le,303:de,304:pe,305:he,306:fe,307:me,308:ye,309:ge,310:be,311:_e,312:h},{38:[1,657]},{38:[2,401],330:[1,658]},e(er,[2,135]),e(Zt,[2,104],{278:[1,659]}),e(nr,[2,120]),e(ar,[2,399]),e(A,[2,374])],defaultActions:{5:[2,205],6:[2,206],8:[2,204],26:[2,1],27:[2,3],28:[2,216],77:[2,49],86:[2,295],100:[2,252],107:[2,358],220:[2,441],248:[2,462],287:[2,236],288:[2,93],314:[2,410],315:[2,411],407:[2,418],408:[2,419],438:[2,319],439:[2,320],500:[2,465],501:[2,466],505:[2,420],506:[2,421],518:[2,11],519:[2,228],520:[2,12],521:[2,230],528:[2,345],529:[2,346],554:[2,472],558:[2,428],559:[2,429],563:[2,322],568:[2,344],571:[2,349],572:[2,350],582:[2,414],583:[2,415],635:[2,180],637:[2,424],638:[2,425]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,s="",a=0,u=0,c=0,l=2,d=1,p=i.slice.call(arguments,1),h=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);h.setInput(e,f.yy),f.yy.lexer=h,f.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var y=h.yylloc;i.push(y);var g=h.options&&h.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,v,w,O,j,T,S,x,E=function(){var e;return"number"!=typeof(e=h.lex()||d)&&(e=t.symbols_[e]||e),e},A={};;){if(v=r[r.length-1],this.defaultActions[v]?w=this.defaultActions[v]:(null==b&&(b=E()),w=o[v]&&o[v][b]),void 0===w||!w.length||!w[0]){var q="";for(j in x=[],o[v])this.terminals_[j]&&j>l&&x.push("'"+this.terminals_[j]+"'");q=h.showPosition?"Parse error on line "+(a+1)+":\n"+h.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(a+1)+": Unexpected "+(b==d?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(q,{text:h.match,token:this.terminals_[b]||b,line:h.yylineno,loc:y,expected:x})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+b);switch(w[0]){case 1:r.push(b),n.push(h.yytext),i.push(h.yylloc),r.push(w[1]),b=null,_?(b=_,_=null):(u=h.yyleng,s=h.yytext,a=h.yylineno,y=h.yylloc,c>0&&c--);break;case 2:if(T=this.productions_[w[1]][1],A.$=n[n.length-T],A._$={first_line:i[i.length-(T||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(T||1)].first_column,last_column:i[i.length-1].last_column},g&&(A._$.range=[i[i.length-(T||1)].range[0],i[i.length-1].range[1]]),void 0!==(O=this.performAction.apply(A,[s,u,a,f.yy,w[1],n,i].concat(p))))return O;T&&(r=r.slice(0,-1*T*2),n=n.slice(0,-1*T),i=i.slice(0,-1*T)),r.push(this.productions_[w[1]][0]),n.push(A.$),i.push(A._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},cr=r(37).Wildcard,lr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",dr=lr+"type",pr=lr+"nil",hr="http://www.w3.org/2001/XMLSchema#",fr=hr+"integer",mr=hr+"decimal",yr=hr+"double",gr=hr+"boolean",br="",_r="",vr="";function wr(e){return e.toLowerCase()}function Or(e,t){return e.push(t),e}function jr(e,t){return e.push.apply(e,t),e}function Tr(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var i in t)e[i]=t[i];return e}function Sr(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function xr(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z]+:/i.test(e))return e;if(!tn.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(br!==tn.base&&(br=tn.base,_r=br.replace(/[^\/:]*$/,""),vr=br.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return br;case"#":return br+e;case"?":return br.replace(/(?:\?.*)?$/,e);case"/":return vr+e;default:return _r+e}}function Er(e){if(e){var t=e[0];if("?"===t||"$"===t)return tn.factory.variable(e.substr(1))}return e}function Ar(e,t){return{type:"operation",operator:e,args:t||[]}}function qr(e,t){var r={expression:"*"===e?new cr:e};if(t)for(var n in t)r[n]=t[n];return r}function Pr(e,t){return{type:"path",pathType:e,items:t}}function Rr(e,t){for(var r,n=0,i=t.length;n<i&&(r=t[n]);n++)e=Ar(r[0],[e,r[1]]);return e}function Ir(e,t){var r,n=[],i=[],o=e.length,s={};if(!o)return null;for(var a=0;a<o&&(r=e[a]);a++)(r.named?i:n).push(r.iri);return s[t||"from"]={default:n,named:i},s}function Nr(e){return parseInt(e,10)}function Dr(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function kr(e,t){return t&&"NamedNode"!==t.termType&&(t=tn.factory.namedNode(t)),tn.factory.literal(e,t)}function Lr(e,t,r){var n={};return null!=e&&(n.subject=e),null!=t&&(n.predicate=t),null!=r&&(n.object=r),n}function Mr(e){return"string"==typeof e?e.startsWith("e_")?tn.factory.blankNode(e):tn.factory.blankNode("e_"+e):tn.factory.blankNode("g_"+Br++)}var Br=0;tn._resetBlanks=function(){Br=0};var Cr=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Fr={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Qr=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Ur=String.fromCharCode;function Vr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(Cr,(function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return Ur(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<65535?Ur(i):Ur(55296+((i-=65536)>>10),56320+(1023&i))}var o=Fr[n];if(!o)throw new Error;return o}))}catch(e){return""}if(Qr.exec(e))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+e);return e}function zr(e,t,r){var n=[],i=[];return t.forEach((function(t){n.push(Lr(null,e,t.entity)),jr(i,t.triples)})),Sr(n,r||[],i)}function Gr(e){return e.variable?e.variable.value:e.value||e.expression.value}function Hr(e){if(!e)return[];if("aggregate"===e.type)return[e];if("operation"===e.type){const t=[];for(const r of e.args)t.push(...Hr(r));return t}return[]}function Xr(e){const t=new Set,r=function(e){e&&("Variable"===e.termType?t.add(e):"operation"===e.type&&e.args.forEach(r))};return r(e),t}function $r(e,t=1,r=[]){for(const n of e)t>0&&n instanceof Array?$r(n,t-1,r):r.push(n);return r}function Kr(e){return"Variable"===e.termType}function Yr(e){if(e.triples){const t=[];for(const r of e.triples)Kr(r.subject)&&t.push(r.subject.value),Kr(r.predicate)&&t.push(r.predicate.value),Kr(r.object)&&t.push(r.object.value);return t}if(e.patterns){const t=[];for(const r of e.patterns)t.push(...Yr(r));return t}return[]}function Jr(e){if(!tn.sparqlStar)throw new Error("SPARQL* support is not enabled");return e}function Wr(e){for(const t of e){if("graph"===t.type&&"Variable"===t.name.termType)throw new Error("Detected illegal variable in GRAPH");if("bgp"===t.type||"graph"===t.type)for(const e of t.triples)if("Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)throw new Error("Detected illegal variable in BGP")}return e}function Zr(e){for(const t of e)if("bgp"===t.type)for(const e of t.triples)if("BlankNode"===e.subject.termType||"BlankNode"===e.predicate.termType||"BlankNode"===e.object.termType)throw new Error("Detected illegal blank node in BGP");return e}var en={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 316;case 5:return 317;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 320;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 321;case 30:return 140;case 31:return 322;case 32:return 323;case 33:return 117;case 34:return 324;case 35:return 116;case 36:return 325;case 37:return 326;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 327;case 48:return 328;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 329;case 55:return 173;case 56:return 231;case 57:return 235;case 58:return 278;case 59:return 195;case 60:return 330;case 61:return 331;case 62:return 224;case 63:return 333;case 64:return 334;case 65:return 219;case 66:return 226;case 67:return 227;case 68:return 250;case 69:return 254;case 70:return 295;case 71:return 335;case 72:return 336;case 73:return 337;case 74:return 338;case 75:return 339;case 76:return 258;case 77:return 340;case 78:return 273;case 79:return 281;case 80:return 282;case 81:return 275;case 82:return 276;case 83:return 277;case 84:return 341;case 85:return 342;case 86:return 279;case 87:return 344;case 88:return 343;case 89:return 345;case 90:return 284;case 91:return 285;case 92:return 288;case 93:return 290;case 94:return 294;case 95:return 298;case 96:return 301;case 97:return 13;case 98:return 16;case 99:return 312;case 100:return 245;case 101:return 34;case 102:return 297;case 103:return 87;case 104:return 299;case 105:return 300;case 106:return 306;case 107:return 307;case 108:return 308;case 109:return 309;case 110:return 310;case 111:return 311;case 112:return"EXPONENT";case 113:return 302;case 114:return 303;case 115:return 304;case 116:return 305;case 117:return 93;case 118:return 246;case 119:return 6;case 120:return"INVALID";case 121:console.log(t.yytext)}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};function tn(){this.yy={}}return ur.lexer=en,tn.prototype=ur,ur.Parser=tn,new tn}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var i=r(76).readFileSync(r(77).normalize(n[1]),"utf8");return t.parser.parse(i)},r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(this,r(13),r(75)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t){},function(e,t){function r(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var i=t[n];a(i)&&(this._prefixByIri[i]=n,r.push(i))}var o=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+o+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=e.sparqlStar,this._indent=a(e.indent)?e.indent:"  ",this._newline=a(e.newline)?e.newline:"\n",this._explicitDatatype=Boolean(e.explicitDatatype)}r.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=l(e.variables,void 0,(function(e){return u(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+s(e.variable)+")"}),this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=l(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+l(e.group,void 0,(function(e){var t=u(e.expression)?this.toEntity(e.expression):"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+s(e.variable)+")":t}),this)+this._newline),e.having&&(t+="HAVING ("+l(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+l(e.order,void 0,(function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t}),this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),(t=this.baseAndPrefixes(e)+t).trim()},r.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},r.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},r.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},r.prototype.array=function(e){return l(e,this._newline,this.toPattern,this)},r.prototype.bgp=function(e){return this.encodeTriples(e.triples)},r.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r=void 0,n=void 0,i=0;i<e.length;i++){var o=e[i];c(o.subject,r)?c(o.predicate,n)?t.push(","):(n=o.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&t.push("."+this._newline),r=o.subject,n=o.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))),t.push(" ",this.toEntity(o.object))}return t.push("."),t.join("")},r.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},r.prototype.graphs=function(e,t){return t&&0!==t.length?l(t,"",(function(t){return e+this.toEntity(t)+this._newline}),this):""},r.prototype.group=function(e,t){return-1===(e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns)).indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},r.prototype.query=function(e){return this.toQuery(e)},r.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},r.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+s(e.variable)+")"},r.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},r.prototype.union=function(e){return l(e.patterns,this._newline+"UNION"+this._newline,(function(e){return this.group(e,!0)}),this)},r.prototype.minus=function(e){return"MINUS "+this.group(e)},r.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce((function(e,t){for(var r in t)e[r]=!0;return e}),{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+l(e.values,this._newline,(function(e){return"  "+t+l(n,void 0,(function(t){return e[t]?this.toEntity(e[t]):"UNDEF"}),this)+r}),this)+this._newline+"}"},r.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},r.prototype.toExpression=function(e){if(u(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(e.separator?'; SEPARATOR = "'+e.separator.replace(n,i)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+l(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),r=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(u(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+t+" "+(u(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(r[0])+" "+t+"("+(a(r[1])?r[1]:l(r[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(r[0],!0);default:return t+"("+l(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},r.prototype.toEntity=function(e){if(u(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return s(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",r=e.language||"",o=e.datatype;if(e='"'+t.replace(n,i)+'"',r)e+="@"+r;else if(o){if(!this._explicitDatatype)switch(o.value){case"http://www.w3.org/2001/XMLSchema#string":return e;case"http://www.w3.org/2001/XMLSchema#integer":if(/^\d+$/.test(t))return t+" "}e+="^^"+this.encodeIRI(o.value)}return e;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return e.graph&&"DefaultGraph"!==e.graph.termType?"<< GRAPH "+this.toEntity(e.graph)+" { "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" }  >>":"<< "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" >>";default:return this.encodeIRI(e.value)}else{var a=e.items.map(this.toEntity,this),c=e.pathType;switch(c){case"^":case"!":return c+a[0];case"*":case"+":case"?":return"("+a[0]+c+")";default:return"("+a.join(c)+")"}}};var n=/["\\\t\n\r\b\f]/g,i=function(e){return o[e]},o={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function s(e){return"?"+e.value}function a(e){return"string"==typeof e}function u(e){return"string"==typeof e.termType}function c(e,t){if(!e||!u(e))return!1;if(!t||!u(t))return!1;if(e.termType!==t.termType)return!1;switch(e.termType){case"Literal":return e.value===t.value&&e.language===t.language&&c(e.datatype,t.datatype);case"Quad":return c(e.subject,t.subject)&&c(e.predicate,t.predicate)&&c(e.object,t.object)&&c(e.graph,t.graph);default:return e.value===t.value}}function l(e,t,r,n){return e.map(r,n).join(a(t)?t:" ")}r.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},r.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+(e.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},r.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports=function(e={}){return{stringify:function(t){var n=Object.create(e);return n.prefixes=t.prefixes,new r(n).toQuery(t)},createGenerator:function(){return new r(e)}}}},function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSparqlJs=t.toSparql=void 0;const n=r(81),i=r(10),o=r(11),s=r(17),a=r(12),u=r(5).Generator,c=r(5).Wildcard,l=i.types,d=i.expressionTypes;let p;const h=new o.default;function f(e){m();let t=y(e=function(e){return E(e,{})}(e));return"group"===t.type?t.patterns[0]:t}function m(){p={project:!1,extend:[],group:[],aggregates:[],order:[]}}function y(e){switch(e.type!==l.EXTEND&&e.type!==l.ORDER_BY&&e.type!==l.GRAPH&&(p.project=!1),e.type){case l.EXPRESSION:return g(e);case l.ASK:return j(e,l.ASK);case l.BGP:return function(e){let t=e.patterns.map(w);return 0===t.length?null:{type:"bgp",triples:t}}(e);case l.CONSTRUCT:return function(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(w),where:s.default.flatten([y(e.input)])}}(e);case l.DESCRIBE:return j(e,l.DESCRIBE);case l.DISTINCT:return function(e){let t=y(e.input);return t.patterns[0].distinct=!0,t}(e);case l.EXTEND:return function(e){if(p.project)return p.extend.push(e),y(e.input);return s.default.flatten([y(e.input),{type:"bind",variable:e.variable,expression:g(e.expression)}])}(e);case l.FROM:return function(e){let t=y(e.input);return t.patterns[0].from={default:e.default,named:e.named},t}(e);case l.FILTER:return function(e){return{type:"group",patterns:s.default.flatten([y(e.input),{type:"filter",expression:g(e.expression)}])}}(e);case l.GRAPH:return function(e){return{type:"graph",patterns:s.default.flatten([y(e.input)]),name:e.name}}(e);case l.GROUP:return function(e){let t=y(e.input),r=e.aggregates.map(v);return p.aggregates.push(...r),p.group.push(...e.variables),t}(e);case l.JOIN:return function(e){return s.default.flatten([y(e.left),y(e.right)]).reduce((e,t)=>("bgp"!==t.type||0==e.length||"bgp"!==e[e.length-1].type?e.push(t):e[e.length-1].triples.push(...t.triples),e),[])}(e);case l.LEFT_JOIN:return function(e){let t={type:"optional",patterns:[y(e.right)]};e.expression&&t.patterns.push({type:"filter",expression:g(e.expression)});return t.patterns=s.default.flatten(t.patterns),s.default.flatten([y(e.left),t])}(e);case l.MINUS:return function(e){let t=y(e.right);"group"===t.type&&(t=t.patterns);Array.isArray(t)||(t=[t]);return s.default.flatten([y(e.left),{type:"minus",patterns:t}])}(e);case l.ORDER_BY:return function(e){return p.order.push(...e.expressions),y(e.input)}(e);case l.PATH:return function(e){return{type:"bgp",triples:[{subject:e.subject,predicate:b(e.predicate),object:e.object}]}}(e);case l.PATTERN:return w(e);case l.PROJECT:return j(e,l.PROJECT);case l.REDUCED:return function(e){let t=y(e.input);return t.patterns[0].reduced=!0,t}(e);case l.SERVICE:return function(e){let t=y(e.input);"group"===t.type&&(t=t.patterns);Array.isArray(t)||(t=[t]);return{type:"service",name:e.name,silent:e.silent,patterns:t}}(e);case l.SLICE:return function(e){let t=y(e.input),r=t;t.type&&"group"===t.type&&(r=t.patterns[0]);0!==e.start&&(r.offset=e.start);void 0!==e.length&&(r.limit=e.length);return t}(e);case l.UNION:return function(e){return{type:"union",patterns:s.default.flatten([y(e.left),y(e.right)])}}(e);case l.VALUES:return function(e){return{type:"values",values:e.bindings.map(t=>{let r={};for(let n of e.variables){let e="?"+n.value;t[e]?r[e]=t[e]:r[e]=void 0}return r})}}(e);case l.COMPOSITE_UPDATE:return function(e){return{prefixes:{},type:"update",updates:e.updates.map(e=>y(e).updates[0])}}(e);case l.DELETE_INSERT:return function(e){let t=e.where,r=void 0;if(t&&t.type===l.FROM){let n=e.where;t=n.input,r={default:n.default,named:n.named}}const i=[{updateType:"insertdelete",delete:x(e.delete),insert:x(e.insert)}];r&&(i[0].using=r);if(!t||t.type===l.BGP&&0===t.patterns.length)i[0].where=[];else{const e={};let r=y(E(t,e));"group"===r.type?i[0].where=r.patterns:i[0].where=[r];const n=Object.keys(e);if(n.length>0){if(1!==n.length)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");""!==e[n[0]].graph.value&&(i[0].where=[{type:"graph",patterns:i[0].where,name:e[n[0]].graph}])}}e.delete||e.where?e.insert||e.where?!e.insert&&e.where&&"bgp"===e.where.type&&n.isomorphic(e.delete,e.where.patterns)&&(delete i[0].where,i[0].updateType="deletewhere"):(delete i[0].insert,delete i[0].where,e.delete.some(e=>"Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)?i[0].updateType="deletewhere":i[0].updateType="delete"):(i[0].updateType="insert",delete i[0].delete,delete i[0].where);return{prefixes:{},type:"update",updates:i}}(e);case l.LOAD:return function(e){const t=[{type:"load",silent:Boolean(e.silent),source:e.source}];e.destination&&(t[0].destination=e.destination);return{prefixes:{},type:"update",updates:t}}(e);case l.CLEAR:return function(e){return T(e,"clear")}(e);case l.CREATE:return function(e){return T(e,"create")}(e);case l.DROP:return function(e){return T(e,"drop")}(e);case l.ADD:return function(e){return S(e,"add")}(e);case l.MOVE:return function(e){return S(e,"move")}(e);case l.COPY:return function(e){return S(e,"copy")}(e)}throw new Error("Unknown Operation type "+e.type)}function g(e){switch(e.expressionType){case d.AGGREGATE:return function(e){let t={expression:g(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};e.separator&&(t.separator=e.separator);return t}(e);case d.EXISTENCE:return function(e){return{type:"operation",operator:e.not?"notexists":"exists",args:s.default.flatten([y(e.input)])}}(e);case d.NAMED:return function(e){return{type:"functionCall",function:e.name,args:e.args.map(g)}}(e);case d.OPERATOR:return function(e){if("desc"===e.operator){let t={expression:g(e.args[0]),descending:!0};return t}let t={type:"operation",operator:e.operator,args:e.args.map(g)};"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)]));return t}(e);case d.TERM:return function(e){return e.term}(e);case d.WILDCARD:return function(e){return e.wildcard}(e)}throw new Error("Unknown Expression Operation type "+e.expressionType)}function b(e){switch(e.type){case l.ALT:return function(e){let t=b(e.left),r=b(e.right);if("!"===t.pathType&&"!"===r.pathType)return{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]};return{type:"path",pathType:"|",items:[t,r]}}(e);case l.INV:return function(e){if(e.path.type===l.NPS){let t=e.path.iris.map(e=>({type:"path",pathType:"^",items:[e]}));return t.length<=1?{type:"path",pathType:"!",items:t}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t}]}}return{type:"path",pathType:"^",items:[b(e.path)]}}(e);case l.LINK:return function(e){return e.iri}(e);case l.NPS:return function(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}(e);case l.ONE_OR_MORE_PATH:return function(e){return{type:"path",pathType:"+",items:[b(e.path)]}}(e);case l.SEQ:return function(e){return{type:"path",pathType:"/",items:[b(e.left),b(e.right)]}}(e);case l.ZERO_OR_MORE_PATH:return function(e){return{type:"path",pathType:"*",items:[b(e.path)]}}(e);case l.ZERO_OR_ONE_PATH:return function(e){return{type:"path",pathType:"?",items:[b(e.path)]}}(e)}throw new Error("Unknown Path type "+e.type)}function _(e){return a.termToString(e)}function v(e){return e}function w(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function O(e,t){let r=s.default.isTerm(e)?_(e):e;if("string"==typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map(e=>O(e,t));else for(let r of Object.keys(e))e[r]=O(e[r],t);return e}function j(e,t){let r={type:"query",prefixes:{}};t===l.PROJECT?(r.queryType="SELECT",r.variables=e.variables):t===l.ASK?r.queryType="ASK":t===l.DESCRIBE&&(r.queryType="DESCRIBE",r.variables=e.terms);let n=p.extend,i=p.group,o=p.aggregates,a=p.order;m(),p.project=!0;let u=s.default.flatten([y(e.input)]);1===u.length&&"group"===u[0].type&&(u=u[0].patterns),r.where=u;let d={};for(let e of p.aggregates)d[_(e.variable)]=g(e);let h={};for(let e=p.extend.length-1;e>=0;--e){let t=p.extend[e];h[_(t.variable)]=O(g(t.expression),d)}if(p.group.length>0&&(r.group=p.group.map(e=>{let t=_(e);if(h[t]){let r=h[t];return delete h[t],{variable:e,expression:r}}return{expression:e}})),p.order.length>0&&(r.order=p.order.map(y).map(e=>e.descending?e:{expression:e})),r.variables&&(r.variables=r.variables.map(e=>{let t=_(e);return h[t]?{variable:e,expression:h[t]}:e}),0===r.variables.length&&(r.variables=[new c])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){let e=r.where[r.where.length-1];(function e(t,r){return s.default.isTerm(t)?r.indexOf(_(t))>=0:Array.isArray(t)?t.some(t=>e(t,r)):t===Object(t)?Object.keys(t).some(n=>e(t[n],r)):r.indexOf(t)>=0})(e,Object.keys(d))&&(r.having=s.default.flatten([O(e.expression,d)]),r.where.splice(-1))}return p.extend=n,p.group=i,p.aggregates=o,p.order=a,r={type:"group",patterns:[r]},r}function T(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return"DEFAULT"===e.source?r[0].graph={default:!0}:"NAMED"===e.source?r[0].graph={named:!0}:"ALL"===e.source?r[0].graph={all:!0}:r[0].graph={type:"graph",name:e.source},{prefixes:{},type:"update",updates:r}}function S(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return r[0].source="DEFAULT"===e.source?{type:"graph",default:!0}:{type:"graph",name:e.source},r[0].destination="DEFAULT"===e.destination?{type:"graph",default:!0}:{type:"graph",name:e.destination},{prefixes:{},type:"update",updates:r}}function x(e){if(!e)return[];const t={};return e.forEach(e=>{const r=e.graph.value;t[r]||(t[r]=[]),t[r].push(e)}),Object.keys(t).map(e=>""===e?{type:"bgp",triples:t[e].map(w)}:{type:"graph",triples:t[e].map(w),name:t[e][0].graph})}function E(e,t){if(Array.isArray(e))return e.map(e=>E(e,t));if(!e.type)return e;if(e.type===l.DELETE_INSERT)return e;if((e.type===l.PATTERN||e.type===l.PATH)&&e.graph)return t[e.graph.value]||(t[e.graph.value]={graph:e.graph,values:[]}),t[e.graph.value].values.push(e),e;const r={},n={},i={};for(let t of Object.keys(e)){const o={};r[t]=E(e[t],o);const s=Object.keys(o);if(s.length>1){let e=A(o[s[0]].values);for(let t=1;t<s.length;++t){const r=A(o[s[t]].values);e=h.createJoin(e,r)}return s.map(e=>delete o[e]),e}if(1===s.length){const e=o[s[0]].graph;n[t]=e,i[e.value]=e}}const o=Object.keys(i);if(o.length>0)if(1===o.length&&e.type!==l.PROJECT)t[o[0]]={graph:i[o[0]],values:[r]};else for(let e of Object.keys(n))n[e].value.length>0&&(r[e]=h.createGraph(r[e],n[e]));return r}function A(e){const t=h.createBgp(e),r=e[0].graph;return 0===r.value.length?t:h.createGraph(t,r)}t.toSparql=function(e,t={}){return new u(t).stringify(f(e))},t.toSparqlJs=f},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTermGrounded=t.termToSignature=t.quadToSignature=t.sha1hex=t.hashTerm=t.hashTerms=t.getGraphBlankNodes=t.uniqGraph=t.deindexGraph=t.indexGraph=t.getQuadsWithoutBlankNodes=t.getQuadsWithBlankNodes=t.hasValue=t.hashValues=t.getBijectionInner=t.getBijection=t.isomorphic=void 0;const n=r(83),i=r(12),o=r(90);function s(e,t){const r=h(p(e)),n=h(p(t));if(Object.keys(r).length!==Object.keys(n).length)return null;for(const e in r)if(r[e]!==n[e])return null;return a(m(d(e)),m(d(t)),y(e),y(t))}function a(e,t,r,n,o,s){o||(o={}),s||(s={});const[d,p]=g(e,r,o),[h,f]=g(t,n,s);if(Object.keys(d).length!==Object.keys(h).length)return null;for(const e in d)if(!l(h,d[e]))return null;let m={};for(const e of r){const t=i.termToString(e),r=p[t];for(const e in f)if(f[e]===r){m[t]=e,delete f[e];break}}if(!u(Object.keys(m).sort(),r.map(i.termToString).sort())||!u(c(m).sort(),n.map(i.termToString).sort())){m=null;for(const o of r){const s=i.termToString(o);if(!d[s])for(const o of n){const u=i.termToString(o);if(!h[u]&&p[s]===f[u]){const i=_(s);m=a(e,t,r,n,Object.assign(Object.assign({},d),{[s]:i}),Object.assign(Object.assign({},h),{[u]:i}))}}}}return m}function u(e,t){if(e.length!==t.length)return!1;for(let r=e.length;r--;)if(e[r]!==t[r])return!1;return!0}function c(e){const t=[];for(const r in e)t.push(e[r]);return t}function l(e,t){for(const r in e)if(e[r]===t)return!0;return!1}function d(e){return e.filter(e=>o.someTerms(e,e=>"BlankNode"===e.termType||"Quad"===e.termType&&o.getTermsNested(e).some(e=>"BlankNode"===e.termType)))}function p(e){return e.filter(e=>o.everyTerms(e,e=>"BlankNode"!==e.termType&&!("Quad"===e.termType&&o.getTermsNested(e).some(e=>"BlankNode"===e.termType))))}function h(e){const t={};for(const r of e)t[JSON.stringify(i.quadToStringQuad(r))]=!0;return t}function f(e){return Object.keys(e).map(e=>i.stringQuadToQuad(JSON.parse(e)))}function m(e){return f(h(e))}function y(e){return o.uniqTerms(e.map(e=>o.getBlankNodes(o.getTermsNested(e))).reduce((e,t)=>e.concat(t),[]))}function g(e,t,r){const n=Object.assign({},r),o={};let s=!0;for(;s;){const r=Object.keys(n).length;for(const r of t){const t=i.termToString(r);if(!n[t]){const[i,s]=b(r,e,n);i&&(n[t]=s),o[t]=s}}const a={};for(const e in o){const t=o[e];void 0===a[t]?a[t]=e:a[t]=!1}for(const e in a){const t=a[e];t&&(n[t]=e)}s=r!==Object.keys(n).length}return[n,o]}function b(e,t,r){const n=[];let i=!0;for(const s of t){const t=o.getTermsNested(s);if(t.some(t=>t.equals(e))){n.push(v(s,r,e));for(const n of t)O(n,r)||n.equals(e)||(i=!1)}}return[i,_(n.sort().join(""))]}function _(e){return n.sha1().update(e).digest("hex")}function v(e,t,r){return o.getTerms(e).map(e=>w(e,t,r)).join("|")}function w(e,t,r){return e.equals(r)?"@self":"BlankNode"===e.termType?t[i.termToString(e)]||"@blank":"Quad"===e.termType?`<${v(e,t,r)}>`:i.termToString(e)}function O(e,t){return"BlankNode"!==e.termType&&!("Quad"===e.termType&&o.getTermsNested(e).some(e=>!O(e,t)))||!!t[i.termToString(e)]}t.isomorphic=function(e,t){return!!s(e,t)},t.getBijection=s,t.getBijectionInner=a,t.hashValues=c,t.hasValue=l,t.getQuadsWithBlankNodes=d,t.getQuadsWithoutBlankNodes=p,t.indexGraph=h,t.deindexGraph=f,t.uniqGraph=m,t.getGraphBlankNodes=y,t.hashTerms=g,t.hashTerm=b,t.sha1hex=_,t.quadToSignature=v,t.termToSignature=w,t.isTermGrounded=O},function(e,t,r){var n=t;n.utils=r(0),n.common=r(7),n.sha=r(84),n.ripemd=r(88),n.hmac=r(89),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(e,t,r){"use strict";t.sha1=r(85),t.sha224=r(86),t.sha256=r(39),t.sha384=r(87),t.sha512=r(40)},function(e,t,r){"use strict";var n=r(0),i=r(7),o=r(38),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(p,l),e.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],p=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),m=u(s(i,5),c(f,o,l,p),h,r[n],d[f]);h=p,p=l,l=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],p),this.h[4]=a(this.h[4],h)},p.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(0),i=r(39);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,r){"use strict";var n=r(0),i=r(40);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,r){"use strict";var n=r(0),i=r(7),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function p(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,c),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],b=r,_=n,v=i,w=c,O=l,j=0;j<80;j++){var T=s(o(u(r,d(j,n,i,c),e[f[j]+t],p(j)),y[j]),l);r=l,l=c,c=o(i,10),i=n,n=T,T=s(o(u(b,d(79-j,_,v,w),e[m[j]+t],h(j)),g[j]),O),b=O,O=w,w=o(v,10),v=_,_=T}T=a(this.h[1],i,w),this.h[1]=a(this.h[2],c,O),this.h[2]=a(this.h[3],l,b),this.h[3]=a(this.h[4],r,_),this.h[4]=a(this.h[0],n,v),this.h[0]=T},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,r){"use strict";var n=r(0),i=r(6);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRIPLE_TERM_NAMES=t.someTerms=t.everyTerms=t.reduceTerms=t.mapTerms=t.filterQuadTermNames=t.filterTerms=t.forEachTerms=t.collectNamedTerms=t.getNamedTerms=t.getTermsNested=t.getTerms=t.QUAD_TERM_NAMES=t.matchPatternComplete=t.matchPattern=t.getDefaultGraphs=t.getVariables=t.getLiterals=t.getBlankNodes=t.getNamedNodes=t.getTermsOfType=t.uniqTerms=t.TERM_TYPES=void 0;const n=r(91);Object.defineProperty(t,"collectNamedTerms",{enumerable:!0,get:function(){return n.collectNamedTerms}}),Object.defineProperty(t,"everyTerms",{enumerable:!0,get:function(){return n.everyTerms}}),Object.defineProperty(t,"filterQuadTermNames",{enumerable:!0,get:function(){return n.filterQuadTermNames}}),Object.defineProperty(t,"filterTerms",{enumerable:!0,get:function(){return n.filterTerms}}),Object.defineProperty(t,"forEachTerms",{enumerable:!0,get:function(){return n.forEachTerms}}),Object.defineProperty(t,"getNamedTerms",{enumerable:!0,get:function(){return n.getNamedTerms}}),Object.defineProperty(t,"getTerms",{enumerable:!0,get:function(){return n.getTerms}}),Object.defineProperty(t,"getTermsNested",{enumerable:!0,get:function(){return n.getTermsNested}}),Object.defineProperty(t,"mapTerms",{enumerable:!0,get:function(){return n.mapTerms}}),Object.defineProperty(t,"matchPattern",{enumerable:!0,get:function(){return n.matchPattern}}),Object.defineProperty(t,"matchPatternComplete",{enumerable:!0,get:function(){return n.matchPatternComplete}}),Object.defineProperty(t,"QUAD_TERM_NAMES",{enumerable:!0,get:function(){return n.QUAD_TERM_NAMES}}),Object.defineProperty(t,"reduceTerms",{enumerable:!0,get:function(){return n.reduceTerms}}),Object.defineProperty(t,"someTerms",{enumerable:!0,get:function(){return n.someTerms}}),Object.defineProperty(t,"TRIPLE_TERM_NAMES",{enumerable:!0,get:function(){return n.TRIPLE_TERM_NAMES}});const i=r(92);Object.defineProperty(t,"getBlankNodes",{enumerable:!0,get:function(){return i.getBlankNodes}}),Object.defineProperty(t,"getDefaultGraphs",{enumerable:!0,get:function(){return i.getDefaultGraphs}}),Object.defineProperty(t,"getLiterals",{enumerable:!0,get:function(){return i.getLiterals}}),Object.defineProperty(t,"getNamedNodes",{enumerable:!0,get:function(){return i.getNamedNodes}}),Object.defineProperty(t,"getTermsOfType",{enumerable:!0,get:function(){return i.getTermsOfType}}),Object.defineProperty(t,"getVariables",{enumerable:!0,get:function(){return i.getVariables}}),Object.defineProperty(t,"TERM_TYPES",{enumerable:!0,get:function(){return i.TERM_TYPES}}),Object.defineProperty(t,"uniqTerms",{enumerable:!0,get:function(){return i.uniqTerms}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchPatternComplete=t.matchPattern=t.matchTerm=t.someTerms=t.everyTerms=t.reduceTerms=t.mapTerms=t.filterQuadTermNames=t.filterTerms=t.forEachTerms=t.collectNamedTerms=t.getNamedTerms=t.getTermsNested=t.getTerms=t.TRIPLE_TERM_NAMES=t.QUAD_TERM_NAMES=void 0;const n=new(r(4).DataFactory);function i(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function o(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&a(e,t)||t.equals(e)}function s(e,t,r,n,i){return o(e.subject,t)&&o(e.predicate,r)&&o(e.object,n)&&o(e.graph,i)}function a(e,t){return s(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=i,t.getTermsNested=function e(t,r){const n=[];for(const o of i(t,r))"Quad"===o.termType?e(o,r).forEach(e=>n.push(e)):n.push(o);return n},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const i={};return e.forEach(e=>i[e.key]=e.value),t&&(i.subject=i.subject||t("subject"),i.predicate=i.predicate||t("predicate"),i.object=i.object||t("object"),i.graph=i.graph||t("graph")),(r||n).quad(i.subject,i.predicate,i.object,i.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.filterTerms=function(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r},t.filterQuadTermNames=function(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r},t.mapTerms=function(e,t,r){return(r||n).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.reduceTerms=function(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")},t.everyTerms=function(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")},t.matchTerm=o,t.matchPattern=s,t.matchPatternComplete=a},function(e,t,r){"use strict";function n(e,t){return e.filter(e=>e.termType===t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getQuads=t.getDefaultGraphs=t.getVariables=t.getLiterals=t.getBlankNodes=t.getNamedNodes=t.getTermsOfType=t.uniqTerms=t.TERM_TYPES=void 0,t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=function(e){return r(93)(e,(e,t)=>e.equals(t))},t.getTermsOfType=n,t.getNamedNodes=function(e){return n(e,"NamedNode")},t.getBlankNodes=function(e){return n(e,"BlankNode")},t.getLiterals=function(e){return n(e,"Literal")},t.getVariables=function(e){return n(e,"Variable")},t.getDefaultGraphs=function(e){return n(e,"DefaultGraph")},t.getQuads=function(e){return n(e,"Quad")}},function(e,t,r){(function(t){var r=/^\[object .+?Constructor\]$/,n="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();function s(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,u,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function a(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function u(e){return e!=e}function c(e,t){return e.has(t)}function l(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var d,p=Array.prototype,h=Function.prototype,f=Object.prototype,m=o["__core-js_shared__"],y=(d=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",g=h.toString,b=f.hasOwnProperty,_=f.toString,v=RegExp("^"+g.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=p.splice,O=N(o,"Map"),j=N(o,"Set"),T=N(Object,"create");function S(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function E(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e){var t=-1,r=e?e.length:0;for(this.__data__=new E;++t<r;)this.add(e[t])}function q(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function P(e){return!(!D(e)||(t=e,y&&y in t))&&(function(e){var t=D(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:r).test(function(e){if(null!=e){try{return g.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}S.prototype.clear=function(){this.__data__=T?T(null):{}},S.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},S.prototype.get=function(e){var t=this.__data__;if(T){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return b.call(t,e)?t[e]:void 0},S.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:b.call(t,e)},S.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?"__lodash_hash_undefined__":t,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(e){var t=this.__data__,r=q(t,e);return!(r<0)&&(r==t.length-1?t.pop():w.call(t,r,1),!0)},x.prototype.get=function(e){var t=this.__data__,r=q(t,e);return r<0?void 0:t[r][1]},x.prototype.has=function(e){return q(this.__data__,e)>-1},x.prototype.set=function(e,t){var r=this.__data__,n=q(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},E.prototype.clear=function(){this.__data__={hash:new S,map:new(O||x),string:new S}},E.prototype.delete=function(e){return I(this,e).delete(e)},E.prototype.get=function(e){return I(this,e).get(e)},E.prototype.has=function(e){return I(this,e).has(e)},E.prototype.set=function(e,t){return I(this,e).set(e,t),this},A.prototype.add=A.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},A.prototype.has=function(e){return this.__data__.has(e)};var R=j&&1/l(new j([,-0]))[1]==1/0?function(e){return new j(e)}:function(){};function I(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function N(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return P(r)?r:void 0}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,t){return e&&e.length?function(e,t,r){var n=-1,i=s,o=e.length,u=!0,d=[],p=d;if(r)u=!1,i=a;else if(o>=200){var h=t?null:R(e);if(h)return l(h);u=!1,i=c,p=new A}else p=t?[]:d;e:for(;++n<o;){var f=e[n],m=t?t(f):f;if(f=r||0!==f?f:0,u&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue e;t&&p.push(m),d.push(f)}else i(p,m,r)||(p!==d&&p.push(m),d.push(f))}return d}(e,void 0,t):[]}}).call(this,r(1))},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"defaultGraphInstance",(function(){return d})),r.d(n,"namedNode",(function(){return p})),r.d(n,"blankNode",(function(){return h})),r.d(n,"literal",(function(){return f})),r.d(n,"defaultGraph",(function(){return m})),r.d(n,"variable",(function(){return y})),r.d(n,"quad",(function(){return g})),r.d(n,"triple",(function(){return b}));var i=r(41);function o(e){this.value=e||"b"+ ++o.nextId}function s(){this.value=""}function a(e){this.value=e}function u(e,t,r){this.value=e,this.datatype=u.stringDatatype,this.language="",t?(this.language=t,this.datatype=u.langStringDatatype):r&&(this.datatype=r)}function c(e,t,r,n){this.subject=e,this.predicate=t,this.object=r,this.graph=n||new s}function l(e){this.value=e}o.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},o.prototype.termType="BlankNode",o.nextId=0,s.prototype.equals=function(e){return!!e&&e.termType===this.termType},s.prototype.termType="DefaultGraph",a.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},a.prototype.termType="NamedNode",u.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},u.prototype.termType="Literal",u.langStringDatatype=new a("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),u.stringDatatype=new a("http://www.w3.org/2001/XMLSchema#string"),c.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},l.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},l.prototype.termType="Variable";const d=new s;function p(e){return new a(e)}function h(e){return new o(e)}function f(e,t){return"string"==typeof t?-1===t.indexOf(":")?new u(e,t):new u(e,null,p(t)):new u(e,null,t)}function m(){return d}function y(e){return new l(e)}function g(e,t,r,n){return new c(e,t,r,n||d)}function b(e,t,r){return g(e,t,r)}var _=r(43),v=r.n(_),w=r(44);const O=new i.Quadstore({dataFactory:n,backend:v()("quadstore"),comunica:Object(w.newEngine)()});t.default=O},function(e,t,r){"use strict";r.r(t),r.d(t,"nanoid",(function(){return a})),r.d(t,"customAlphabet",(function(){return s})),r.d(t,"customRandom",(function(){return o})),r.d(t,"urlAlphabet",(function(){return n})),r.d(t,"random",(function(){return i}));let n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let i=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return()=>{let o="";for(;;){let s=r(i),a=i;for(;a--;)if(o+=e[s[a]&n]||"",o.length===t)return o}}},s=(e,t)=>o(e,t,i),a=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let n=63&r[e];t+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return t}}]).default;